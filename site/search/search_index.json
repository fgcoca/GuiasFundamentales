{"config":{"lang":["es"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Gu\u00edas fundamentales","text":"<p>En esta web vamos a encontrar diversas gu\u00edas para iniciarnos en placas como Keyestudio UNO, micro:bit, ESP32 micro:STEAMakers, ESP32STEAMakers y otras.</p> <p>El formato que vamos a seguir ser\u00e1:</p> <ul> <li>Dar toda la informaci\u00f3n necesaria para comenzar con la placa o robot.</li> <li>Listar el material necesario para realizar todas las actividades.</li> </ul> <p> Shield Imagina TdR STEAM Placa Keyestudio UNO Placa ESP32 STEAMakers Placa ESP32 micro:STEAMakers Robot CoCube Sensor de visi\u00f3n IA Sentry2 Placa ED1 y Robot Fantastic <p></p>"},{"location":"CO2/","title":"Conceptos sobre CO2 y VOC","text":"<p>En general vamos a dar unas pautas de lo que son, por que son perjudiciales para la salud, que valores podemos tomar como referencia para determinar la calidad del aire y sus fuentes principales de emisi\u00f3n en entornos de trabajo no industriales (oficinas, locutorios, etc) y aulas escolares. Veremos al final el sensor que vamos a usar y algunas cosas interesantes sobre el mismo.</p>"},{"location":"CO2/#sobre-el-co2","title":"Sobre el CO2","text":"<p>El di\u00f3xido de carbono es un gas inodoro e incoloro. Bajo presi\u00f3n puede encontrarse en estado l\u00edquido o estado s\u00f3lido (hielo seco).</p> <p>En el enlace podemos encontrar mas definiciones de t\u00e9rminos usuales dadas por el Departamento de Salud de New Jersey.</p>"},{"location":"CO2/#necesidad-de-vigilar-los-niveles-de-co2","title":"Necesidad de vigilar los niveles de CO2","text":"<p>De manera muy resumida diremos que al respirar aire con mucho CO2, aumenta su concentraci\u00f3n en sangre, baja el pH de la misma, y esto dispara la sensaci\u00f3n de asfixia.</p> <p>En la p\u00e1gina 8 de la Ficha T\u00e9cnica de Seguridad n\u00famero 300000000020 se indican claramente los efecto perjudiciales del CO2 que relacionamos a continuaci\u00f3n.</p> <p>Efectos debido a la inhalaci\u00f3n:</p> <ul> <li>Una concentraci\u00f3n de CO2 superior o igual al 10% puede causar p\u00e9rdida de consciencia o muerte.</li> <li>El bi\u00f3xido de carbono tiene la capacidad de provocar la muerte, incluso si se mantienen los niveles normales de ox\u00edgeno (20 a 21%).</li> <li>El bi\u00f3xido de carbono es fisiol\u00f3gicamente activo, afecta la circulaci\u00f3n y la respiraci\u00f3n.</li> <li>A concentraciones de 2 a 10%, el bi\u00f3xido de carbono puede ocasionar n\u00e1usea, mareo, dolor de cabeza, confusi\u00f3n, aumento de la presi\u00f3n arterial y la frecuencia respiratoria.</li> <li>A elevadas concentraciones puede causar asfixia.</li> <li>Los s\u00edntomas pueden incluir la p\u00e9rdida de la consciencia o de la movilidad.</li> <li>La v\u00edctima puede no haberse dado cuenta de la asfixia. La asfixia puede causar la inconsciencia tan inadvertida y r\u00e1pidamente que la v\u00edctima puede ser incapaz de protegerse.</li> </ul> <p>S\u00edntomas:</p> <ul> <li>V\u00e9rtigo.</li> <li>Salivaci\u00f3n.</li> <li>N\u00e1usea.</li> <li>V\u00f3mitos.</li> <li>P\u00e9rdida de movilidad/consciencia.</li> <li>Escalofr\u00edos.</li> <li>Sudor.</li> <li>Visi\u00f3n borrosa.</li> <li>Dolor de cabeza.</li> <li>Aumento de pulsaciones.</li> <li>Insuficiencia respiratoria.</li> <li>Respiraci\u00f3n r\u00e1pida.</li> </ul> <p>Toxicidad aguda por inhalaci\u00f3n:</p> <ul> <li>Un nivel de CO2 del 5% act\u00faa de manera sin\u00e9rgica e incrementa la toxicidad de otros gases (CO, NO2).</li> <li>El CO2 incrementa la producci\u00f3n de carboxihemoglobina o metahemoglobina ocasionada por estos gases, probablemente debido a los efectos estimulantes del bi\u00f3xido de carbono en los sistemas respiratorio y circulatorio.</li> </ul> <p>Podemos consultar mas datos sobre el CO2 en la Ficha de seguridad oficial.</p> <p>En la entrada Di\u00f3xido de carbono del Instituto para la Salud Geoambiental podemos leer:</p> <p>Efectos en la salud:</p> <p>El principal efecto que produce el CO2 es la asfixia por desplazamiento del ox\u00edgeno, pero esto se produce por concentraciones muy altas capaces de desplazar el ox\u00edgeno y reducir su concentraci\u00f3n por debajo del 20%. En concentraciones altas, cercanas a la 30.000 ppm, puede causar dolores de cabeza, falta de concentraci\u00f3n, somnolencia, mareos y problemas respiratorios. En entornos laborales, como oficinas, se comienzan a tener quejas de olores a partir de las 800-1000 ppm.</p> <p>Colegios y CO2</p> <p>Es importante se\u00f1alar que las personas con problemas de asma o SQM deben proveerse de un aire con bajas concentraciones de CO2.</p> <p>Vamos a considerar solamente, y a efectos de estas notas, la \u00faltima reglamentaci\u00f3n RITE sin referirnos al RITE o NTE anteriores. C\u00f3mo se indica mas abajo el RITE, o Reglamento de Instalaciones T\u00e9rmicas en los Edificios y sus IT (Instrucciones T\u00e9cnicas) contempla que el nivel de CO2 aconsejable en el interior de edificios, seg\u00fan los estudios y normas de referencia, se recomienda que se mantenga en niveles entre las 400 ppm y las 800 ppm. Teniendo en cuenta que el RITE se publica en su primera versi\u00f3n por el Real Decreto 1027/2007, de 20 de julio, por el que se aprueba el Reglamento de Instalaciones T\u00e9rmicas en los Edificios (BOE 29/08/2007) y que tiene varias correcciones de errores y modificado de art\u00edculos hasta su Versi\u00f3n consolidada del Real Decreto 1027/2007, de 20 de julio por el que se aprueba el Reglamento de instalaciones t\u00e9rmicas en los edificios es muy posible que la mayor\u00eda de los centros educativos de construcci\u00f3n anterior a estas fechas no tengan adecuadas sus instalaciones para cumplir esta reglamentaci\u00f3n, cosa que por otra parte ser\u00eda muy deseable y que de seguro se habr\u00eda logrado con una normativa espec\u00edfica para estos locales.</p> <p>Un grupo a tener en cuenta especialmente son los ni\u00f1os en los colegios. En Espa\u00f1a no hay normativa espec\u00edfica que regule el nivel de CO2 en los colegios, como si lo tienen por ejemplo en Francia, y es bien conocida la relaci\u00f3n entre el bajo rendimiento escolar y los altos niveles de CO2. Adem\u00e1s los ni\u00f1os debido a su metabolismo y actividad producen mucho m\u00e1s CO2 que los adultos.</p> <p>A ra\u00edz de la pandemia, que a d\u00eda de hoy (mayo de 2021) nos sigue acompa\u00f1ando se han publicado multitud de gu\u00edas y recomendaciones para indicar la necesidad de ventilaci\u00f3n en las aulas, que con las medidas anti-covid establecidas en los centros y el gran compromiso adquirido por todo el personal relacionado con la vida de los centros y el propio alumnado, hemos de decir que los centros educativos han sido capaces de mantener un nivel de contagios que ha permitido mantenerlos en funcionamiento. A t\u00edtulo de ejemplo tenemos la Gu\u00eda para ventilaci\u00f3n en aulas del Instituto de Diagn\u00f3stico Ambiental y Estudios del Agua, IDAEA-CSIC, Mesura en su VERSI\u00d3N 3 de 6 de noviembre de 2020.</p> <p>Principales Fuentes:</p> <p>La principal fuente en ambientes interiores es la respiraci\u00f3n humana. Se deben considerar otras posibles fuentes debidas a combusti\u00f3n en casos de altos niveles de concentraci\u00f3n.</p> <p>Niveles habituales:</p> <p>Los niveles habituales que podamos encontrar en un ambiente interior estar\u00e1 relacionado con las diferentes variables que afectan a este factor como son: Niveles en aire exterior, fuentes interiores, niveles de ocupaci\u00f3n y tasas de ventilaci\u00f3n.</p> <p>En la legislaci\u00f3n existente no hay un valor concreto que se d\u00e9 como bueno. Existen diferentes recomendaciones y valores l\u00edmite ocupacionales. En el RITE por ejemplo en funci\u00f3n del nivel de calidad de aire exigible al local los valores de concentraci\u00f3n van desde las 400 ppm hasta m\u00e1s de 1.000 ppm. El valor l\u00edmite de exposici\u00f3n profesional para exposiciones de 8 horas que vemos en las Gu\u00edas del INSHT es de 5.000 ppm si bien este valor no se puede aplicar a entornos no industriales. Recordemos que en espacios como oficinas a partir de 800 ppm se producen quejas por olores y se recomienda no superar las 1.000 ppm.</p> <p>Lo ideal es que el cociente entre exterior e interior sea lo m\u00e1s cercano a 1 posible.</p> <p>En el art\u00edculo de la International Journal of Emergency Medicine dado en la webgraf\u00eda se pueden consultar mas datos relativos al tema del CO2 y en el de Centro Canadiense de Seguridad y Salud Ocupacional (CCSSO) tenemos respuestas a diversas cuestiones sobre el CO2.</p>"},{"location":"CO2/#riesgos-de-transmision-de-covid-19-en-distintas-situaciones","title":"Riesgos de transmisi\u00f3n de covid-19 en distintas situaciones","text":"<p>En la figura 3 del art\u00edculo Editorial de BMJ dado en la webgraf\u00eda podemos leer que la gr\u00e1fica exponer el Riesgo de transmisi\u00f3n del SARS-CoV-2 de personas asintom\u00e1ticas en diferentes entornos y para diferentes tiempos de ocupaci\u00f3n, ventilaci\u00f3n y niveles de hacinamiento (ignorando la variaci\u00f3n en la susceptibilidad y las tasas de diseminaci\u00f3n viral). Las calificaciones son indicativas de riesgo relativo cualitativo y no representan una medida cuantitativa. Es posible que tambi\u00e9n deban tenerse en cuenta otros factores no presentados en estas tablas al considerar el riesgo de transmisi\u00f3n, incluida la carga viral de una persona infectada y la susceptibilidad de las personas a la infecci\u00f3n. Toser o estornudar, incluso si se deben a irritaci\u00f3n o alergias mientras est\u00e9 asintom\u00e1tico, agravar\u00eda el riesgo de exposici\u00f3n en un espacio interior, independientemente de la ventilaci\u00f3n.</p> <p>Reproducimos aqu\u00ed la gr\u00e1fica en formato original traducida para que nos sirva de gu\u00eda.</p> <p> <p> Gr\u00e1fica de riesgos de transmisi\u00f3n Clic para ver ampliada</p> <p></p>"},{"location":"CO2/#unidades-de-medida-del-co2","title":"Unidades de medida del CO2","text":"<p>Las formas m\u00e1s habituales de indicar la concentraci\u00f3n de un contaminante atmosf\u00e9rico son las ppb (partes por bill\u00f3n) y las ppm (partes por mill\u00f3n), los \u00b5g/m\u00b3 (microgramos por metro c\u00fabico) y los mg/m\u00b3 (miligramos por metro c\u00fabico).</p> <p>Las ppb y las ppm se suelen utilizar cuando se trata de un gas, y en este caso se sobreentiende que se expresa en volumen. Muchas veces se puede encontrar escrito como ppbv o ppmv, donde la \u201cv\u201d final indica precisamente que la concentraci\u00f3n es en volumen.</p> <p>De esta forma, 1 ppm es unidad de volumen de contaminante en un mill\u00f3n de unidades de volumen de aire. Para concentraciones altas de CO2 se usa el porcentaje volum\u00e9trico (unidades de volumen de CO2 en 100 unidades de volumen de aire), es decir que 10.000 ppm = 1%.</p> <p>Es importante tener en cuenta que el bill\u00f3n de estas ppb es un bill\u00f3n anglosaj\u00f3n, esto es, 1000 millones de vol\u00famenes (\\(10^9\\)). En Europa un bill\u00f3n es 1 mill\u00f3n de millones, \\(10^{12}\\), por lo que la equivalencia es: 1ppm = 1000ppb</p> <p>Otras dos formas habituales de expresar la concentraci\u00f3n de los contaminantes atmosf\u00e9ricos son los \u00b5g/m\u00b3 (microgramos por metro c\u00fabico) y los mg/m\u00b3 (miligramos por metro c\u00fabico). La equivalencia es similar a las de ppm y ppb:</p> <p>1 mg/m\u00b3 = 1000 \u00b5g/m\u00b3</p> <p>Para convertir las ppb en \u00b5g/m\u00b3 tenemos que tener en cuenta que dicha conversi\u00f3n depende del tipo de contaminante, y de una presi\u00f3n y una temperatura que tomemos como referencia. Para ver esto, tomemos una concentraci\u00f3n de 1 ppb de un contaminante M. Esto implica que tenemos 1 m\u00b3 de M en \\(10^9\\) m\u00b3 de aire. O lo que es lo mismo, \\(10^{\u22129}\\) m\u00b3 de M en 1 m\u00b3 de aire.</p> <p>La forma habitual de expresar la concentraci\u00f3n de CO2 es en mg/m\u00b3 (miligramos por metro c\u00fabico). Para convertir las ppm en mg/m\u00b3 tenemos que tener en cuenta que dicha conversi\u00f3n depende del tipo de gas, y de una presi\u00f3n y una temperatura que tomemos como referencia.</p> <p>Teniendo en cuenta la ecuaci\u00f3n general de los gases ideales, para el CO2 (con peso molecular 44,01 g/mol), y tomando como referencia P = 1 atm y T = 298,16 K (25 \u00baC), tenemos (R = 0,08205746 atm\u00b7L/mol\u00b7K):</p> <p> <p>\\(\\dfrac{10^{6}\\cdot 44,01\\hspace{0.1cm} g/mol\\cdot 1\\hspace{0.1cm}atm\\cdot 10^{-6}}{0,08205746\\cdot 298,16\\hspace{0.1cm}K}=1,798\\hspace{0.1cm}mg\\hspace{0.1cm}\\approx\\hspace{0.1cm}1,8\\hspace{0.1cm}mg\\)</p> <p></p> <p>Luego:</p> <p> <p>\\(\\boxed{1\\hspace{0.1cm}ppm=1,8\\hspace{0.1cm}mg/m^{3}\\hspace{1cm}(CO_{2}\\hspace{0.2cm}@\\hspace{0.2cm}1\\hspace{0.2cm}atm.\\hspace{0.2cm} 25\\hspace{0.2cm}\u00baC)}\\)</p> <p></p> <p>Que ser\u00e1 la relaci\u00f3n a usar para convertir entre unidades de CO2.</p> <p>Tambi\u00e9n se puede expresar como:</p> <p> <p>\\(\\boxed{1\\hspace{0.1cm}ppb=1800\\hspace{0.1cm}\\mu g/m^{3}\\hspace{1cm}(CO_{2}\\hspace{0.2cm}@\\hspace{0.2cm}1\\hspace{0.2cm}atm.\\hspace{0.2cm} 25\\hspace{0.2cm}\u00baC)}\\)</p> <p></p>"},{"location":"CO2/#valores-de-referencia-para-el-co2","title":"Valores de referencia para el CO2","text":"<p>En la tabla siguientes damos los valores que vamos a considerar en nuestro caso. En la columna color se establece cual ser\u00e1 el color que se ilumine en un posible sem\u00e1foro.</p> <p> CO2 (ppm) CO2 (\\(mg / m ^{3}\\)) Ambiente Mensaje Color de 0 a 500 de 0 a 900 Muy bueno Aconsejado Apagado de 501 a 1000 de 901 a 1800 Bueno Bueno Verde de 1001 a 1500 de 1801 a 2700 Moderado ventilar Amarillo de 1501 a 2000 de 2701 a 3600 Muy malo VENTILAR Rojo fijo mas de 2000 mas de 3600 Inaceptable Desalojar Rojo intermitente <p></p>"},{"location":"CO2/#fuentes-emisoras-de-co2-en-personas","title":"Fuentes emisoras de CO2 en personas","text":"<p>En el ambiente que nos ocupa la principal fuente de emisi\u00f3n de CO2 va a ser el ser humano a trav\u00e9s de la respiraci\u00f3n, la sudoraci\u00f3n, la transpiraci\u00f3n y el sudor.</p>"},{"location":"CO2/#sobre-los-voc","title":"Sobre los VOC","text":"<p>VOC (Volatile Organic Compounds) es la abreviatura inglesa para los compuestos org\u00e1nicos vol\u00e1tiles (COV) que hay en el aire en forma de gas o de vapor a temperatura ambiente. Los VOC tienen muy diversa procedencia pero nos interesa en este caso los generados en los procesos biol\u00f3gicos de las personas que los emiten a trav\u00e9s de la respiraci\u00f3n y de la piel.</p> <p>Los efectos sobre la salud a corto plazo pueden ser:</p> <ul> <li> <p>Irritaci\u00f3n de ojos, garganta y nariz</p> </li> <li> <p>N\u00e1useas</p> </li> <li> <p>Dolor de cabeza</p> </li> <li> <p>V\u00f3mito de sangre</p> </li> <li> <p>Reacciones al\u00e9rgicas e hinchazones</p> </li> <li> <p>Mareos</p> </li> <li> <p>Dolores estomacales e intestinales</p> </li> <li> <p>Fatiga</p> </li> <li> <p>Manchas en la piel.</p> </li> </ul> <p>A largo plazo pueden da\u00f1ar el h\u00edgado, los ri\u00f1ones o el sistema nervioso central. Tambi\u00e9n pueden ser carcin\u00f3genos, como por ejemplo el benceno.</p>"},{"location":"CO2/#valores-de-referencia-para-voc","title":"Valores de referencia para VOC","text":"<p>En la tabla siguiente damos los valores que vamos a considerar en nuestro caso.</p> <p> VOC (ppb) Ambiente Mensaje Color de 0 a 200 Muy bueno Aconsejado Apagado de 201 a 600 Bueno Bueno Verde de 601 a 1000 Moderado ventilar Amarillo de 1001 a 2000 Muy malo VENTILAR Rojo fijo mas de 2000 Inaceptable Desalojar Rojo intermitente <p></p>"},{"location":"CO2/#fuentes-emisoras-de-voc-en-personas","title":"Fuentes emisoras de VOC en personas","text":"<p>En el ser humano se producen diferentes gases VOC a trav\u00e9s de la respiraci\u00f3n (acetona, etanol, isopreno), la sudoraci\u00f3n, la transpiraci\u00f3n, el sudor, por flato (metano), los cosm\u00e9ticos (Limoneno, eucaliptol), el mobiliaario (alcoholes), la combusti\u00f3n de motores y calderas (hidrocarburos) y los ordenadores, impresoras o fotocopiadoras (benceno, estireno, fenol).</p>"},{"location":"CO2/#el-sensor-ccs811","title":"El sensor CCS811","text":"<p>Es un sensor de gas digital que puede detectar una amplia gama de compuestos org\u00e1nicos vol\u00e1tiles. En este caso se denominan TVOC, pues el sensor no distingue unos de otros y la medida la totaliza. Tambi\u00e9n detecta niveles equivalentes de di\u00f3xido de carbono que se denominan eCO2.</p> <p>Los rangos de medida son:</p> <ul> <li> <p>eCO2: de 400 a 29206 ppm (partes por millon).</p> </li> <li> <p>TVOC: de 0 a 32768 ppb (partes por bill\u00f3n).</p> </li> </ul>"},{"location":"basicoUDP/","title":"Conceptos b\u00e1sicos de UDP","text":"<p>(Fuente: Wikipedia)</p> <p>En redes inform\u00e1ticas, el Protocolo de Datagramas de Usuario (UDP) es uno de los protocolos de comunicaci\u00f3n centrales del conjunto de protocolos de Internet utilizado para enviar mensajes (transportados como datagramas en paquetes) a otros hosts en una red de Protocolo de Internet (IP). Dentro de una red IP, UDP no requiere comunicaci\u00f3n previa para establecer canales de comunicaci\u00f3n o rutas de datos.</p> <p>UDP utiliza un modelo sencillo de comunicaci\u00f3n sin conexi\u00f3n con un m\u00ednimo de mecanismos de protocolo. UDP proporciona n\u00fameros de puerto para direccionar diferentes funciones en el origen y el destino del datagrama. No tiene di\u00e1logos de toma de contacto y, por tanto, no hay garant\u00eda de entrega, orden o protecci\u00f3n contra duplicados.</p> <p>UDP es adecuado para fines en los que la comprobaci\u00f3n y correcci\u00f3n de errores no son necesarias o se realizan en la aplicaci\u00f3n. Las aplicaciones sensibles al tiempo suelen utilizar UDP porque es preferible soltar paquetes que esperar a que se retrasen debido a la retransmisi\u00f3n, que puede no ser una opci\u00f3n en un sistema en tiempo real.</p> <p>Las caracter\u00edsticas principales de este protocolo son:</p> <ol> <li>Trabaja sin conexi\u00f3n, es decir, que no emplea ninguna sincronizaci\u00f3n entre el origen y el destino.</li> <li>Trabaja con paquetes o datagramas enteros, no con bytes individuales como TCP. Una aplicaci\u00f3n que emplea el protocolo UDP intercambia informaci\u00f3n en forma de bloques de bytes, de forma que por cada bloque de bytes enviado de la capa de aplicaci\u00f3n a la capa de transporte, se env\u00eda un paquete UDP.</li> <li>No es fiable. No emplea control del flujo ni ordena los paquetes.</li> <li>Su gran ventaja es que provoca poca carga adicional en la red, ya que es sencillo y emplea cabeceras muy simples.</li> </ol>"},{"location":"basicoUDP/#los-puertos-udp","title":"Los puertos UDP","text":"<p>Las aplicaciones pueden utilizar sockets (conectores) de datagramas para establecer comunicaciones de host (equipo) a host (equipo). Una aplicaci\u00f3n vincula un socket a su punto final de transmisi\u00f3n de datos, que es una combinaci\u00f3n de una direcci\u00f3n IP y un puerto. De esta forma, UDP proporciona multiplexaci\u00f3n de aplicaciones. Un puerto es una estructura de software que se identifica por el n\u00famero de puerto, un valor entero de 16 bits, que permite n\u00fameros de puerto entre 0 y 65535.</p> <ul> <li>El puerto 0 est\u00e1 reservado, pero es un valor de puerto de origen admisible si el proceso de env\u00edo no espera mensajes como respuesta.</li> <li>Los puertos 1 a 1023 se llaman puertos \"bien conocidos (well-known)\" y en sistemas operativos tipo Unix enlazar con uno de estos puertos requiere acceso como superusuario.</li> <li>Los puertos 1024 a 49.151 son puertos registrados usados por IANA-registered services. IANA son las siglas de Internet Assigned Numbers Authority que es el Registro de nombres de servicio y n\u00fameros de puerto de protocolo de transporte.</li> <li>Los puertos 49.152 a 65.535 son puertos din\u00e1micos y son utilizados como puertos temporales, sobre todo por los clientes al comunicarse con los servidores.</li> </ul> <p>En Anexo:Puertos de red de Wikipedia hay un amplio listado de puertos y su descripci\u00f3n.</p>"},{"location":"basicoUDP/#udp-en-microblocks","title":"UDP en MicroBlocks","text":"<p>La implementaci\u00f3n de MicroBlocks del protocolo UDP se manifiesta en la libreria UDP. No hay ning\u00fan requisito especial antes de usar el protocolo, aparte de que los dispositivos implicados tienen que estar presentes en una red IP compartida, en nuestro caso nuestro WiFi local.</p> <p>Veamos una descripci\u00f3n de los bloques que componen esta libreria:</p> <ul> <li>inicia UDP en el puerto...</li> </ul> <p> <p> </p> <p></p> <p>Este bloque configura el script para que escuche los mensajes UDP en el puerto designado. La direcci\u00f3n IP propia del dispositivo y el n\u00famero de puerto especificado forman un socket e identifican de forma \u00fanica el dispositivo y cualquier servicio de software que proporcione. Seg\u00fan lo anterior:</p> <ul> <li>si se env\u00eda un mensaje de difusi\u00f3n UDP dirigido al puerto 5000,</li> <li>o se env\u00eda un mensaje UDP dirigido a la IP del dispositivo y al puerto 5000...</li> </ul> <p>nuestro script lo ver\u00e1 y lo recibir\u00e1.</p> <ul> <li>envia paquete UDP...a la IP...y puerto...</li> </ul> <p> <p> </p> <p></p> <p>Este bloque se utiliza para enviar mensajes UDP a la direcci\u00f3n IP y puerto designados. La direcci\u00f3n IP 255.255.255.255 es una direcci\u00f3n de difusi\u00f3n especial, y se utilizar\u00e1 para acceder a todos los dispositivos IP en la subred local. Esto facilita el env\u00edo de mensajes sin molestarse con la direcci\u00f3n IP espec\u00edfica de cada dispositivo.</p> <p>Ten en cuenta que en MicroBlocks, los mensajes de difusi\u00f3n no son vistos por el dispositivo emisor. Sin embargo, en la MIT AI2 APP, las difusiones son vistas por el tel\u00e9fono emisor.</p> <p>Los mensajes tambi\u00e9n pueden ser enviados utilizando la direcci\u00f3n IP espec\u00edfica y el n\u00famero de puerto UDP del dispositivo de destino, incluso a la propia direcci\u00f3n IP.</p> <p>Direcciones IPv4 reservadas para usos espec\u00edficos</p> <p>127.0.0.0 -&gt; Direcci\u00f3n de loopback o bucle de retorno (la propia interfaz del host)</p> <p>224.0.0.0 -&gt; IP multicast o entrega de datos simultanea a un grupo de nodos receptores.</p> <p>255.255.255.255 -&gt; Difusi\u00f3n (broadcast); se env\u00eda a todas las interfaces en la red</p> <ul> <li>recibe paquete UDP</li> </ul> <p> <p> </p> <p></p> <p>Siempre que se reciba un mensaje UDP, este bloque contendr\u00e1 su contenido. Comprobando si su longitud es mayor que cero, podemos consultar el resultado de las transacciones UDP.</p> <p>Este bloque tambi\u00e9n proporciona una opci\u00f3n booleana de datos binarios que permite recibir cualquier tipo de dato.</p> <p>Hay otros bloques en la biblioteca que no se utilizan en este proyecto aunque se explican por s\u00ed mismos.</p> <ul> <li>det\u00e9n UDP. Detiene el procesado de UDP</li> </ul> <p> <p> </p> <p></p> <ul> <li>direcci\u00f3n IP remota de UDP. El mensaje UDP env\u00eda la direcci\u00f3n IP remota.</li> </ul> <p> <p> </p> <p></p> <ul> <li>puerto remoto de UDP. El mensaje UDP env\u00eda el puerto remoto.</li> </ul> <p> <p> </p> <p></p>"},{"location":"bt/","title":"Comunicaciones Bluetooth","text":""},{"location":"bt/#introduccion","title":"Introducci\u00f3n","text":"<p>Los m\u00f3dulos Bluetooth permiten crear conexi\u00f3n inal\u00e1mbrica serie punto a punto de manera que la forma de trabajar es muy similar a la comunicaci\u00f3n serie por cable. A continuaci\u00f3n vemos lo b\u00e1sico de los m\u00f3dulos m\u00e1s comunes.</p> <p>Bluetooth es una especificaci\u00f3n industrial para Redes Inal\u00e1mbricas de \u00c1rea Personal (WPAN) que posibilita la transmisi\u00f3n de voz y datos entre diferentes dispositivos mediante un enlace por radiofrecuencia en la banda ISM de los 2.4 a 2.485 GHz. Los principales objetivos que se pretenden conseguir con esta norma son:</p> <ul> <li>Facilitar las comunicaciones entre equipos m\u00f3viles.</li> <li>Eliminar los cables y conectores entre estos.</li> <li>Ofrecer la posibilidad de crear peque\u00f1as redes inal\u00e1mbricas y facilitar la sincronizaci\u00f3n de datos entre equipos personales.</li> </ul> <p>Se denomina Bluetooth al protocolo de comunicaciones dise\u00f1ado especialmente para dispositivos de bajo consumo, que requieren corto alcance de emisi\u00f3n y basados en transceptores (dispositivos que cuentan con transmisor y receptor compartiendo parte de la circuiteria) de bajo costo.</p> <p>El hardware que compone el dispositivo Bluetooth est\u00e1 compuesto por dos partes:</p> <ul> <li>un dispositivo de radio, encargado de modular y transmitir la se\u00f1al.</li> <li>un controlador digital, compuesto por una CPU, un procesador de se\u00f1ales digitales (DSP \u2013 Digital Signal Processor) llamado Link Controller (o controlador de Enlace) y de las interfaces con el dispositivo anfitri\u00f3n.</li> </ul> <p>Su logotipo lo vemos en la figura siguiente:</p> <p> <p>. Logotipo Bluetooth con texto y sin texto</p> <p></p>"},{"location":"bt/#bluetooth-v2","title":"Bluetooth V2","text":"<p>Existe un procedimiento definido que se llama Pairing (o emparejamiento) que vincula a dos dispositivos Bluetooth. Cuando vinculamos dos dispositivos Bluetooth, se inicia un proceso en el que ellos se identifican por nombre y direcci\u00f3n interna y se solicitan la clave PIN para autorizar la conexi\u00f3n.</p> <p>Si el emparejamiento se realiza con \u00e9xito, ambos nodos suelen guardar la identificaci\u00f3n del otro y cuando se encuentran cerca se vuelven a vincular sin necesidad de intervenci\u00f3n manual.</p> <p>Para manejar los m\u00f3dulos Bluetooth se utilizan los comandos Hayes o AT, de los que se puede encontrar informaci\u00f3n en este enlace y a continuaci\u00f3n damos algunos b\u00e1sicos:</p> <ul> <li>AT+VERSION: Versi\u00f3n del Firmware.</li> <li>AT+NAMEXXX: Para establecer el nombre que queremos presentar cuando otro dispositivo nos busque.</li> <li>AT+PINXXXX: permite establecer el n\u00famero de identificaci\u00f3n personal, que se requerir\u00e1 para establecer la vinculaci\u00f3n.</li> <li> <p>AT+BAUDX: Permite fijar la velocidad de comunicaci\u00f3n entre el modulo y la consola seg\u00fan los siguientes pares:</p> <p>1 -&gt; 1200 bps | -5 -&gt; 19200 bps</p> <p>2 -&gt; 2400 bps | -6 -&gt; 38400 bps</p> <p>3 -&gt; 4800 bps | -7 -&gt; 57600 bps</p> <p>4 -&gt; 9600 bps | -8 -&gt; 115200 bps</p> </li> </ul> <p>La velocidad por defecto es la de 9600 bps.</p> <p>Los m\u00f3dulos mas conocidos son el HC-05 y HC-06 que son Bluetooth V2 y cuyo aspecto podemos ver en la figura siguiente:</p> <p> <p>. M\u00f3dulos HC-05 y HC-06</p> <p></p>"},{"location":"bt/#bt-40-low-energy-ble-o-smart","title":"BT 4.0, Low Energy (BLE) o Smart","text":"<p>En realidad BLE se introduce como parte de la especificaci\u00f3n Bluetooth 4.0. En la web podemos encontrar mucha informaci\u00f3n sobre el tema habitualmente poco accesible y poco estructurada.</p> <p>Desde aqu\u00ed voy a recomendar el art\u00edculo \u201cIntroduction to Bluetooth Low Energy: A basic overview of key concepts for BLE\u201d publicado por Adafruit donde se hace un repaso de los conceptos en los que se basa BLE y su traducci\u00f3n libre \"Bluetooth BLE: el conocido desconocido\" publicada por Izertis: <ul> <li>Enlace al original: \u201cIntroduction to Bluetooth Low Energy: A basic overview of key concepts for BLE\u201d</li> <li>Enlace a la traducci\u00f3n libre: \"Bluetooth BLE: el conocido desconocido\"</li> </ul> <p> <p>. Logotipo BLE</p> <p></p> <p>B\u00e1sicamente se trata de un nuevo protocolo dise\u00f1ado para reducir en todo lo posible el gran consumo de energ\u00eda de sus predecesores. Generalmente se le conoce como BLE (iniciales de Bluetooth Low Energy) o Bluetooth LE o tambi\u00e9n como Bluetooth Smart y tienen un consumo t\u00edpico que podemos cifrar entre los 10 y 15 mA. Otra de sus principales novedades radica en que este m\u00f3dulo si es utilizables con dispositivos iOS.</p> <p>El BLE es un subconjunto del est\u00e1ndar Bluetooth v4.0 que dispone de una pila de protocolos en referencia a la capa OSI (en ingl\u00e9s, Open Systems Interconnection) completamente nueva y orientada a conexiones sencillas en aplicaciones de muy baja potencia que suelen funcionar con pilas o bater\u00edas.</p> <p>La pila de protocolos para Bluetooth Low Energy sigue la estructura definida en la figura siguiente.</p> <p> <p>. Pila de protocolos para BLE</p> <p></p> <p>El controlador aloja las capas inferiores de la pila del protocolo y tambi\u00e9n la radio. El Hots contiene las capas superiores de la pila de protocolos. Por encima de ambas estar\u00eda la aplicaci\u00f3n de usuario que es la que interact\u00faa con la pila de protocolos. La ventaja es que todas estas capas se pueden implementar en un solo chip o dividir en varios y conectarlos a trav\u00e9s de una capa de comunicaciones como UART, USB o SPI.</p> <ul> <li> <p>El controlador contiene las capas: Interfaz de controlador de host (HCI), Capa de enlace (LL) y Capa f\u00edsica (PHY)</p> <ul> <li>En la capa f\u00edsica (physical layer) se implementa toda la circuiteria de comunicaciones. La tecnolog\u00eda BLE puede usar hasta 40 canales de 2MHz en la banda ISM. El est\u00e1ndar emplea la t\u00e9cnica \u201cfrequency hopping\u201d o \u201csaltos en frecuencia\u201d, siguiendo una secuencia de saltos pseudo-aleatorios entre los canales frecuenciales mencionados que ofrece un alto grado de robustez frente a interferencias.</li> <li>La capa de enlace (link layer), se encarga de gestionar caracter\u00edsticas como los requerimientos temporales del est\u00e1ndar, chequeo de mensajes y reenv\u00edo de mensajes err\u00f3neos recibidos, gesti\u00f3n, filtrado de direcciones etc. Adem\u00e1s ofrece la definici\u00f3n de roles (Advertiser, Scanner, Master and Slave) que permiten identificar de forma l\u00f3gica el rol de cada dispositivo en el proceso de coElmunicaci\u00f3n. El nivel LL es del mismo modo responsable de procesos de control como el cambio de par\u00e1metros de la conexi\u00f3n o la encriptaci\u00f3n.</li> <li>el Host Controller o HCI es un protocolo est\u00e1ndar que permite que la comunicaci\u00f3n entre un host y un controlador se lleve a cabo a trav\u00e9s de un interfaz serie. A modo de ejemplo, en la mayor\u00eda de smartphones u ordenadores el host y la aplicaci\u00f3n corren en la CPU principal mientras que el controlador est\u00e1 situado en hardware espec\u00edfico y separado, conectado mediante UART o USB. El est\u00e1ndar Bluetooth define HCI como el conjunto de comandos y eventos para la interacci\u00f3n de ambas partes (host y controlador).</li> </ul> </li> <li> <p>El host contiene las siguientes capas: Perfil de acceso gen\u00e9rico (GAP), Perfil de atributo gen\u00e9rico (GATT), Protocolo de adaptaci\u00f3n y control de enlace l\u00f3gico (L2CAP), Protocolo de atributos (ATT), Gerente de seguridad (SM) y la Interfaz de controlador de host (HCI).</p> <ul> <li>La capa L2CAP (Logic Link Control and Adaptation Protocol), se responsabiliza de dos tareas fundamentales en un proceso de comunicaci\u00f3n. En primer lugar, el proceso de multiplexaci\u00f3n, es decir, la capacidad de dar formato a mensajes provenientes de las capas OSI superiores y encapsularlos en paquetes est\u00e1ndar BLE as\u00ed como el proceso inveM\u00f3dulrso.</li> <li>Para BLE, la capa L2CAP es la encargada de dar acceso y soporte a los dos protocolos fundamentales. Por un lado, ATT (Attribute Protocol), un protocolo basado en atributos presentados por dispositivo, con arquitectura cliente-servidor, que permite el intercambio de informaci\u00f3n. Por otro lado, SMP (Security Manager Protocol), protocolo que proporciona un framework para generar y distribuir claves de seguridad entre dos dispositivos.</li> <li>En el nivel m\u00e1s alto de la capa de protocolos, encontraremos de forma paralela las capas GAP y GATT. Esta primera, GAP (Generic Acces Profile), permite que un dispositivo sea visible hacia el resto de dispositivos y adem\u00e1s determina como puede interactuar un dispositivo entre otro. Establece distintas normas y conceptos para estandarizar las operaciones de m\u00e1s bajo nivel como: <ul> <li>Roles de interacci\u00f3n</li> <li>Modos de operaci\u00f3n y transici\u00f3n entre ellos</li> <li>Procedimientos para establecimiento de comunicaci\u00f3n</li> <li>Modos de seguridad y procedimientos</li> </ul> </li> </ul> </li> <li> <p>Al otro lado, GATT (Generic Attribute Profile), que define como dos dispositivos BLE transfieren informaci\u00f3n. Este proceso tiene lugar cuando dos dispositivos han superado la fase de establecimiento de comunicaci\u00f3n (controlada por GAP) y comienza la transferencia de informaci\u00f3n pudiendo ser de forma bidireccional.</p> </li> </ul> <p>En dispositivos con microcontrolador ESP32 con BLE integrado simplemente comunicamos con el dispositivo indicando el nombre del mismo.</p>"},{"location":"bt/#aplicaciones-bluetooth","title":"Aplicaciones Bluetooth","text":"<p>Existen muchas aplicaciones y en todas, antes de usar cualquier aplicaci\u00f3n, debemos emparejar el BLE de la ESP32 con nuestro m\u00f3vil. Adem\u00e1s, una vez emparejados los dispositivos, debemos establecer la conexi\u00f3n entre ambos dentro de la APP con la que pretendemos trabajar. Este punto puede presentarnos alguna dificultad si no tenemos correctamente configuradas las opciones de la APP. Veamos como proceder con un m\u00f3vil que tiene instalado Android versi\u00f3n 14 UKQ1.230917.001.</p> <p>Opciones de APP</p> <p>Localizamos el icono de la aplicaci\u00f3n y lo mantenemos pulsado hasta que aparezcan las opciones de \"informaci\u00f3n\" y \"borrado\" de la APP.</p> <p> <p>. Acceso a informaci\u00f3n de la APP</p> <p></p> <p>Pulsamos sobre la \"i\" y nos aparece la pantalla de \"Informaci\u00f3n de la aplicaci\u00f3n\":</p> <p> <p>. Informaci\u00f3n de la informaci\u00f3n de la APP</p> <p></p> <p>Desde la pantalla anterior podemos acceder a \"Otros permisos\" que tiene dicha aplicaci\u00f3n. Estos pueden tener el aspecto que vemos en la imagen siguiente:</p> <p> <p>. Permisos de la APP</p> <p></p> <p>En estas condiciones no podemos establecer una conexi\u00f3n entre el dispositivo vinculado y el m\u00f3vil. Debemos establecer los permisos de la siguiente forma:</p> <p> <p>. Permisos de la APP</p> <p></p> <p>Existen muchas aplicaciones capaces de actuar como apps que permiten transmitir datos entre dispositivos Bluetooth. Vamos a ver brevemente de Google Play Store las siguientes:</p>"},{"location":"bt/#bluetooth-terminal-qwerty","title":"Bluetooth Terminal Qwerty","text":"<p>Bluetooth Terminal Qwerty, una apk con una interface muy simple y f\u00e1cil de configurar, basta conectarse con el dispositivo emparejado y comenzar a enviar comandos.</p> <p> <p>. Bluetooth Terminal Qwerty</p> <p></p>"},{"location":"bt/#arduino-bluetooth-controller","title":"Arduino Bluetooth Controller","text":"<p>Arduino Bluetooth Controller es una aplicaci\u00f3n que le permite controlar su placa arduino (y placas similares) a trav\u00e9s de Bluetooth.</p> <p> <p>. Logo Arduino Bluetooth Controller</p> <p></p> <p>Al lanzar la aplicaci\u00f3n se muestra una imagen y tras unos instantes aparece el men\u00fa gr\u00e1fico de la aplicaci\u00f3n. En la parte superior derecha tenemos el icono para conectar a un dispositivo.</p> <p> <p>. Arduino Bluetooth Controller</p> <p></p> <p>En la imagen siguiente vemos el modo terminal de la aplicaci\u00f3n.</p> <p> <p>. Modo terminal de Arduino Bluetooth Controller</p> <p></p>"},{"location":"bt/#arduino-bluetooth-control","title":"Arduino Bluetooth Control","text":"<p>Arduino Bluetooth Control tambi\u00e9n es una aplicaci\u00f3n que te permite controlar la placa arduino (y placas similares) a trav\u00e9s de Bluetooth.</p> <p> <p>. Logo Arduino Bluetooth Control</p> <p></p> <p>Se lanza la app, se escoge dispositivo y selecciona el modo terminal para estar en una situaci\u00f3n parecida a la de las otras aplicaciones.</p> <p> <p>. Arduino Bluetooth Control</p> <p></p>"},{"location":"bt/#serial-bluetooth-terminal","title":"Serial Bluetooth Terminal","text":"<p>Aplicaci\u00f3n para Android compatible con Bluetooth cl\u00e1sico y Bluetooth LE o Bluetooth Low Energy o BLE o Bluetooth Smart.</p> <p> <p>. Logo Serial Bluetooth Terminal</p> <p></p> <p>Seguimos el proceso habitual de emparejar la ESP32 micro:STEAMakers con nuestro m\u00f3vil:</p> <p> <p>. Proceso para emparejar dispositivos</p> <p></p> <p>Abrimos la APP, que por defecto nos muestra la pantalla siguiente:</p> <p> <p>. Pantalla inicial Serial Bluetooth Terminal</p> <p></p> <p>Si abrimos el men\u00fa de la parte izquierda vemos una pantalla con opciones. Entramos en \"Devices\" para que se muestren los dispositivos disponibles y as\u00ed conectarnos con el dispositivo que hemos emparejado antes:</p> <p> <p>. Conexi\u00f3n con dispositivo</p> <p></p> <p>En la pantalla de la derecha vemos que podemos volver al terminal mostrado en la primera p\u00e1gina y escoger el tipo de Bluetooth con el que vamos a trabajar, BLE en nuestro caso. Pulsamos sobre el dispositivo marcado y se establece la conexi\u00f3n, indic\u00e1ndose esto mediante mensajes y por la posici\u00f3n del conector, y se retorna a la pantalla del terminal que vemos a continuaci\u00f3n:</p> <p> <p>. Conexi\u00f3n con dispositivo establecida</p> <p></p> <p>Con esto el sistema est\u00e1 listo para enviar datos de la placa al m\u00f3vil y viceversa.</p>"},{"location":"mod_colores/","title":"Modelo de colores","text":"<p>Seg\u00fan Wikipedia un modelo de colores es un modelo matem\u00e1tico abstracto que permite representar los colores en forma num\u00e9rica, utilizando t\u00edpicamente tres o cuatro valores o componentes crom\u00e1ticos (por ejemplo RGB y CMYK son modelos de colores). Es decir, un modelo de colores sirve en una aplicaci\u00f3n que asocia a un vector num\u00e9rico un elemento en un espacio de color.</p> <p>En el enlace anterior tenemos mayor informaci\u00f3n de los modelos existentes, de los que nosotros vamos a ver los dos que habitualmente se utilizan en programaci\u00f3n de placas microcontroladas, el RGB y el HSV.</p>"},{"location":"mod_colores/#modelo-rgb","title":"Modelo RGB","text":"<p>El modelo de color RGB utiliza los componentes RGB (Red, Green, Blue) o RVA (Rojo, Verde, Azul) para definir la cantidad de luz de cada color en un color determinado. En una imagen cada componente se expresa como un n\u00famero entre 0 y 255, lo que significa que hay 256 grados de cada color primario. Si multiplicamos todos los grados de color disponibles por canal se obtiene \\(256x256x256 = 16777216\\), es decir mas de 16,7 millones de combinaciones de color.</p> <p>El ojo humano sit\u00faa su espectro visible entre la lu6z violeta y la luz roja estim\u00e1ndose que puede distinguir hasta 10 millones de colores. El funcionamiento del ojo de manera resumida es: la c\u00f3rnea inclina la luz hacia la pupila, esta es la que regula la cantidad de luz que llega al cristalino. El cristalino se encarga de enfocar la luz en la retina, la capa de c\u00e9lulas nerviosas situada en el fondo del ojo. En la retina hay dos tipos de c\u00e9lulas, los conos (se estimulan en condiciones de buena luminosidad) y los bastones (se estimulan en condiciones de baja luminosidad). Los conos humanos tienen habitualmente tres tipos de pigmentos: rojo, verde y azul. </p> <p>Es un modelos de color aditivo, luego el color se produce a partir de la luz transmitida. RGB se utiliza por lo tanto en monitores, donde las luces roja, azul y verde se mezclan de distintas formas para reproducir un amplio rango de colores. Cuando las luces roja, azul y verde se combinan en su m\u00e1xima intensidad, el ojo percibe el color resultante como blanco. En teor\u00eda, los colores mezclados siguen siendo rojo, azul y verde, pero los pixeles del monitor se encuentran demasiado juntos para que nuestro ojo pueda diferenciar los tres colores. Cuando el valor de cada componente es 0, indica que hay una ausencia de luz y el ojo percibe el color negro.</p> <p> <p></p> <p></p>"},{"location":"mod_colores/#modelo-hsl","title":"Modelo HSL","text":"<p>El modelo HSL o a veces HSI (siglas del ingl\u00e9s Hue, Saturation, Lightness o Intensity; traducido por, \u2018matiz o tono, saturaci\u00f3n, luminosidad o intensidad\u2019), define un modelo de color en t\u00e9rminos de sus componentes constituyentes.</p> <p>En el modelo de color HSV, un color se define por su matiz o tono (H), su saturaci\u00f3n (S) y su luminosidad o intensidad (L). Ahora las siglas no significan colores como en RGB, sino par\u00e1metros.</p> <p>La variedad de colores se obtiene cambiando los tres canales de color de tono (H), saturaci\u00f3n (S) y luminosidad (L) y superponi\u00e9ndolos entre s\u00ed. Este modo de color cubre los colores que puede percibir la visi\u00f3n humana.</p> <p>Se suele representar mediante la rueda de color, como vemos a continuaci\u00f3n:</p> <p> <p></p> <p></p>"},{"location":"mod_colores/#tono-matiz-o-hue-h","title":"Tono, matiz o Hue (H)","text":"<p>En el c\u00edrculo crom\u00e1tico el grado 0 (o 360\u00ba si hemos dado una vuelta completa) del Hue es el color rojo. El circulito rodeado corresponde al \u00e1ngulo en la rueda de color. Cada \u00e1ngulo representa un color. En esa posici\u00f3n la saturaci\u00f3n S por defecto toma su valor m\u00e1ximo de 100, y el brillo (L) es de 50. Nos podemos mover con estas condiciones por la rueda y obtener los distintos colores para esos valores de saturaci\u00f3n o brillo.</p> <p> <p></p> <p></p>"},{"location":"mod_colores/#saturacion-o-saturation-s","title":"Saturaci\u00f3n o Saturation (S)","text":"<p>Indica la intensidad de un tono concreto. Los valores varian entre 0 y 100, siendo 100 el m\u00e1ximo de saturaci\u00f3n posible y 0 el m\u00ednimo, que dar\u00e1 como resultado, gris. El par\u00e1metro cambia sus valores moviendose dentro del tri\u00e1ngulo en la l\u00ednea del d\u00edametro del c\u00edrculo que corresponde a la posici\u00f3n del \u00e1ngulo determinado por H.</p> <p> <p></p> <p></p> <p>Observamos que al acercarnos al gris el valor de H se restablece a su valor por defecto. Hasta ese punto el tono se mantiene en el valor definido.</p>"},{"location":"mod_colores/#luminosidad-o-lightness-l","title":"Luminosidad o Lightness (L)","text":"<p>El par\u00e1metro se refiere a como de claro u oscuro es un color. Si queremos aclarar un color nos moveremos hacia el blanco y si quiero oscurecerlo hacia el negro.</p> <p> <p></p> <p></p> <p>Hay un par\u00e1metro que suele acompa\u00f1ar a la rueda de color que es el Alfa (A), que puede variar entre 0 y 100 y se refiere al grado de opacidad del color, correspondiendo 100 a totalmente opaco y 0 a totalmente transparente.</p>"},{"location":"mod_colores/#convertir-rgb-a-hsl","title":"Convertir RGB a HSL","text":"<p>Nos vamos a basar en un ejemplo descrito por los valores R=90, G=220, B=80 correspondiente a un tono verde oscuro.</p> <p> <p></p> <p></p> <ul> <li>Paso 1. M\u00e1ximo y M\u00ednimo. Convertimos los valores RGB a valores en el rango 0-1 dividiendo por 255 cada valor.</li> </ul> <p> <p>\\(R = \\dfrac{90}{255}= 0.353 \\space; \\space G = \\dfrac{220}{255}= 0.863 \\space; \\space B = \\dfrac{80}{255}= 0.314\\)</p> <p>\\(\\boxed{R = 0.353 \\space; \\space G = 0.863 \\space(Max) \\space; \\space B = 0.314 \\space(Min)}\\)</p> <p></p> <ul> <li>Paso 2. Luminancia. Calculamos la Luminancia sumando los valores m\u00e1ximo y m\u00ednimo obtenidos en el paso 1 y lo dividimos por 2.</li> </ul> <p> <p>\\(L \\space = \\space \\dfrac{0.863 + 0.314}{2} \\space= \\space 0.5885 \\space\\approx59 \\%\\)</p> <p>\\(\\boxed{L \\space = \\space 0.5885 \\space \\approx 59 \\%}\\)</p> <p></p> <ul> <li>Paso 3. Saturaci\u00f3n. A la hora de calcular la saturaci\u00f3n S tendremos en cuenta que:</li> </ul> <ul> <li>Si los valores m\u00e1ximo y m\u00ednimo son iguales: No hay saturaci\u00f3n. <li>Si todos los valores RGB son iguales: Tono gris mas o menos oscuro o claro dependiendo de la luminosidad.</li> <li>Si no hay saturaci\u00f3n el Tono ser\u00e1 0\u00ba.</li> <p>Si no se da alguna de las condiciones anteriores sabemos que hay Saturaci\u00f3n, que se calcula seg\u00fan sea el nivel de Luminancia:</p> <p>\\(\\Rightarrow\\) Si \\(L \\leq 0.5\\)</p> <p> \\(S = \\dfrac{Max-Min}{Max+Min}\\) </p> <p>\\(\\Rightarrow\\) Si \\(L &gt; 0.5\\)</p> <p> \\(S = \\dfrac{Max-Min}{2.0-Max-Min}\\) <p>\\(S = \\dfrac{0.863-0.314}{2-0.863-0.314} = \\dfrac{0.549}{0.823}=0.667 \\approx 67 \\%\\)</p> <p>\\(\\boxed{S = 0.667 \\approx 67 \\%}\\)</p> <p></p> <ul> <li>Paso 4. Tono. La f\u00f3rmula del Tono depende de qu\u00e9 canal de color RGB es el valor m\u00e1ximo. Las tres f\u00f3rmulas diferentes son:</li> </ul> <p>\\(\\Rightarrow\\)  Si Rojo es el m\u00e1ximo, entonces:</p> <p> \\(H = \\dfrac{G-B}{Max-Min}\\) </p> <p>\\(\\Rightarrow\\)  Si Verde es el m\u00e1ximo, entonces:</p> <p> \\(H = 2.0 + \\dfrac{B-R}{Max-Min}\\) <p>\\(H = 2.0 + \\dfrac{0.314-0.353}{0.863-0.314} = 2.0 + \\dfrac{(-0.039)}{0.549} = 1.929\\)</p> <p>\\(\\boxed{H=1.929}\\) </p> <p>\\(\\Rightarrow\\)  Si Azul es el m\u00e1ximo, entonces:</p> <p> \\(H = 4.0 + \\dfrac{R-G}{Max-Min}\\) </p> <p>El valor obtenido de H lo multiplicamos por 60 para convertirlo en grados en el c\u00edrculo crom\u00e1tico. Si resulta un valor negativo de H le sumamos 360.</p> <p> <p>\\(H = 1.929 \\times 60 = 115.74 \\approx 116 \\space grados\\)</p> <p>\\(\\boxed{H=116 \\space grados}\\)</p> <p></p> <p>Resultado final:</p> <p> R = 90, G = 220, B = 80 <p>H = 116, S = 67, L = 59 </p>"},{"location":"mod_colores/#convertir-hsl-a-rgb","title":"Convertir HSL a RGB","text":"<p>En el mismo sitio en que hemos basado la conversi\u00f3n de RGB a HSL de Nikolai Waldman est\u00e1 documentado como hacerlo a la inversa, pero nosotros no lo vamos a hacer de este modo.</p> <p>Se encuentran facilmente en la web p\u00e1ginas con calculadoras que permiten convertir de un modelo a otro con tan solo introducir los valores. Algunas incluso indican las f\u00f3rmulas de c\u00e1lculo, que usualmente est\u00e1n basadas en la entrada HSL and HSV de la Wikipedia. A t\u00edtulo de ejemplo aqu\u00ed pongo la de rapidtables, que ofrece muchas calculadoras en l\u00ednea gratuitas</p> <p>Hay una forma de hacerlo a partir de un programa libre como es Inkscape, publicado bajo licencia GNU General Public License, version 3 y que hemos utilizado para las animaciones donde se han explicado los conceptos y donde adem\u00e1s se pueden obtener otros datos y por supuesto modificarlos.</p> <p>Es muy sencillo de utilizar y nos ofrece adem\u00e1s otras posibilidades interesantes. Veamos como llegar a ello una vez abierto Inkscape con un archivo en blanco.</p> <p>Dibujamos cualquier cosa y abrimos las opciones de Relleno y borde del objeto y desde ah\u00ed ya podemos cambiar el modelo de color, activar la rueda, mover la rueda o los valores lineales, volver a cambiar de modelo, etc y se nos ir\u00e1n mostrando los valores convetidos de uno a otro, como se observa en la animaci\u00f3n siguiente cuando cambiamos del modelo HSL a RGB.</p> <p> <p> </p> <p></p>"},{"location":"mod_colores/#modelo-hsv","title":"Modelo HSV","text":"<p>El modelo HSV (Hue, Saturation, Value \u2013 Matiz, Saturaci\u00f3n, Valor), es tambi\u00e9n llamado HSB (Hue, Saturation, Brightness \u2013 Matiz, Saturaci\u00f3n, Brillo), define un modelo de color en t\u00e9rminos de sus componentes.</p> <p>El Matiz o Hue se representa como un \u00e1ngulo de 0 a 360\u00ba correspondiendo cada valor a un color. En una rueda de colores se puede representar de la siguiente forma:</p> <p> <p> </p> <p></p> <p>Si asociamos con RGB vemos que el rojo corresponde a un \u00e1ngulo de 0\u00ba, el verde a 120\u00ba y el azul a 240\u00ba. Los colores entre estos tres \u00e1ngulos divisorios corresponden a niveles de mezcla de los dos colores extremos. Por ejemplo, justo en la mitad entre el rojo y el verde estar\u00eda la mezcla de ambos colores que corresponde al amarillo.</p> <p>La Saturaci\u00f3n puede variar entre 0 y 100% y representa el porcentaje de brillo. En la animaci\u00f3n siguiente vemos el funcionamiento de la rueda de color y del par\u00e1metro de saturaci\u00f3n en el programa Inkscape.</p> <p> <p> Rueda de colores HSV y Saturaci\u00f3n</p> <p></p> <p>El Valor tambi\u00e9n puede variar entre 0 y 100%, correspondiendo el 0 siempre a negro y el resto de valores un color mas o menos saturado. En la animaci\u00f3n siguiente vemos el funcionamiento del par\u00e1metro Valor en el programa Inkscape.</p> <p> <p> Rueda de colores HSV y Valor</p> <p></p> <p>El propio Inkscape no puede servir para convertir RGB a HSV y viceversa. En la web tambi\u00e9n podemos encontrar calculadoras que lo hacen indicando incluso las f\u00f3rmulas de conversi\u00f3n y dandonos una previsualizaci\u00f3n del color. A continuaci\u00f3n, a t\u00edtulo de ejemplo, ponemos enlaces a dos de ellas:</p> <ul> <li>Conversor de RapidTables en ingl\u00e9s.</li> <li>Conversor de peko-step en espa\u00f1ol.</li> </ul>"},{"location":"previos/","title":"Conocimientos t\u00e9cnicos previos","text":""},{"location":"previos/#las-comunicaciones-i2c","title":"Las comunicaciones I2C","text":"<p>Las siglas I2C provienen del ingl\u00e9s Inter-Integrated Circuit (Circuito inter-integrado) y vamos a explicar un poco en que consiste este sistema de conexionado.</p> <p>Bus conocido por las siglas I2C, IIC o I\u00b2C, es un bus serie de datos desarrollado en 1982 por Philips Semiconductors (hoy NXP Semiconductors, parte de Qualcomm). Se utiliza principalmente internamente para la comunicaci\u00f3n entre diferentes partes de un circuito, por ejemplo, entre un controlador y circuitos perif\u00e9ricos integrados. Posteriormente fue adoptado progresivamente por otros fabricantes hasta convertirse en un est\u00e1ndar del mercado con miles de circuitos integrados de diferentes fabricantes.</p> <p>I2C tambi\u00e9n se denomina TWI (Two Wired Interface) \u00fanicamente por motivos de licencia, denominaci\u00f3n introducida por Atmel. No obstante, la patente caduc\u00f3 en 2006, por lo que actualmente no hay restricci\u00f3n sobre el uso del t\u00e9rmino I2C.</p> <p>El bus I2C requiere \u00fanicamente dos cables o lineas de se\u00f1al para su funcionamiento, uno para la se\u00f1al de reloj (SCL, Serial Clock) y otro para el env\u00edo de datos (SDA, Serial Data). Ambas l\u00edneas precisan resistencias de pull-up hacia Vcc. Cualquier dispositivo conectado a estas l\u00edneas es de drenador o colector abierto (Open Collector), lo cual en combinaci\u00f3n con las resistencias pull-up, crea un circuito Wired-AND. En la imagen siguiente vemos el diagrama b\u00e1sico de conexionado del bus con algunos ejemplos de dispositivos. La se\u00f1al de reloj siempre es generada por el circuito que act\u00faa como Master.</p> <p> <p> Diagrama de conexi\u00f3n del bus I2C</p> <p></p> <p>Para ser reconocido en el bus, cada dispositivo dispone de una direcci\u00f3n, que se emplea para acceder a cada uno de ellos de forma individual. Esta direcci\u00f3n puede ser fijada por hardware, en cuyo caso se pueden modificar los \u00faltimos 3 bits mediante \u201cjumpers\u201d o microinterruptores (ejemplo de la matriz de 8x8), o por software.</p> <p>En general, cada dispositivo conectado al bus debe tener una direcci\u00f3n \u00fanica. Si tenemos varios dispositivos similares tendremos que cambiar la direcci\u00f3n o, en caso de no ser posible, implementar un bus secundario.</p> <p>El bus I2C tiene una arquitectura de tipo master-slave, lo que indica que el master es el encargado de controlar al resto de dispositivos tipo slave con los que se comunica y que se comunican con el, teniendo siempre el marte prioridad absoluta. El dispositivo master es el que inicia la comunicaci\u00f3n con los slaves. Los slaves no pueden iniciar la comunicaci\u00f3n (el master tiene que preguntarles), ni hablar entre si directamente.</p> <p>El bus I2C debe ser por lo tanto s\u00edncrono, es decir debe existir una se\u00f1al de reloj que controle las comunicaciones. Es el master el que proporciona la se\u00f1al de reloj, que mantiene sincronizados a todos los dispositivos del bus. De esta forma, se elimina la necesidad de que cada dispositivo tenga su propio reloj, de tener que acordar una velocidad de transmisi\u00f3n y mecanismos para mantener la transmisi\u00f3n sincronizada como en UART o SPI. En la imagen vemos un cronograma ejemplo del funcionamiento del sistema.</p> <p> <p> Cronograma trabajo bus I2C</p> <p></p> <p>El protocolo de comunicaci\u00f3n I2C sigue la siguiente secuencia:</p> <ul> <li>Primero, el master genera la se\u00f1al de reloj del bus (SCL).</li> <li>Se inicia la comunicaci\u00f3n por orden del master al establecer la condici\u00f3n de START, que se produce cuando SDA pasa de uno a cero y se mantiene en cero durante un tiempo.</li> <li>El master direcciona a los slaves.</li> <li>El master indica si se va a leer o escribir.</li> <li>El slave direccionado responde con una se\u00f1al de conformidad ACK (acknowledge).</li> <li>Se transmite los datos byte a byte desde SDA al receptor. Por cada pulso desde SCL se transmite un bit de informaci\u00f3n.</li> <li>El destinatario de la informaci\u00f3n responde con una se\u00f1al de conformidad ACK.</li> <li>Se acaba la comunicaci\u00f3n cuando el master establece la condici\u00f3n de STOP, que se produce cuando SDA, por orden del master pasa de cero a uno y se mantiene en uno durante un tiempo.</li> </ul> <p>Son muchos los dispositivos I2C que se pueden direccionar por este bus I2C, siendo lo m\u00e1s com\u00fan en los dispositivos para I2C que utilicen direcciones de 7 bits, aunque existen dispositivos de 10 bits, pero es un caso raro. Una direcci\u00f3n de 7 bits implica que se pueden poner hasta 128 (27) dispositivos sobre un bus I2C. Hemos visto que las direcciones son de 8 bits y esto es porque el bit extra de los 7 de la direcci\u00f3n lo emplea el master para informar al slave si va a leer o escribir. Si el bit de lectura/escritura es cero, el dispositivo master est\u00e1 escribiendo en el slave. Si el bit es 1 el master est\u00e1 leyendo desde el slave. La direcci\u00f3n de 7 bit se coloca en los 7 bits m\u00e1s significativos del byte y el bit de lectura/escritura es el bit menos significativo.</p>"},{"location":"previos/#pantalla-oled","title":"Pantalla OLED","text":"<p>OLED es la abreviatura de (Organic Light-Emitting Diode) o diodo emisor de luz org\u00e1nico. Se dice org\u00e1nico debido a una pel\u00edcula de carbono que se encuentra en el interior del panel, detr\u00e1s del cristal protector. Cuando se colocan varias pel\u00edculas org\u00e1nicas entre dos conductores se puede hacer que cada pixel se ilumine de forma individual, haciendo muy eficiente este tipo de pantallas. Es decir, una pantalla OLED emite luz brillante propia al pasar corriente el\u00e9ctrica.</p> <p>Para su funcionamiento van ensambladas junto a un controlador CMOS SSD1306 y la electr\u00f3nica necesaria para hacerla funcionar. Este controlador se encarga de obtener los datos y enviarlos a la OLED.</p> <p>En la web se pueden encontrar muchas referencias que describen como trabaja. Aqu\u00ed daremos una breve descripci\u00f3n de lo que nos interesa.</p> <p>La coordenada X=0, Y=0 se corresponde con el extremos superior izquierdo y los ejes se sit\u00faan de la siguiente forma:</p> <p> <p> Ejes OLED</p> <p></p> <p>Desde el origen de coordenadas, cada unidad que a\u00f1adimos se corresponde con un desplazamiento de un pixel de la pantalla OLED.</p> <p>En arduinoblocks el bloque principal de escritura en pantalla tien la forma y las partes que podemos ver en la imagen siguiente:</p> <p> <p> Bloque \"Escribir texto...\"</p> <p></p> <p>El espacio de escritura del texto puede servir para ver los datos que devuelve alg\u00fan sensor, para lo que se puede situar el bloque en el espacio destinado al texto (en la imagen siguiente se utiliza un bloque para ver los datos recogidos por un sensor de temperatura LM35):</p> <p> <p> Bloque \"Escribir texto... con bloque sensor LM35\"</p> <p></p> <p>Tambi\u00e9n vamos a ver las herramientas disponibles en arduinoblocks para el trabajo con gr\u00e1ficos. Para poder mostrar gr\u00e1ficos debemos generar un mapa de bits que indique que pixeles estar\u00e1n apagados y cuales encendidos. Arduinoblocks dispone de una herramienta visual (OLED - Bitmap Data) que nos permite generar el c\u00f3digo de los bitmaps y de un bloque que nos permite mostrarlos. El bloque para mostrar un bitmap es el de la imagen siguiente:</p> <p> <p> Bloque \"Bitmap\"</p> <p></p> <p>A la herramienta OLED - Bitmap Data podemos acceder por cualquiera de los m\u00e9todos que vemos en la imagen siguiente:</p> <p> <p> Acceso a \"OLED - Bitmap Data\"</p> <p></p> <p>En la imagen siguiente vemos la pantalla OLED - Bitmap Data y la explicaci\u00f3n de sus partes.</p> <p> <p> Acceso a \"OLED - Bitmap Data\"</p> <p></p> <p>La copia de datos se realiza en el apartado correspondiente (el cuadro de entrada de la derecha) del bloque mostrar un bitmap.</p> <p>Puedes marcar directamente los p\u00edxeles que desees sobre el dibujo de la pantalla y estos ser\u00e1n los que se activar\u00e1n en la pantalla OLED conectada a la placa.</p> <p> <p> Marcado de pixeles</p> <p></p> <p>O bien, puedes subir una imagen desde \u201cElegir archivos\u201d (preferentemente ajustado a las dimensiones 128\u00d764 px, aunque cualquier imagen que subas se adaptar\u00e1 a esta proporci\u00f3n):</p> <p> <p> Subida de imagen</p> <p></p> <p>La imagen siguiente resume todo el proceso que se puede seguir desde cargar la imagen hasta completar el bloque:</p> <p> <p> Subida de imagen, opciones</p> <p></p>"},{"location":"previos/#pantalla-lcd-1602-i2c","title":"Pantalla LCD 1602 I2C","text":"<p>Una pantalla LCD (del ing\u00e9s, Liquid Cristal Display) de 2 l\u00edneas de 16 caracteres tiene el aspecto y la distribuci\u00f3n de pines que vemos en la imagen siguiente.</p> <p> <p> LCD 2x16</p> <p></p> <p>Es evidente que deber\u00edamos utilizar bastantes patillas de nuestra placa UNO para su control. En la imagen siguiente se muestra el conexionado m\u00ednimo necesario en una pantalla de este tipo: 4 bits para datos y dos se\u00f1ales de control En (Enable) y Rs (Register select). La conexi\u00f3n RW la ponemos a GND. Adem\u00e1s se debe a\u00f1adir una resistencia ajustable o un potenci\u00f3metro para regular el contraste de la pantalla.</p> <p> <p> Conexionado m\u00ednimo LCD 2x16</p> <p></p> <p>Es preferible utilizar las que tienen el aspecto que vemos en la imagen siguiente:</p> <p> <p> LCD 2x16 con m\u00f3dulo I2C</p> <p></p> <p>En realidad el conjunto que vemos en la imagen anterior no es mas que una LCD 2x16 a la que se ha incorporado un m\u00f3dulo adaptador de LCD a I2C. Este modulo est\u00e1 especialmente dise\u00f1ado para poder soldarlo directamente a la LCD y convertirla as\u00ed en un dispositivo I2C que adem\u00e1s ya lleva incorporado el potenciometro de ajuste de contraste.</p> <p>Esta pantalla requiere cuatro cables para establecer las conexiones, dos cables SDA (datos) y SCL (reloj) para el bus de comunicaciones I2C y los dos cables de alimentaci\u00f3n VCC y GND.</p> <p>La direcci\u00f3n I2C por defecto de este tipo de m\u00f3dulos puede ser 0x3F o en otros casos 0x27, e incluso hay modelos en los que se puede cambiar. Para un correcto control es muy importante identificar correctamente la direcci\u00f3n I2C de nuestro modulo, que en el caso de la que incorpora el kit TdR STEAM es la 0x27, pues de otra forma nuestro programa no funcionar\u00e1 correctamente.</p> <p>Una LCD 1602 I2C es muy sencilla de controlar a partir de los bloques que nos proporciona ArduinoBlocks. En la imagen siguiente ponemos como ejemplo los bloques para imprimir un texto o variable en un par fila-columna determinado.</p> <p> <p> Bloques para imprimir en un par fila-columna</p> <p></p> <p>Seguidamente se muestra el sistema de distribuci\u00f3n de filas y columnas.</p> <p> <p> Sistema de coordenadas en una LCD 1602</p> <p></p>"},{"location":"previos/#escanear-dispositivos-i2c","title":"Escanear dispositivos I2C","text":"<p>Si no conocemos la direcci\u00f3n especifica de nuestro m\u00f3dulo podemos utilizar un peque\u00f1o programa que llamaremos Escaner-I2C y que se encargar\u00e1 de identificar la direcci\u00f3n I2C y todos los dispositivos I2C conectados a nuestra placa. Debemos crear un proyecto, en esta ocasi\u00f3n, de tipo \"Arduino UNO\" para tener disponible el men\u00fa I2C que nos de acceso al bloque \"Escanear dispositivos I2C...\" tal y como vemos en la imagen siguiente:</p> <p> <p> Menu I2C</p> <p></p> <p>Un sencillo programa como el de la imagen siguiente nos permite ver los dispositivos I2C conectados y su direcci\u00f3n f\u00edsica asociada. El programa est\u00e1 disponible como Escaner-I2C.</p> <p> <p> Programa Escaner-I2C</p> <p></p> <p>Si conectamos la consola el resultado de tener la placa TdR STEAM es el de la imagen siguiente:</p> <p> <p> Consola para el programa Escaner-I2C</p> <p></p>"},{"location":"previos/#cambiar-la-direccion-fisica-del-dispositivo-i2c","title":"Cambiar la direcci\u00f3n f\u00edsica del dispositivo I2C","text":"<p>Esta tarea nos va a resultar especialmente \u00fatil si disponemos de LCDs I2C con una direcci\u00f3n fijada de f\u00e1brica y queremos conectar varias de ellas en nuestro proyecto. La parte posterior de la LCD 1602 de Keyestudio tiene el aspecto de la imagen siguiente. Nos fijaremos especialmente en los tres grupos de agujeros enmarcados en rojo. Aunque en este caso no vienen nombrados los vamos a denominar A0, A1 y A2 de izquierda a derecha.</p> <p> <p> Pads configuraci\u00f3n direcci\u00f3n f\u00edsica en la parte posterior LCD I2C</p> <p></p> <p>La direcci\u00f3n por defecto de f\u00e1brica en este caso es la 0x27, pero se puede cambiar alterando la situaci\u00f3n de conexionado de estos agujeros entre si seg\u00fan la tabla siguiente:</p> <p> A2 A1 A0 Direcci\u00f3n 0 0 0 0x27 0 0 1 0x26 0 1 0 0x25 0 1 1 0x24 1 0 0 0x23 1 0 1 0x22 1 1 0 0x21 1 1 1 0x20 <p></p> <p>Para establecer los unos de la tabla anterior basta con cortocircuitar los dos pads correspondientes. En la imagen siguiente se ha establecido la direcci\u00f3n f\u00edsica como 0x26.</p> <p> <p> * Direcci\u00f3n 0x26*</p> <p></p>"},{"location":"previos/#definicion-de-simbolos-en-la-lcd","title":"Definici\u00f3n de s\u00edmbolos en la LCD","text":"<p>Dentro de los bloques del men\u00fa Visualizaci\u00f3n -&gt; Pantalla LCD est\u00e1 el de \"definir s\u00edmbolo\", que permite definir uno de los 8 s\u00edmbolos personalizables que puede almacenar la pantalla LCD. El s\u00edmbolo se define por un mapa de bits (unos y ceros indicando cada p\u00edxel del s\u00edmbolo). Los s\u00edmbolos tienen una resoluci\u00f3n de 5x8 p\u00edxeles (blanco o negro).</p> <p>En ArduinoBlocks disponemos de una herramienta que nos ayuda a definir nuestros propios s\u00edmbolos y podemos acceder a ella desde herramientas o haciendo clic derecho sobre el bloque, despleg\u00e1ndose en cualquier caso un editor muy sencillo de usar y que vemos con un ejemplo en la imagen en la siguiente:</p> <p> <p> Ejemplo de simbolo creado con el editor</p> <p></p> <p>Para tener el s\u00edmbolo disponible simplemente copiamos la cadena generada en el lugar correspondiente del bloque.</p>"},{"location":"previos/#matriz-8x8-leds","title":"Matriz 8x8 LEDs","text":"<p>Una distribuci\u00f3n de 8x8 LEDs en forma de matriz permite crear una pantalla peque\u00f1a que tiene 64 LEDs con el aspecto de la Figura siguiente y que se conecta al puerto de comunicaci\u00f3n I2C.</p> <p> <p> Aspecto de la matriz de 8x8</p> <p></p> <p>Este mismo componente visto por su cara posterior:</p> <p> <p> Cara posterior de la matriz de 8x8</p> <p></p> <p>Este tipo de matrices son 'multiplexadas', por lo que para controlar 64 LED necesitas 16 pines y eso son muchos pines aunque hay chips de controladores como el MAX7219 que pueden controlar una matriz, pero a\u00fan as\u00ed hay mucho cableado que configurar y ocupan muchos pines. Para solucionar esto se utiliza un chip de control que tiene un reloj incorporado para multiplexar la pantalla. Adem\u00e1s del m\u00f3dulo utiliza una fuente de corriente constante que permite obtener un color uniforme y brillante de todos los diodos. El conjunto forma una matriz de 8x8 que se controla a trav\u00e9s de una interfaz I2C.</p> <p>Sus principales caracter\u00edsticas son:</p> <ul> <li>Matriz de LEDs de 8 filas y 8 columnas</li> <li>Direccionada por un chip HT16K33</li> <li>Conexi\u00f3n tipo I2C</li> <li>Tensi\u00f3n de alimentaci\u00f3n: 5V</li> <li>Frecuencia de trabajo: 400KHz</li> <li>Potencia de entrada: 2.5W</li> <li>Corriente de entrada: 500mA</li> </ul> <p>Tambi\u00e9n existen matrices en las que est\u00e1 disponible un m\u00e9todo de cambio de la direcci\u00f3n f\u00edsica del dispositivo mediante micro interruptores, como la que vemos en la imagen siguiente:</p> <p> <p> Aspecto de la matriz de 8x8</p> <p></p> <p>Estos dispositivos disponen de su propio men\u00fa de bloques y de un dise\u00f1ador de mapas de bits similar al visto para los s\u00edmbolos de la LCD que podemos apreciar en la figura siguiente:</p> <p> <p> Bloques para la matriz 8x8 y dise\u00f1ador</p> <p></p>"},{"location":"previos/#control-de-un-servomotor","title":"Control de un servomotor","text":""},{"location":"previos/#el-servomotor","title":"El servomotor","text":"<p>Un servomotor o abreviado servo es un motor especial que puede posicionar su eje en un \u00e1ngulo determinado y lo puede mantener en esta posici\u00f3n. Los servos est\u00e1ndar suelen girar 180\u00ba, pero es habitual encontrar servos que giran 90\u00ba y otros 360\u00ba, que son los conocidos como servos de rotaci\u00f3n continua. En el interior del mismo est\u00e1n ubicados tanto la electr\u00f3nica de control como los engranajes reductores que a su vez pueden llevar o no topes f\u00edsicos que marquen el \u00e1ngulo de giro. Para su funcionamiento s\u00f3lo necesitan ser alimentados (conexiones GND y VCC o 5V) y una se\u00f1al de control.</p> <p>Los servomotores son en realidad motores de corriente continua a los que se les ha a\u00f1adido una reductora, para que giren m\u00e1s despacio y con m\u00e1s fuerza, y un controlador electr\u00f3nico que permite hacer que gire un determinado \u00e1ngulo. Adem\u00e1s, el servo en todo momento sabe en qu\u00e9 posici\u00f3n est\u00e1, aunque se apague o reinicie. Esto significa que si a un servo que hemos movido a un determinado punto, lo hemos dejado sin alimentaci\u00f3n y al alimentarlo de nuevo le indicamos que gire 90\u00ba, no va a girar 90\u00ba sino que se va a dirigir a su posici\u00f3n de 90\u00ba que tiene memorizada internamente.</p> <p>En la figura siguiente vemos el interior de un servo esquematizado.</p> <p> <p> Interior de un servo 9g</p> <p></p> <p>Su aspecto real lo vemos en esta otra figura, donde tambi\u00e9n se aprecian los accesorios y torniller\u00eda que lo acompa\u00f1an.</p> <p> <p> Aspecto real servo 9g</p> <p></p> <p>Veamos su principio b\u00e1sico de funcionamiento: La electr\u00f3nica de control del servomotor tiene un circuito de referencia incorporado que emite la se\u00f1al de referencia, que es un ciclo de 20 ms con un ancho de pulso de 1,5 ms. Se compara la tensi\u00f3n de control recibida con la de referencia y se genera una diferencia de tensi\u00f3n. El circuito de control en la placa decidir\u00e1 la direcci\u00f3n de rotaci\u00f3n en consecuencia y accionar\u00e1 el motor. El sistema de engranajes o reductora convierten el giro del motor en un par de fuerza a trav\u00e9s del eje. El sensor detecta que se ha alcanzado la posici\u00f3n enviada de acuerdo con la se\u00f1al de retroalimentaci\u00f3n. Cuando la diferencia de tensi\u00f3n existe el motor gira y cuando la diferencia se reduce a cero, el motor se detiene. Normalmente, el \u00e1ngulo de rotaci\u00f3n es de 0 a 180 grados.</p> <p>El servomotor viene con un conector hembra de tres pines para tres cables de conexi\u00f3n, que se distinguen por los colores marr\u00f3n, rojo y naranja (diferentes marcas pueden tener diferentes colores).</p> <p>El \u00e1ngulo de rotaci\u00f3n del servomotor se controla regulando el ciclo de trabajo de la se\u00f1al PWM cuyo est\u00e1ndar es de 20 ms (50 Hz).</p> <p>Hay que tener mucho cuidado de posicionar el conector de los servos en los tres pines macho de la shield en el orden correcto (el conector es reversible) o seguramente romperemos algo de manera irremediable.</p> <p>Existe un tipo especial de servomotor que permite la rotaci\u00f3n continua. En algunos casos se trata de servomotores \u201ctrucados\u201d de forma que se modifican para permitir la rotaci\u00f3n continua quitando los topes mec\u00e1nicos y se sustituye el potenci\u00f3metro por un divisor de tensi\u00f3n con dos resistencia iguales (en algunos casos no se ponen resistencias y se bloquea el potenci\u00f3metro para que no gire dej\u00e1ndolo justo en su punto central). Este tipo de modificaci\u00f3n la podemos realizar nosotros (en la web existen multitud de tutoriales) o tambi\u00e9n podemos comprar un servomotor de rotaci\u00f3n continua listo para funcionar sin tener que hacer ning\u00fan tipo de bricolaje.</p> <p>En el apartado de bloques de programaci\u00f3n, se encuentra en \"Motor / Servo\" y en la figura siguiente vemos los bloques disponibles.</p> <p> <p> Bloques para servos</p> <p></p> <p>Para controlar el servomotor, indicamos los grados de rotaci\u00f3n (\u00c1ngulo de giro) que queremos y el tiempo de retardo, o tiempo que tarda en ir de una posici\u00f3n a otra.</p> <p>El control de un servomotor de rotaci\u00f3n continua se realiza de igual manera, pero su reacci\u00f3n es diferente.</p> <p>Los bloques Servo-Oscilador nos permiten de una forma sencilla hacer que el servo repita una secuencia de movimientos u oscilaciones de forma indefinida. Un ejemplo t\u00edpico puede ser el que vemos en la figura siguiente, donde el servo oscila entre 0 y 90\u00ba en periodos de dos segundos.</p> <p> <p> Oscilaci\u00f3n con servo</p> <p></p> <p>El bloque Servo-I2C (PCA9685) es simplemente un bloque para manejar la tarjeta controladora para 16 servos PCA9685 utilizando el bus I2C.</p>"},{"location":"previos/#tipos-de-servomotores","title":"Tipos de servomotores","text":"<p>La clasificaci\u00f3n b\u00e1sica la podemos establecer en los siguientes 4 tipos:</p> <ul> <li>Servomotores de corriente continua, que son los m\u00e1s habituales. Funcionan mediante un motor de corriente continua controlado por PWM. Dentro de estos existen multitud de ellos diferenciados por su torque y por su m\u00e1ximo \u00e1ngulo de giro. Para nuestros proyectos los m\u00e1s usuales son los que vemos en la imagen siguiente:</li> </ul> <p> <p> Tipos de servos</p> <p></p> <p>Vemos en la imagen los tres tipos comerciales de Keyestudio para servos tipo 9g.</p> <ul> <li>Servomotores de corriente alterna, que se utilizan para controlar grandes fuerzas.</li> <li>Servomotores de imanes permanentes o Brushless. Construidos a base de motores de corriente alterna sin escobillas. Se utilizan para grandes torques y altas velocidades. Su uso principal est\u00e1 en la industria.</li> </ul>"},{"location":"previos/#posicion-de-inicio-del-servo","title":"Posici\u00f3n de inicio del servo","text":"<p>Antes de fijar con su tornillo cualquiera de las palas debemos averiguar cual es la posici\u00f3n de 0\u00ba o inicial del servo. Para ello vamos a crear el programa \"KS_UNO_Posicionar_servo\" que vemos en la figura siguiente o que podemos importar del enlace.</p> <p> <p> KS_UNO_Posicionar_servo</p> <p></p> <p>Ejecutamos el programa que hemos cargado en la placa, y lo tenemos que parar en el momento que el servo vuelve a la posici\u00f3n inicial (hace un giro repentino de 180\u00ba tras un tiempo de espera). En ese momento, quitamos el soporte tipo aspa vigilando de que no se modifique la posici\u00f3n del servo. Sin que el servomotor se haya movido, montamos el soporte en su lugar y damos por concluida la tarea.</p>"},{"location":"previos/#listas","title":"Listas","text":"<p>Las listas son un gran recurso del que podemos aprender mucho a trav\u00e9s de los dos videos siguientes obra del autor de Arduinoblocks:</p> <ul> <li>Listas num\u00e9ricas din\u00e1micas</li> <li>Listas de texto din\u00e1micas</li> </ul> <p>Las listas de datos nos permiten almacenar un listado de valores y acceder a ellos por su posici\u00f3n o \u00edndice en la lista. Las listas pueden ser de tipo num\u00e9ricas o de texto, como vemos en la imagen siguiente:</p> <p> <p> Tipos de listas en Arduinoblocks</p> <p></p> <p>Ahora la inicializaci\u00f3n de las listas es din\u00e1mica y cuando creamos, por ejemplo, una de tipo num\u00e9rico podemos ver todos los bloques disponibles para esa lista:</p> <p> <p> Ejemplo de lista num\u00e9rica</p> <p></p> <p>Si retomamos el ejemplo de posicionamiento del servo, podemos definir las posiciones repitiendo tantas veces como necesitemos el primero de los bloques o dando la lista de valores con el segundo en formato CSV, e incluso mezclar ambos bloques para definir dichas posiciones.</p> <p>Vamos a implementar dicho programa mediante listas.</p> <ul> <li>Caso 1: repitiendo posiciones. El programa para este caso ser\u00eda el siguiente:</li> </ul> <p> <p> KS_UNO_pos_servo_listas1</p> <p></p> <ul> <li>Caso 2: Definiendo una lista de valores. El programa para este caso ser\u00eda el siguiente:</li> </ul> <p> <p> KS_UNO_pos_servo_listas2</p> <p></p>"},{"location":"previos/#el-sensor-de-ultrasonidos-hc-sr04","title":"El sensor de ultrasonidos HC-SR04","text":"<p>Los sensores ultras\u00f3nicos utilizan un sonar para determinar la distancia desde el sensor al objeto. Este m\u00f3dulo utiliza un chip CS100A que puede medir distancias entre 4 cm y 300 cm siendo la medida precisa y estable. El m\u00f3dulo incluye el transmisor y el receptor ultras\u00f3nicos y su circuito de control. El dispositivo debe conectarse a dos pines, lo que se debe a que para su funcionamiento necesita uno para emitir el ultrasonido (Trigger) y otro para recibirlo (Echo). El principio de funcionamiento es el de la figura siguiente:</p> <p> <p> Principio de funcionamiento del sensor HC-SR04</p> <p></p> <p>El sensor lo que hace es medir el tiempo (t) en microsegundos que tarda en recibir el eco del sonido emitido y como la velocidad (v) es conocida, se trata de la velocidad del sonido, que es de 340 m/s o 0.034 cm/\u03bcs, la distancia vendr\u00e1 dada por la siguiente ecuaci\u00f3n:</p> <p>\\(d = v \\cdot t = 0.034(\\dfrac{cm}{\\mu s}) \\cdot t (\\mu s) = 0.034 \\cdot t (cm)\\)</p> <p>Aunque nosotros no debemos preocuparnos por esto puesto que el bloque ya no devuelve esta distancia medida en cm. Su aspecto lo vemos en la figura siguiente:</p> <p> <p> Aspecto del sensor HC-SR04</p> <p></p> <p>El m\u00f3dulo detector ultras\u00f3nico proporciona una distancia de detecci\u00f3n sin contacto que va de 2 cm a 450 cm, con una precisi\u00f3n de 3 mm y un \u00e1ngulo de 15\u00ba. El m\u00f3dulo incluye un transmisor y un receptor de ultrasonidos, as\u00ed como el circuito de control correspondiente y basa su funcionamiento en la secuencia de trabajo que vemos en la figura siguiente.</p> <p> <p> Secuencia de trabajo del sensor HC-SR04</p> <p></p> <ol> <li>Partiendo de un nivel bajo de trigger lo mantenemos activado o en estado alto al menos durante 10 us.</li> <li>Tras el disparo el m\u00f3dulo emitir\u00e1 una r\u00e1faga de pulsos cuadrados de 40 KHz y detectar\u00e1 autom\u00e1ticamente si hay una se\u00f1al de regreso.</li> <li>Si hay una se\u00f1al de retorno, se emite un nivel alto a trav\u00e9s de ECHO. El tiempo de duraci\u00f3n de este nivel alto es en realidad el tiempo transcurrido desde la emisi\u00f3n hasta la recepci\u00f3n del ultrasonido.</li> </ol> <p>En el apartado de bloques de programaci\u00f3n, se encuentra en \"Sensores\" y tiene el aspecto de la figura siguiente:</p> <p> <p> Bloque para lectura del sensor HC-SR04</p> <p></p>"},{"location":"previos/#emisor-y-receptor-de-infrarrojos","title":"Emisor y receptor de infrarrojos","text":""},{"location":"previos/#que-son-los-infrarrojos","title":"\u00bfque son los infrarrojos?","text":"<p>Son una clase de radiaci\u00f3n electromagn\u00e9tica con una longitud de onda que resulta superior a la longitud de onda de la luz visible, siendo su frecuencia superior a las microondas. Dentro del espectro electromagn\u00e9tico, la radiaci\u00f3n infrarroja se encuentra comprendida entre el espectro de luz visible y las microondas. Tiene longitudes de onda mayores o m\u00e1s largas que el rojo. En la imagen siguiente, obtenida del blog de Mercedes Gonz\u00e1lez Mas vemos caracterizados los infrarrojos dentro del espectro.</p> <p> <p> Espectro electromagn\u00e9tico</p> <p></p> <p>Como podemos observar en la imagen, los rayos infrarrojos son clasificados, de acuerdo a su longitud de onda, del siguiente modo:</p> <ul> <li>infrarrojo cercano, con longitud de onda entre 0.7 \u00b5m y 1.1 \u00b5m, es la parte del espectro infrarrojo que ese encuentra m\u00e1s pr\u00f3ximo a la luz visible.</li> <li>infrarrojo medio, con longitud de onda entre 1,1 \u00b5m y 15 \u00b5m.</li> <li>infrarrojo lejano o regi\u00f3n m\u00e1s cercana a las microondas, con longitud de onda entre 15 \u00b5m y 100 \u00b5m</li> </ul> <p>En la imagen siguiente, obtenida de Wikipedia, sobre espectro electromagn\u00e9tico podemos ver m\u00e1s informaci\u00f3n del tema.</p> <p> <p> Espectro electromagn\u00e9tico</p> <p></p> <p>Todos los cuerpos emiten una cierta cantidad de radiaci\u00f3n, y aunque esta resulta invisible para el ojo humano, existen dispositivos electr\u00f3nicos capaces de \"verla\" por estar dise\u00f1ados para ello.</p>"},{"location":"previos/#diodo-receptor-de-infrarrojos","title":"Diodo receptor de infrarrojos","text":"<p>Uno de los receptores m\u00e1s universal utilizado en placas tipo Arduino es el receptor de infrarrojos universal TL1838, VS1838B o simplemente 1835 de 38KHz, cuyo aspecto podemos ver en la imagen siguiente:</p> <p> <p> Diodo IR 1838</p> <p></p> <p>En el datasheet TL1838 del dispositivo tenemos toda la informaci\u00f3n sobre el mismo destacando las siguientes caracter\u00edsticas:</p> <ul> <li>Voltaje de funcionamiento: 2.7V a 5.5V</li> <li>Frecuencia: 37.9KHz</li> <li>\u00c1ngulo de recepci\u00f3n: 90\u00b0</li> <li>Rango de recepci\u00f3n: 18m</li> </ul> <p>El dispositivo genera una se\u00f1al de salida que sirve para controles remotos universales y utiliza la codificaci\u00f3n NEC. El receptor de infrarrojos permite codificar los protocolos de se\u00f1ales de pulsos infrarrojos utilizados por los mandos a distancia. Los protocolos detectados son los siguientes: RC5, RC6, NEC, SONY, PANASONIC, JVC, SAMSUNG, WHYNTER, AIWA, LG, SANYO, MITSUBISHI y DENON. Es decir, detectar\u00eda cualquier se\u00f1al emitida por cualquiera de esos mandos.</p>"},{"location":"previos/#emisor-de-infrarrojos","title":"Emisor de infrarrojos","text":"<p>En nuestro caso como emisor de infrarrojos vamos a utilizar el control remoto de Keyestudio que vemos en la imagen siguiente:</p> <p> <p> Control remoto</p> <p></p> <p>El mini control remoto tiene 17 teclas de funci\u00f3n y tiene las siguientes especificaciones:</p> <ul> <li>Bater\u00eda: pilas de bot\u00f3n CR2025</li> <li>Distancia de transmisi\u00f3n: hasta 8 m</li> <li>\u00c1ngulo efectivo: 60\u00b0</li> </ul> <p>El control remoto, o mando a distancia, por IR funciona emitiendo trenes de pulsos de luz infrarroja. Diferentes se\u00f1ales corresponden a botones diferentes La se\u00f1al infrarroja transmite el c\u00f3digo correspondiente al bot\u00f3n del mando a distancia pulsado al dispositivo en forma de una serie de impulsos de luz infrarroja. El receptor recibe la serie de impulsos de infrarrojos y los pasa a un procesador que decodifica y activar\u00e1n una determinada funci\u00f3n del dispositivo. En el reto y las actividades del mismo obtendremos estos c\u00f3digos. En arduinoBlocks se han asignado los siguientes nombres a las teclas:</p> <p> <p> Nombre teclas control remoto en Arduinoblocks</p> <p></p>"},{"location":"previos/#bloques-en-arduinoblocks","title":"Bloques en Arduinoblocks","text":"<p>El sensor receptor de infrarrojos permite obtener la cadena de texto con el c\u00f3digo en formato hexadecimal correspondiente al tren de pulsos de IR generado al pulsar una determinada tecla. El bloque puede ser uno de los que vemos en la imagen siguiente, dependiendo del tipo de proyecto en el que estemos:</p> <p> <p> En proyectos tipo UNO</p> <p> En proyectos con TdR STEAM</p> <p></p> <p>El valor devuelto por el bloque de recepci\u00f3n ser\u00e1 una cadena de texto con valor vac\u00edo en caso de no detectar ning\u00fan c\u00f3digo. Al devolver el bloque una cadena de texto debemos recordar que lo tenemos que almacenar en una variable de tipo texto.</p> <p>Si utilizamos mandos gen\u00e9ricos RC5 como el modelo de Keyestudio, podemos usar el bloque de la imagen siguiente para comparar los c\u00f3digos recibidos y as\u00ed identificar f\u00e1cilmente cada tecla.</p> <p> <p> En proyectos tipo UNO</p> <p> En proyectos con TdR STEAM</p> <p></p>"},{"location":"problemasUSB/","title":"Problemas de conexi\u00f3n USB","text":"<p>La descripci\u00f3n que sigue se produce en las siguientes condiciones:</p> <ul> <li>Sistema operativo: Ubuntu 22.04.5 LTS (Jammy Jellyfish)</li> <li>Navegador: Chromium, Versi\u00f3n 140.0.7259.2 (Build oficial) snap (64 bits)</li> <li>Programa: MicroBlocks, Versi\u00f3n v2.0.60 pilot</li> <li>Dispositivo microcontrolado: Placa Foxbit</li> </ul> <p>Si tu caso es similar o tienes el mismo tipo de problema puedes probar los comandos descritos para ver si se soluciona.</p> <p>La problem\u00e1tica parte de la siguiente situaci\u00f3n: cuando se conecta la placa a un puerto USB se intenta actualizar el firmware de la misma se inicia el proceso tal y como vemos en la imagen siguiente:</p> <p> <p>.  </p> <p></p> <p>Pero no se produce ning\u00fan progreso y tras un tiempo la ventana pasa a tener el aspecto habitual. Si se hace clic en \"Conecta\" y se elige \"Conect (USB)\" se abre la ventana de dispositivos vinculados:</p> <p> <p>.  </p> <p></p> <p>Al hacer clic en el bot\u00f3n \"Conectar\" aparentemente no ocurre nada y no se muestra la placa conectada ni el logo en verde. En cambio si vamos a desplegar \"Conecta\" vemos lo siguiente:</p> <p> <p>.  </p> <p></p> <p>Aparentemente la placa est\u00e1 conectada pero la conexi\u00f3n no es completa y si se intenta ejecutar algo en la misma genera error de \"Placa no conectada\", tal y como vemos en la animaci\u00f3n siguiente:</p> <p> <p>.  </p> <p></p> <p>El problema radica en la configuraci\u00f3n de las conexiones en caliente o hotplug y su integraci\u00f3n en USB u Udev bajo Linux. La entrada udev encontrada en Wikipedia que se reproduce a continuaci\u00f3n lo acalara a la perfecci\u00f3n:</p> <p> </p> <p>udev es el gestor de dispositivos que usa el n\u00facleo Linux en su versi\u00f3n 2.6. Su funci\u00f3n es controlar los ficheros de dispositivo en /dev. Es el sucesor de devfs y de hotplug, lo que significa que maneja el directorio /dev y todas las acciones del espacio de usuario al agregar o quitar dispositivos, incluyendo la carga de firmwares.</p> <p>El problema lo centramos en el navegador y que este ha sido instalado desde la tienda Snap.</p>"},{"location":"problemasUSB/#hotplug","title":"Hotplug","text":"<p>Seg\u00fan la documentaci\u00f3n de soporte sobre Hotplug dada por Canonical la compatibilidad con Hotplug est\u00e1 actualmente en desarrollo y estar\u00e1 disponible en una versi\u00f3n futura de snapd.</p> <p>Hay que habilitar la conexi\u00f3n en caliente dado que Hotplug es actualmente una funci\u00f3n experimental.</p> <p>El soporte de hotplug se habilita con el siguiente comando:</p> <pre><code>sudo snap set system experimental.hotplug=true\n</code></pre> <p>Para que el comando tenga efecto es necesario reiniciar snapd o volver a conectar los dispositivos USB para iniciar el procesamiento de conexi\u00f3n en caliente para los dispositivos conectados.</p> <pre><code>sudo systemctl restart snapd\n</code></pre>"},{"location":"problemasUSB/#chromium","title":"Chromium","text":"<p>En primer lugar a\u00f1adimos a Chromium raw-usb para permitir el acceso a todos los dispositivos USB conectados.</p> <pre><code>sudo snap connect chromium:raw-usb\n</code></pre> <p>A\u00f1adimos puerto serie a la conexi\u00f3n:</p> <pre><code>sudo snap connect chromium:serial-port\n</code></pre>"},{"location":"Miscelanea/about/","title":"Autor","text":"<p> Federico Coca</p> <ul> <li> <p>GitHub</p> </li> <li> <p>Bluesky</p> </li> <li> <p>Instagram</p> </li> <li> <p>Mas informaci\u00f3n</p> </li> </ul>"},{"location":"Miscelanea/lic/","title":"Licencias","text":"<ul> <li> <p>Licencia MIT incluida en la creaci\u00f3n del repositorio.</p> </li> <li> <p>Creative Commons Atribuci\u00f3n-CompartirIgual 4.0 International (\"CC BY-SA\"). CC BY-SA 4.0 </p> </li> </ul> <p> <p> </p> <p></p>"},{"location":"Miscelanea/soft/","title":"Software utilizado","text":"<ul> <li> <p>Sistema operativo: Ubuntu 22.04.4 LTS</p> </li> <li> <p>Dibujo 3D FreeCAD</p> </li> <li> <p>Esquemas de montaje creados con Fritzing</p> </li> <li> <p>Paquete ofim\u00e1tico de referencia: LibreOffice</p> </li> <li> <p>Libreria Material para MkDocs</p> </li> <li> <p>Visual Studio Code</p> </li> <li> <p>Creaci\u00f3n de GIF animados para Ubuntu Peek</p> </li> <li> <p>Sistema principal de capturas de pantalla: Shutter</p> </li> <li> <p>Dibujo 2D vectorial Inkscape</p> </li> <li> <p>Retoque de im\u00e1genes GIMP</p> </li> <li> <p>Capturadora de video e im\u00e1gen para webcam XAWVT. Se instala con <code>sudo apt install xawtv</code></p> </li> <li> <p>Grabaci\u00f3n de escritorio con vokoscreen</p> </li> <li> <p>Programaci\u00f3n por bloques con ArduinoBlocks</p> </li> <li> <p>Programaci\u00f3n por bloques con MicroBlocks</p> </li> <li> <p>Programaci\u00f3n mediante el IDE de Arduino</p> </li> </ul>"},{"location":"Miscelanea/webgrafia/","title":"Webgraf\u00eda y bibliograf\u00eda","text":"<ul> <li> <p>FreeBook Book (online &amp; updated) de arduinoblocks</p> </li> <li> <p>Libros &amp; Documentaci\u00f3n de arduinoblocks</p> </li> <li> <p>Playlist ESP32 micro:STEAMakers con arduinoblocks</p> </li> <li> <p>Impresionante Documentaci\u00f3n y manual de programaci\u00f3n de Innova Didactic</p> </li> <li> <p>Arduino IDE</p> </li> <li> <p>Serial Monitor tutorial</p> </li> <li> <p>Impresionante documentaci\u00f3n de Francisco Soldado: Ardutaller</p> </li> <li> <p>Guia de trabajo para micro:bit </p> </li> <li> <p>Wikipedia</p> </li> </ul>"},{"location":"STEAMakers/considera/","title":"Consideraciones sobre ESP32","text":"<p>En este apartado vamos a realizar algunas consideraciones sobre los siguientes aspectos de las placas ESP32:</p> <ul> <li>Pines</li> <li>Entradas anal\u00f3gicas</li> <li>Entradas y salidas digitales</li> <li>Salidas PWM en ESP32</li> </ul>"},{"location":"STEAMakers/considera/#pines-en-esp32","title":"Pines en ESP32","text":"<p>En general los pines en ESP32 son de tipo GPIO (General Purpose Input/Output, Entrada/Salida de Prop\u00f3sito General).</p> <p>Algunos pines GPIO pueden tener un comportamiento no esperado durante el arranque del sistema o en el reinicio del mismo. Esto se debe a que durante el arranque de la placa ESP32 se deben realizar procesos internos que ponen en alto ciertos pines o incluso hacen que emitan se\u00f1ales, y esto puede provocar esos efectos no deseados.</p> <p>El pin GPIO1 del microcontrolador es el pin Tx del puerto UART de depuraci\u00f3n y cuando la placa arranca, se reinicia o cuando nosotros hacemos uso del puerto serie, este pin emite datos. Por este motivo es un pin que no conviene usar como entrada o salida.</p> <p>El GPIO3 tiene un problema similar al GPIO1 ya que se trata del pin Rx del micocontrolador.</p> <p>Los pines GPIO34, GPIO35, GPIO36 y GPIO39 solamente pueden utilizarse como entradas porque no disponen de resistencia pull-up.</p>"},{"location":"STEAMakers/considera/#entradas-analogicas","title":"Entradas anal\u00f3gicas","text":"<p>Las se\u00f1ales anal\u00f3gicas son las que pueden tomar diferentes valores de tensi\u00f3n en un determinado periodo de tiempo, siendo su forma mas caracter\u00edstica la senoidal. Cuando hablamos de entradas anal\u00f3gicas estamos hablando de pines del microcontrolador que pueden leer esas se\u00f1ales. En el caso de ESP32 todo son pines GPIO y por lo tanto se requiere de un conversor anal\u00f3gico a digital que sea capaz de transformar esas se\u00f1ales anal\u00f3gicas en digitales. El chip ESP32 que monta la placa ESP32 STEAMakers dispone de 2 convertidores Digital-Anal\u00f3gico (DAC) de 8 bits y 16 convertidores Anal\u00f3gico-Digital (ADC) de 12 bits. Estos conversores se asocian a los pines IO1 hasta IO20.</p> <p>La resoluci\u00f3n de los conversores ADC es de 12 bits (2^12 = 4096) por lo que la transformaci\u00f3n de los valores digitales va a ser de mucha precisi\u00f3n. Pero cuidado con el uso de estas entradas, porque en realidad su comportamiento es que est\u00e1n leyendo valores digitales y no valores anal\u00f3gicos por lo que lo cambios de valores anal\u00f3gicos muy peque\u00f1os pueden no ser detectados.</p> <p>Los canales ADC se dividen en dos puertos denominados ADC1 y ADC2. Las entradas anal\u00f3gicas del puerto ADC2 solamente las podemos usar como tales si el controlador WiFi no ha sido iniciado, ya que este puerto es el que utiliza el controlador del WiFi que integra la placa.</p> <p>AVISO IMPORTANTE</p> <p>Cuando vamos a trabajar con se\u00f1ales anal\u00f3gicas debemos tener muy presente que, aunque todos los pines IOxx son entradas y salidas digitales, algunas incluso con m\u00e1s funciones. Cuando tenemos que utilizar la comunicaci\u00f3n WiFi el convertidor ADC2 NO funciona.</p>"},{"location":"STEAMakers/considera/#entradas-y-salidas-digitales","title":"Entradas y salidas digitales","text":"<p>Una se\u00f1al digital solamente puede tomar dos valores o estados l\u00f3gicos, alto y bajo, High y Low, 0 y 1 siendo su representaci\u00f3n caracter\u00edstica una onda cuadrada. El estado bajo se asocia a cero voltios y el estado alto a 3.3V o 5V.</p> <p>Las entradas permiten recibir se\u00f1ales con los valores digitales descritos, como por ejemplo leer el estado de un pulsador.</p> <p>Debemos saber que ESP32 lleva unas resistencias de pull-up (1) o pull-down (0) que nos permiten establecer el estado que tiene la entrada cuando est\u00e1 en reposo. Estas resistencias est\u00e1n disponibles en todos los pines excepto el 34 y 39. Estas resistencias internas se pueden activar por c\u00f3digo.</p> <p>Las salidas digitales nos van a servir para realizar acciones sobre los elementos conectadas en ellas, como por ejemplo encender un LED o activar un rel\u00e9.</p> <p>En principio todos los pines que se pueden utilizar como salida en ESP32 pueden usarse con PWM excepto los pines que no disponen de resistencia de pull-up interna.</p>"},{"location":"STEAMakers/considera/#compatibilidad-y-descripcion-de-pines-esp32-steamakers","title":"Compatibilidad y descripci\u00f3n de pines ESP32 STEAMakers","text":"<p>Importante: Todos los pines IOxx son entradas y salidas digitales, algunas con m\u00e1s funciones. Utilizando la comunicaci\u00f3n WiFi no funciona el ADC2.</p> <p>En las tablas siguientes tenemos relacionados todos los pines entre los tipos de placas UNO y ESP32 STEAMakers.</p> UNO Funci\u00f3n ESP32 Ampliaci\u00f3n UNO Funci\u00f3n ESP32 Ampliaci\u00f3n D0 Rx IO03 UART 0 RX D1 Rx IO01 UART 0 TX D2 ADC2 CH9 IO26 DAC2 D3 ADC2 CH8 IO25 DAC1 D4 IO17 UART 2 TX D5 IO16 UART 2 RX D6 ADC2 CH7 IO27 TOUCH7 / HSPI CS D7 ADC2 CH6 IO14 TOUCH6 / HSPI SCK D8 ADC2 CH5 IO12 TOUCH5 / HSPI MISO D9 ADC2 CH4 IO13 TOUCH4 / HSPI MOSI D10 IO05 VSPI CSO D11 IO23 VSPI MOSI D12 IO19 VSPI MISO D13 IO18 VSPI CLK GND GND 5V +5V SDA I2C IO21 SDA / VSPI HD SCL I2C IO22 SCL / VSPI WP A0 ADC2 CH2 IO02 TOUCH 2 / HSPI WP / E/S de RTC 12 procesador ultra baja potencia A1 ADC2 CH0 IO04 TOUCH 0 / HSPI CD / E/S de RTC 10 procesador ultra baja potencia A2 ADC1 CH7 IO35 E/S de RTC 5 procesador ultra baja potencia A3 ADC1 CH6 IO34 E/S de RTC 4 procesador ultra baja potencia A4 SDA IO21 A5 SCL IO22 <p>En la tabla siguiente tenemos relacionados el resto de los pines entre los tipos de placas UNO y ESP32 STEAMakers.</p> UNO Funci\u00f3n ESP32 Ampliaci\u00f3n UNO Funci\u00f3n ESP32 Ampliaci\u00f3n VIN VIN GND GND GND GND 5V +5V 3.3V +3.3V RST Reset 5V 5V ADC2 CH1 IO00 TOUCH 1 / E/S de RTC 11 procesador ultra baja potencia D0 - uSD IO32 CLK - uSD IO15 CMD - uSD IO33 IOUT IO35 Medidor de corriente VOUT IO37 Medidor de tensi\u00f3n <p>En la figura siguiente podemos ver y descargar un gr\u00e1fico con el pinout de la ESP32 STEAMakers en formato original svg.</p> <p> <p> Comparativa de la placa ESP32 STEAMakers</p> <p></p>"},{"location":"STEAMakers/considera/#verificacion-de-la-alimentacion-de-la-steamakers","title":"Verificaci\u00f3n de la alimentaci\u00f3n de la STEAMakers","text":"<p>La ESP32 STEAMakers, como cualquier otra placa basada en ESP32, debe tener unos valores de alimentaci\u00f3n m\u00ednimos. Gracias a que la STEAMakers lleva incorporado un medidor de tensi\u00f3n e intensidad, podemos saber la tensi\u00f3n de alimentaci\u00f3n en todo momento.</p> <p>Si la tensi\u00f3n de alimentaci\u00f3n cae por debajo de 4,8 V (aproximadamente), la placa no funcionar\u00e1 correctamente, sobre todo en la comunicaci\u00f3n WiFi.</p> <p>Es recomendable realizar una verificaci\u00f3n de la tensi\u00f3n que est\u00e1 entregando el puerto USB del ordenador. Si la tensi\u00f3n no est\u00e1 cerca de 5 V deberemos cambiar el cable USB, alimentar el puerto USB de forma externa o alimentar la placa con una fuente de alimentaci\u00f3n.</p> <p>Podemos realizar un peque\u00f1o programa para verificar la alimentaci\u00f3n de la placa como el que vemos en la imagen siguiente:</p> <p> <p> Valor de tensi\u00f3n en la placa</p> <p></p> <p>Deber\u00eda ser un buen h\u00e1bito colocar estos bloques al inicio de cualquier programa para asegurarnos de una buena alimentaci\u00f3n, sobre todo si trabajamos directamente con la placa conectada al puerto USB del ordenador y empezamos a conectar elementos externos en la placa (pantallas, LED, servos, etc.).</p> <p>Tambi\u00e9n hay que tener en cuenta que, cuando utilicemos la comunicaci\u00f3n mediante WiFi, deja de funcionar el ADC2, por lo que no podremos leer los valores de sensores conectados a los pines A0 y A1. En este caso, la alternativa es conectarlos a los pinos A2 y/o A3.</p>"},{"location":"STEAMakers/contSM/","title":"Antes de","text":"<p>comenzar a utilizar la placa ESP32 STEAMakers, tienes que comprobar que tu ordenador tenga instalados los controladores necesarios. Por ello es aconsejable estudiar antes de nada los contenidos de este apartado.</p>"},{"location":"STEAMakers/contSM/#descripcion","title":"Descripci\u00f3n","text":"<p> <p> Placa ESP32 STEAMakers</p> <p></p> <p>La placa ESP32 STEAMakers es una placa basada en el microcontrolador ESP32, que gracias a una disposici\u00f3n vers\u00e1til de conectores facilita el acceso a sus numerosas entradas y salidas donde conectar toda clase de sensores y actuadores. Incorpora comunicaci\u00f3n WiFi y Bluetooth integradas, as\u00ed como mayor capacidad de procesamiento que las populares placas electr\u00f3nicas Arduino UNO y clones de la misma.</p> <p>Esta placa puede programarse mediante diversas plataformas y lenguajes, como Arduino IDE con c\u00f3digo basado en C/C++ o entornos de programaci\u00f3n visual Arduinoblocks y MicroBlocks.</p> <p>Todo ello convierte al ESP32 STEAMakers en un recurso muy vers\u00e1til y accesible para iniciarse en electr\u00f3nica, programaci\u00f3n y prototipado de proyectos de rob\u00f3tica, internet de las cosas, dom\u00f3tica, etc. Es especialmente adecuada para docentes y estudiantes gracias a su facilidad de programaci\u00f3n y conectividad inal\u00e1mbrica integrada.</p> <p>El formato de placa tipo UNO hace posible reutilizar todo el material del que dispongamos para placas tipo UNO puesto que se ha conservado la compatibilidad de pines en la distribuci\u00f3n.</p> <p>Los pines de Se\u00f1al (S) se corresponden con pines GPIO. Los pines GND (G) se corresponden con masa. Los pines VCC (V) a la tensi\u00f3n de los mismos. Puedes controlar el voltaje VCC mediante un interruptor deslizante para ponerlo a 5V o 3.3V.</p> <p>Cuando se sit\u00faa a 5V, el nivel en el puerto de comunicaci\u00f3n serie es de 5V, el voltaje de los pines es de 5V. Cuando se cambia a 3.3V, el nivel en el puerto de comunicaci\u00f3n serie es de 3.3V, el voltaje de los pines es de 3.3V.</p> <p>Tambi\u00e9n, de forma separada hay cuatro conjuntos de cuatro pines macho mas un conjunto de pines hembra, a modo de hub, para comunicaci\u00f3n IIC o I2C. Tambi\u00e9n existe un conjunto de 4 pines macho para comunicaci\u00f3n serie.</p>"},{"location":"STEAMakers/contSM/#componentes-de-la-placa","title":"Componentes de la placa","text":"<p> <p> Componentes de la placa ESP32 STEAMakers</p> <p></p> <ol> <li>Bot\u00f3n de reset. Para reiniciar la placa.</li> <li>Conmutador deslizante. Permite controlar el voltaje en los pines V (VCC) entre 3.3V or 5V.</li> <li>Conector USB-B. Para alimentaci\u00f3n y cargar de firmware.</li> <li>Bus I2C. Con conectores macho y hembra para GND - 3.3V/5V - SDA - SCL.</li> <li>Pines anal\u00f3gicos. Conjunto de conectores de 3 pines con GND - 3.3V - (IO24 - A3),(IO35 - A2),(IO04 - A1),(IO02 - A0)</li> <li>Conector alimentaci\u00f3n DC. La placa se puede alimentar con una tensi\u00f3n continua externa de 7 a 12V desde la toma de alimentaci\u00f3n DC.</li> <li>Tarjeta microSD. Pines CS - CMD - SCK - D0. El soporte est\u00e1 en la cara posterior de la placa.</li> <li>Medidor de corriente y tensi\u00f3n. Mediante el circuito integrado ACS712T de Allegro microsystems se suministran las medidas de consumo energ\u00e9tico: corriente (IOUT) en el pin io36 y tensi\u00f3n (VOUT) en el pin io39.</li> <li>Pines varios. De izquierda a derecha seg\u00fan la imagen anterior tenemos: io0, 5V, Reset, 3.3V, 5V, GND, GND y entrada de alimentaci\u00f3n VIN entre 7 y 12V.</li> <li>Entradas anal\u00f3gicas y bus I2C. A0 (io2) - A1 (io4) - A2 (io35) - A3 (io34) y Pines SDA y SCL del Bus I2C.</li> <li>Microcontrolador. Chip ESP32-WROOM-32.</li> <li>Comunicaci\u00f3n serie. Para conectar la comunicaci\u00f3n serie. 4Pines (GND, VCC, RX, TX).</li> <li>Entradas salidas digitales. Pines GPIO: D0 (RX0) - D1 (TX0) - D2 (io26) - D3 (io25) - D4 (io17) - D5 (io16) - D6 (io27) - D7 (io14) - D8 (io12) - D9 (io13) - D10 (io05) - D11 (io23) - D12 (io19) y D13 (io18).</li> <li>Pines I2C. Pines para comunicaciones I2C de 4 pines (GNC, VCC, SDA y SCL).</li> <li>Pines G,V,S (GND, VCC, Se\u00f1al). Pines digitales de entrada/salida, etiquetados de D2 a D13 con la misma correspondencia que se ha dado anteriormente. Estos pines digitales se pueden conectar mediante conectores hembra tipo dupont individuales o de 2,54mm de paso. Selecciona la tensi\u00f3n de 3,3 V o 5 V mediante el interruptor deslizante.</li> </ol>"},{"location":"STEAMakers/contSM/#compatibilidad-y-descripcion-de-pines-unoesp32-steamakers","title":"Compatibilidad y descripci\u00f3n de pines UNO/ESP32 STEAMakers","text":"<p>Importante:</p> <p>Todos los pines IOxx son entradas y salidas digitales de prop\u00f3sito general, algunas con m\u00e1s funciones.</p> <p>IMPORTANTE</p> <p>Utilizando la comunicaci\u00f3n WiFi no funciona el ADC2.</p> <p> Pin UNO Pin ESP32 Funci\u00f3n Ampliaci\u00f3n Descripci\u00f3n UNO D0 IO03 Rx UART 0 RX Pin de recepci\u00f3n Bluetooth y WiFi D1 IO01 Tx UART 0 TX Pin de transmisi\u00f3n Bluetooth y WiFi D2 IO26 ADC2 CH9 DAC2 Entrada/salida digital D3 IO25 ADC2 CH8 DAC1 Entrada/salida digital D4 IO17 UART 2 TX Entrada/salida digital D5 IO16 UART 2 RX Entrada/salida digital D6 IO27 ADC2 CH7 ADC2-7 / TOUCH7 Entrada/salida digital D7 IO14 ADC2 CH6 ADC2-6 / TOUCH6 Entrada/salida digital D8 IO12 ADC2 CH5 ADC2-5 / TOUCH5 Entrada/salida digital D9 IO13 ADC2 CH4     ADC2-4 / TOUCH4 Entrada/salida digital D10 IO05 VSPI CSO Entrada/salida digital D11 IO23 VSPI MOSI Entrada/salida digital D12 IO19 VSPI MISO Entrada/salida digital D13 IO18 VSPI CLK Entrada/salida digital GND GND AREF Reset SDA IO21 I2C Serial DAta SCL IO22 I2C Serial CLock A0 IO02 ADC2 CH2 Entrada anal\u00f3gica A1 IO04 ADC2 CH0 Entrada anal\u00f3gica A2 IO36 ADC1 CH0 Entrada anal\u00f3gica A3 IO34 ADC1 CH6 Entrada anal\u00f3gica A4 IO38 Datos I2C A5 IO39 ADC1 CH3 Se\u00f1al de reloj I2C IO00 \u00a1 No conectar ! IO32 D0- uSD IO15 CLK - uSD IO33 CMD - uSD IO35 IOUT Medidor de corriente IO37 VOUT Medidor de tensi\u00f3n <p></p>"},{"location":"STEAMakers/contSM/#posibilidades-de-la-placa","title":"Posibilidades de la placa","text":"<p>La placa ESP32 STEAMakers facilita el acceso a las potentes capacidades del microcontrolador ESP32 mediante una disposici\u00f3n vers\u00e1til de conectores y una amplia variedad de entradas y salidas. Esto permite crear de forma sencilla toda clase de proyectos interactivos con sensores, actuadores y comunicaciones inal\u00e1mbricas.</p> <p>Algunos ejemplos de proyectos que se pueden realizar en el aula:</p> <ul> <li>MEDIR LA TEMPERATURA</li> </ul> <p>El sensor de temperatura integrado permite obtener el valor de la temperatura cercano al procesador de la placa. Puede mostrarse a trav\u00e9s de una pantalla o enviar a un servidor.</p> <ul> <li>DETECTAR EL NIVEL DE LUZ</li> </ul> <p>A trav\u00e9s de un sensor de luz conectado a una de las entradas anal\u00f3gicas de la placa, se puede medir la intensidad lum\u00ednica de un espacio y activar actuadores en funci\u00f3n de si hay m\u00e1s o menos claridad.</p> <ul> <li>DETECTAR PROXIMIDAD O MOVIMIENTO</li> </ul> <p>Mediante un sensor de tipo Hall (magn\u00e9tico) interno en la placa o un sensor de ultrasonidos conectado a una entrada se puede detectar cu\u00e1ndo un objeto o persona se acerca o se aleja de la placa.</p> <ul> <li>REPRODUCIR AUDIO</li> </ul> <p>Empleando un zumbador se pueden generar tonos y melod\u00edas que puedan formar parte de una experiencia interactiva.</p> <ul> <li>CONTROLAR REMOTAMENTE POR WIFI</li> </ul> <p>Aprovechando la conectividad WiFi integrada, se pueden crear interfaces web o apps m\u00f3viles para controlar de forma remota los componentes conectados a la placa.</p> <ul> <li>COMUNICAR CON OTROS DISPOSITIVOS</li> </ul> <p>La conectividad Bluetooth permite que la placa intercambie datos en tiempo real con tablets, tel\u00e9fonos inteligentes u otros sistemas externos con Bluetooth integrado.</p>"},{"location":"STEAMakers/contSM/#entorno-de-programacion","title":"Entorno de programaci\u00f3n","text":""},{"location":"STEAMakers/contSM/#arduinoblocks","title":"Arduinoblocks","text":"<p>ArduinoBlocks http://www.arduinoblocks.com es un entorno de programaci\u00f3n visual por bloques que facilita la programaci\u00f3n de la placa.</p> <p>ArduinoBlocks es compatible con varias placas electr\u00f3nicas. En su entorno de programaci\u00f3n o IDE se pueden distinguir las siguientes partes:</p> <p> <p> Entorno de programaci\u00f3n o IDE de arduinoblocks</p> <p></p> <p> <p> 1 P\u00e1gina principal arduinoblocks 15 Configuraciones de arduinoblocks 2 Repositorio de proyectos 16 Bot\u00f3n para grabar el programa en la placa una vez conectada 3 Desplegar para acceder a nuestros proyectos y para crear un proyecto nuevo 17 Bot\u00f3n para abrir la consola serie. Desplegando podemos abrir serial plotter 4 Acceso a la informaci\u00f3n del proyecto referente a nombre, descripci\u00f3n, etc. 18 Actualizaci\u00f3n puerto. Muestra puerto cuando hay una placa conectada (/dev/ttyUSBn) 5 Acceso a los archivos adjuntos al proyecto 19 Captura de pantalla del programa sin fondo 6 Acceso a herramientas de edici\u00f3n de matrices de leds, pantallas LCD y OLED, Neopixel e informaci\u00f3n RTTTL 20 Espacio para guardar instrucciones y estructuras de programaci\u00f3n y reutilizarlas en el proyecto actual o en otro diferente 7 Bot\u00f3n para compartir el proyecto via correo electr\u00f3nico 21 Bot\u00f3n para maximizar el tama\u00f1o de los bloques 8 Nombre del proyecto con el icono de la placa seleccionada para programar 22 Bot\u00f3n para centrar los bloques 9 Desplegable para acceder a Connector, documentaci\u00f3n varia y librerias usadas por la aplicaci\u00f3n 23 Bot\u00f3n para ampliar el tama\u00f1o de los bloques 10 Idioma del IDE de arduinoblocks 24 Bot\u00f3n para reducir el tama\u00f1o de los bloques 11 Identificaci\u00f3n de la cuenta con la que hemos accedido 25 Papelera para descartar bloques no usados 12 Cerrar la sesi\u00f3n actual 26 Espacio de programaci\u00f3n 13 Botones deshacer y rehacer 27 Bloques de programaci\u00f3n organizados por categorias 14 Bot\u00f3n y un desplegable para guardar y exportar el proyecto 28 Desplegable para mostrar el c\u00f3digo del programa, descargarlo en formato .ino o descargar en formato .zip (se descargan el programa y las librerias <p></p>"},{"location":"STEAMakers/contSM/#programando-con-arduinoblocks","title":"Programando con arduinoblocks","text":"<p>Para poder conectar y programar las placas con arduinoblocks, es necesario instalar \u201cAB-Connector\u201d para permitir la comunicaci\u00f3n entre el entorno arduinoblocks y la placa electr\u00f3nica.</p> <p>En \"Recursos\" de \"arduinoblocks\" tenemos todas las opciones de descarga y condiciones de instalaci\u00f3n de \u201cAB-Connector\u201d para los sistemas operativos soportados. Para el caso de Ubuntu nos indica:</p> <p> <p> AB-Connector</p> <p></p> <p>Una vez instalado lo podemos encontrar entre las aplicaciones:</p> <p> <p> AB-Connector</p> <p></p> <p>Al abrir AB-Connector, aparece este cuadro de di\u00e1logo que va mostrando informaci\u00f3n sobre la placa y arduinoblocks:</p> <p> <p> AB-Connector en ejecuci\u00f3n</p> <p></p> <p>Dejamos AB-Connector en ejecuci\u00f3n minimizado en segundo plano.</p> <p>1. En ArduinoBlocks, crea una cuenta pulsando en \u201cIniciar sesi\u00f3n\u201d y, posteriormente, en \u201cnuevo usuario\u201d:</p> <p> <p> Pantalla inicial arduinoblocks</p> <p></p> <p>2.  Al entrar en la plataforma te encontrar\u00e1s esta pantalla:</p> <p> <p> Sesi\u00f3n iniciada en arduinoblocks</p> <p></p> <p>3. Al hacer clic en \"Empezar un nuevo proyecto!\" aparece la siguiente pantalla para seleccionar el tipo de proyecto:</p> <p> <p> Nuevo proyecto</p> <p></p> <p>4. Para crear un nuevo proyecto personal, debes rellenar un formulario. Si utilizas la placa ESP32 STEAMaker, debes seleccionar ESP32 STEAMaker en Tipo de proyecto.</p> <p> <p> Tipo de proyecto</p> <p></p> <p>5. Una vez creado el proyecto, despu\u00e9s de haber cumplimentado su nombre y dem\u00e1s campos del formulario, se abre el entorno de programaci\u00f3n:</p> <p> <p> Proyecto creado</p> <p></p> <p>6. En la parte izquierda de esta pantalla, encontrar\u00e1s los bloques disponibles clasificados por diferentes categor\u00edas. Por ejemplo, en la siguiente imagen puedes ver los bloques de algunos de los sensores que se pueden controlar con la placa ESP32 STEAMaker.</p> <p> <p> Algunos bloques de sensores</p> <p></p> <p>7. Arrastra los bloques al espacio de programaci\u00f3n para programar tu placa. Por ejemplo, podemos programar el env\u00edo en bucle de un mensaje por puerto serie. El puerto serie, tambi\u00e9n conocido como puerto de comunicaciones serie o interfaz serie, es un tipo de conexi\u00f3n utilizada en ordenadores y dispositivos perif\u00e9ricos para la transferencia de datos. La caracter\u00edstica principal del puerto serie es que env\u00eda los datos en serie; es decir, bit a bit, a trav\u00e9s de un solo canal o hilo. Los bloques m\u00e1s importantes para utilizar el puerto serie son:</p> <p> <p> Bloques puerto serie</p> <p></p> <p>8. El programa de este ejemplo ser\u00eda as\u00ed:</p> <p> <p> Programa Hola mundo. Descargar</p> <p></p> <p>Dentro de la estructura \u201cInicializar\u201d colocamos el bloque de configuraci\u00f3n de la velocidad de transferencia de datos (\u201cbaudrate\u201d) del puerto serie a 115200. Y en el bucle principal, colocamos el bloque para enviar un mensaje en concreto, seleccionando que se realice un salto de l\u00ednea. Para que el mensaje no se muestre tan rapidamente hacemos que se reproduzca cada cierto tiempo.</p> <p>9. Una vez creado el programa, debes transferirlo (subirlo) a la placa. Para ello, sigue los siguientes pasos:</p> <ul> <li>Comprueba que AB-Connector est\u00e1 ejecuta\u0144dose.</li> <li>Conecta la placa al ordenador mediante un cable USB.</li> <li>Selecciona el puerto de comunicaci\u00f3n. Puedes conectar y desconectar el cable USB del ordenador para diferenciar cu\u00e1l es el puerto de comunicaci\u00f3n que utiliza la placa.</li> <li>Si no aparece el \"/dev/ttyUSBn\" directamente, pulsa en el icono de actualizaci\u00f3n. En entornos Linux, MacOS y Chromebook se muestra as\u00ed el nombre. En Windows se muestra como COM.</li> </ul> <p> <p> Establecer conexi\u00f3n USB</p> <p></p> <ul> <li>Pulsando en el bot\u00f3n \u201cSubir\u201d, carga el programa en la placa.</li> </ul> <p> <p> Subir el programa a la placa</p> <p></p> <p>Tiempo de subida</p> <p>En ESP32 el tiempo de subida ser\u00e1 bastante mayor que en otras placas debido a la cantidad y peso de las librerias que utiliza ESP32.</p> <p>Para poder visualizar el monitor serie y comprobar qu\u00e9 mensajes est\u00e1 enviando la placa al ordenador, debes abrirlo en tu entorno de programaci\u00f3n, pulsando el bot\u00f3n \u201cConsola\u201d:</p> <p> <p> Abrir consola serie</p> <p></p> <p>10. Se abrir\u00e1 la ventana siguiente:</p> <p> <p> Consola serie</p> <p></p> <p>11. Selecciona la tasa de baudios (velocidad de transmisi\u00f3n de datos) con la que has iniciado el puerto serie y despu\u00e9s haz clic en conectar. Ver\u00e1s el resultado en pantalla.</p> <p> <p> Consola serie recibiendo datos</p> <p></p>"},{"location":"STEAMakers/contSM/#arduino-ide","title":"Arduino IDE","text":"<p>Arduino IDE es un Entorno de Desarrollo Integrado multiplataforma (Linux, Windows y macOS) ideal para programar placas tipo Arduino y compatibles, con un lenguaje de programaci\u00f3n basado en C/C++.</p> <p>IDE (Integrated Development Environment, traducido como Entorno Integrado de Desarrollo) incorpora un editor de c\u00f3digo que facilita la escritura de programas. Tambi\u00e9n dispone de numerosas bibliotecas y ejemplos que ayudan a la programaci\u00f3n.</p> <p>Permite compilar y subir los programas a la placa con tan s\u00f3lo un clic, visualizando el resultado a trav\u00e9s del monitor serie, por ejemplo.</p> <p>En el entorno de programaci\u00f3n se pueden distinguir las siguientes partes:</p>"},{"location":"STEAMakers/contSM/#descarga","title":"Descarga","text":"<p>Podemos descargarlo desde la p\u00e1gina de software de Arduino IDE 2.0 y en el momento de creaci\u00f3n de este apartado de la web nos ofrece la versi\u00f3n 2.3.2 adem\u00e1s de los enlaces al editor online, tal y como vemos en la figura siguiente.</p> <p> <p> Descargas</p> <p></p> <p>En esta p\u00e1gina tenemos disponibles las versiones Nightly y otras informaciones importantes como:</p> <ul> <li>La versi\u00f3n de escritorio no est\u00e1 disponible para Chromebook donde deberemos trabajar con el editor web de Arduino.</li> <li>Es posible programar las placas utilizando MicroPython. En la p\u00e1gina MicroPython with Arduino tenemos toda la informaci\u00f3n.</li> <li>Opciones de descarga de versiones anteriores del IDE.</li> <li>T\u00e9rminos de servicio</li> </ul> <p>Si tenemos alguna duda podemos seguir el tutorial en ingl\u00e9s de descarga e instalaci\u00f3n de Arduino IDE 2.0.</p>"},{"location":"STEAMakers/contSM/#ventana-principal-del-ide","title":"Ventana principal del IDE","text":"<p>En la figura siguiente vemos el aspecto que presenta el IDE en la versi\u00f3n 2.0.</p> <p> <p> Arduino IDE 2.0</p> <p></p> <p>A continuaci\u00f3n se describen de forma r\u00e1pida los apartados se\u00f1alados en la figura anterior.</p> <ol> <li>Verify/Upload (Verificar/Cargar): Para compilar y cargar el c\u00f3digo en la placa.</li> <li>Select board &amp; port (Seleccionar placa y puerto): En el desplegable se muestran las placas detectadas de forma autom\u00e1tica, junto con el puerto asignado.</li> <li>Open Serial Plotter (abrir trazador ser\u00ede): Abre la herramienta de graficado como una nueva ventana.</li> <li>Open Serial Monitor (abrir el monitor serie): abre la herramienta Serial Monitor, como una nueva pesta\u00f1a en la consola.</li> <li>Sketchbook (Carpeta de programas): es el directorio o carpeta donde se almacenan localmente los programas. Adem\u00e1s, desde aqu\u00ed se puede sincronizar con Arduino Cloud y tambi\u00e9n obtener los sketch del entorno online.</li> <li>Boards Manager (Administrador de placas): para explorar los paquetes de Arduino y de terceros que se pueden instalar. Por ejemplo, usar una placa MKR WiFi 1010 requiere tener instalado el paquete Arduino SAMD Boards.</li> <li>Library Manager (Ad https://docs.arduino.cc/software/ide-v2./img/teo-basica/soft/ministrador de librer\u00edas): Para navegar por las librer\u00edas propias de Arduino y las creadas por la comunidad.</li> <li>Debugger (Depurador): Para probar y depurar programas en tiempo real.</li> <li>Search (Buscar): b\u00fasqueda de palabras en el c\u00f3digo.</li> </ol>"},{"location":"STEAMakers/contSM/#caracteristicas-principales-del-ide-20","title":"Caracter\u00edsticas principales del IDE 2.0","text":"<ul> <li>Ajustar preferencias En la animaci\u00f3n de la figura siguiente vemos como acceder a la configuraci\u00f3n de las mismas y tambi\u00e9n como se realiza alg\u00fan ajuste adicional.</li> </ul> <p> <p> Preferencias IDE 2.0</p> <p></p> <ul> <li>La carpeta de programas Los programas o sketches de Arduino se guardan como .ino y deben almacenarse en una carpeta con el mismo nombre. Por ejemplo, un programa de nombre 'mi_programa.ino' debe almacenarse en una carpeta llamada 'mi_programa'. Generalmente se guardan en una carpeta de nombre 'Arduino' en la carpeta personal. En la animaci\u00f3n siguiente vemos como abrir y cerrar esta carpeta desde el bot\u00f3n de la barra lateral y como nos muestra el contenido</li> </ul> <p> <p> Carpeta de programas</p> <p></p> <ul> <li>Administrador de placas Con el Administrador de placas se pueden buscar e instalar paquetes o \"n\u00facleos\" para nuestras placas. Compilar y cargar un programa en una placa siempre requiere un paquete de la placa. Hay muchos paquetes de placa Arduino disponibles, como avr, samd, megaav y muchos m\u00e1s. Podemos decir que un \"n\u00facleo\" est\u00e1 escrito y dise\u00f1ado para microcontroladores espec\u00edficos y sabemos que las diferentes placas tienen micros de diferentes tipos. Por ejemplo, un Arduino UNO tiene un ATmega328P, que usa el n\u00facleo AVR, mientras que un Arduino Nano 33 IoT tiene un microcontrolador SAMD21, donde necesitamos usar el n\u00facleo SAMD. En definitiva, para poder usar una placa concreta debemos instalar su n\u00facleo espec\u00edfico. Al hacer clic en el bot\u00f3n de la barra lateral se nos abren todas las opciones disponibles y ne indica si est\u00e1n o no instalados y adem\u00e1s dispone de un buscador que permite localizar el n\u00facleo que necesitamos. Hay que tener presente que la instalaci\u00f3n de algunos de ellos puede tardar varios minutos. En la animaci\u00f3n vemos el funcionamiento de este bot\u00f3n.</li> </ul> <p> <p> Administrador de placas</p> <p></p> <ul> <li>Gestor de librer\u00edas Este bot\u00f3n nos permite buscar e instalar librer\u00edas, que son extensiones de la API de Arduino que facilitan el control de un servo, leer un sensor espec\u00edfico o utilizar un m\u00f3dulo WiFi. En la animaci\u00f3n vemos como utilizar este bot\u00f3n.</li> </ul> <p> <p> Gestor de librer\u00edas</p> <p></p> <ul> <li>Monitor serie Esta herramienta que habitualmente estaba en una ventana separada ahora se integra en el editor. La herramienta sirve para comunicarse con la placa o para depurar programas. Una ventaja de tener el Serial Monitor integrado con el editor es la posibilidad de tener m\u00faltiples monitores abiertos simult\u00e1neamente. En el editor antiguo, al cambiar el puerto/placa, cambiaba en todas las ventanas. Adem\u00e1s, est\u00e1bamos limitados a una ventana de Serial Monitor, un obst\u00e1culo que el IDE 2.0 elimina. En la animaci\u00f3n vemos el uso b\u00e1sico del mismo.</li> </ul> <p> <p> Monitor serie</p> <p></p> <p>Para obtener m\u00e1s informaci\u00f3n sobre Serial Monitor podemos visitar el Serial Monitor tutorial.</p> <ul> <li>Serial Plotter Nos permite visualizar datos utilizando gr\u00e1ficos permitiendo monitorizar varias variables de manera simultanea. Para ver mejor el funcionamiento de este elemento vamos a utilizar un potenci\u00f3metro conectado al pin anal\u00f3gico A3 junto con una variable est\u00e1tica y una aleatoria. El c\u00f3digo del ejemplo es:</li> </ul> <pre><code>int potenciometro;\nint aleatoria;\nint static_variable = 500;\n\nvoid setup() {\n  Serial.begin(9600);\n}\n\nvoid loop() {\npotenciometro = analogRead(A3);\naleatoria = random(0, 1000);\n  Serial.print(\"Potenciometro:\");\n  Serial.print(potenciometro);\n  Serial.print(\",\");\n  Serial.print(\"Valor aleatorio:\");\n  Serial.print(aleatoria);\n  Serial.print(\",\");\n  Serial.print(\"Variable estatica:\");\n  Serial.println(static_variable);\n}\n</code></pre> <p>En la animaci\u00f3n vemos como cargar el programa y el funcionamiento en la ventana del Serial Plotter.</p> <p> <p> Serial Plotter</p> <p></p> <ul> <li> <p>Debugger El depurador se utiliza para probar y depurar programas. B\u00e1sicamente lo que permite es navegar a trav\u00e9s de la ejecuci\u00f3n de un programa, lo que sirve para detectar fallos o errores de c\u00f3digo. El depurador solamente est\u00e1 disponible con las placas SAMD. Tenemos mas informaci\u00f3n en Debugging tutorial.</p> </li> <li> <p>Autocompletado Es una nueva caracter\u00edstica de la versi\u00f3n 2.0 muy bien equipada. Debemos tener presente que para que funcione debemos tener seleccionada la placa a utilizar. En la animaci\u00f3n siguiente vemos la herramienta funcionando.</p> </li> </ul> <p> <p> Autocompletado</p> <p></p>"},{"location":"STEAMakers/contSM/#programando-con-arduino-ide","title":"Programando con Arduino IDE","text":"<p>1. Para poder programar la placa ESP32 STEAMakers en el entorno Arduino IDE, es necesario que conectes la placa al ordenador con un cable USB y la selecciones en el desplegable \u201cSelecccione placa y puerto\u201d.</p> <p> <p> Seleccionar placa y puerto</p> <p></p> <p>2. Y selecciona la placa \u201cESP32-WROOM\u201d y el puerto adecuado en la ventana que se abre:</p> <p> <p> Seleccionados placa y puerto</p> <p></p> <p>3. Una vez configurado el entorno, vamos a programar el env\u00edo en bucle de un mensaje por puerto serie. Copiamos el c\u00f3digo del programa de arduinoblocks y quedar\u00eda as\u00ed:</p> <p> <p> Programa Hola mundo</p> <p></p> <p>Se ha cambiado el tiempo a un segundo para asegurarnos que el programa es diferente al de arduinoblocks. Este es el c\u00f3digo del programa listo para copiar:</p> <pre><code>unsigned long task_time_ms=0;\n\nvoid setup()\n{\n    Serial.begin(115200);\n    Serial.flush();\n    while(Serial.available()&gt;0)Serial.read();\n}\n\nvoid loop()\n{\n    yield();\n    if((millis()-task_time_ms)&gt;=1000){\n        task_time_ms=millis();\n        Serial.println(String(\"Hola Mundo\"));\n    }\n}\n</code></pre> <p>4. Dentro de la estructura \u201csetup()\u201d se a\u00f1ade la instrucci\u00f3n \u201cSerial.begin(115200);\u201d para configurar la velocidad de transferencia de datos (\u201cbaudrate\u201d) del puerto serie a 115200. En el bucle principal, el \u201cloop()\u201d, a\u00f1adimos la instrucci\u00f3n \"Serial.println();\" para enviar un mensaje. Cargamos el programa en la placa clicando el bot\u00f3n de carga:</p> <p> <p> Cargar el programa Hola mundo</p> <p></p> <p>5. Abrimos la consola serie para visualizar los datos que recibe el ordenador desde la placa mediante la comunicaci\u00f3n serie:</p> <p> <p> Programa Hola mundo en ejecuci\u00f3n</p> <p></p>"},{"location":"STEAMakers/contSM/#actividades-iniciales","title":"Actividades iniciales","text":"<p>Vamos a realizar tres actividades incrementando el nivel de dificultad y explicadas paso a paso con la finalidad de familiarizarno con esta placa.</p>"},{"location":"STEAMakers/contSM/#mostrar-un-mensaje-en-la-consola","title":"Mostrar un mensaje en la consola","text":"<p>Se trata de crear un programa que muestre en la consola serie de arduinoblocks un mensaje con el texto \"Hola desde ESP32 STEAMakers. Tiempo transcurrido nn segundos\" cada cinco segundos. Cada mensaje debe aparece en una l\u00ednea diferente.</p> <p>1. Comienza el programa configurando el puerto serie a una velocidad de transferencia de datos de 9600 baudios. Coloca el bloque \"Iniciar baudios...\" que encontrar\u00e1s en \"Comunicaciones \u2192 Puerto serie\" en la estructura \"Inicializar\". De esta forma esta instrucci\u00f3n se ejecuta al inicio del programa y una sola vez. La programaci\u00f3n del bloque \"Inicializar\" deber\u00e1 quedar as\u00ed:</p> <p> <p> Bloque Inicializar en la actividad 1</p> <p></p> <p>2. Coloca en el blucle principal la estructura \"Ejecutar cada...\" de la categor\u00eda \"Tiempo\". Aqu\u00ed se va a indicar al programa cada cuanto tiempo debe ejecutar una acci\u00f3n. Escribe 5000 en el par\u00e1metro de la extrucutra para que se ejecute cada 5000 ms, o lo que es lo mismo, cada 5 segundos. En este momento el bloque principal estar\u00e1 as\u00ed:</p> <p> <p> Bloque Bucle en la actividad 1</p> <p></p> <p>3. Dentro de la estructura anterior coloca la acci\u00f3n a realizar en el intervalo de tiempo especificado. En este caso enviar un mensaje por el puerto serie. Selecciona el bloque \"Enviar\" de la categoria \"Comunicaciones  \u2192 \u201cPuerto serie\u201d.</p> <p>4. Coloca un bloque \"crear texto con...\" que encontrar\u00e1s en la categor\u00eda \"Texto\" y asegurate que est\u00e9 marcada la opci\u00f3n \"Salto de l\u00ednea\" para que cada vez que se muestre el mensaje se haga en una nueva l\u00ednea. En la primera l\u00ednea escribe dentro del bloque el mensaje de texto \"Hola desde ESP32 STEAMakers. Tiempo transcurrido: \". En la segunda l\u00ednea coloca el bloque para realizar operaciones que encontrar\u00e1s en la categoria \"Matem\u00e1ticas\". En la parte izquierda coloca el bloque \"Tiempo transcurrido (milisegundo)\" que encontrar\u00e1s en \"Tiempo\", selecciona la operaci\u00f3n de divisi\u00f3n y a la derecha colocamos el bloque \"Un numero\" de la categoria \"Matem\u00e1ticas\" en el que escribes 1000 para que el tiempo se muestre en segundos. A\u00f1ade una nueva l\u00ednea al bloque y en un bloque de texto escribe \" segundos\".</p> <p>5. El programa completo es el siguiente:</p> <p> <p> Programa actividad 1</p> <p></p> <p>6. Descarga el programa en la placa haciendo clic en el bot\u00f3n \"Subir\". Para hacerlo tienes que tener conectada la placa al ordenador mediante un cable USB y AB-Connector en ejecuci\u00f3n. Una vez cargado el programa abre la \"Consola serie\" para visualizar el envio del mensaje de forma peri\u00f3dica.</p> <p> <p> Consola serie de la actividad 1</p> <p></p>"},{"location":"STEAMakers/contSM/#temperatura-y-humedad","title":"Temperatura y humedad","text":"<p>En esta actividad vamos a realizar un control del color de una tira de 8 LEDs RGB direccionables. Ser\u00e1 una especie de sem\u00e1foro basado en el estado de confort y como afecta a los seres humanos. Basaremos las medidas en un sensor de temperatura y humedad DHT22.</p> <p>Estado de confort</p> <p>En la web ARQUITECTURA &amp; ENERG\u00cdA podemos encontrar un art\u00edculo donde se nos explica con bastante profundad el tema del corfort t\u00e9rmico.</p> <p>Puede definirse confort t\u00e9rmico, o m\u00e1s propiamente comodidad higrot\u00e9rmica, como la ausencia de malestar t\u00e9rmico. En fisiolog\u00eda, se dice que hay confort higrot\u00e9rmico cuando no tienen que intervenir los mecanismos termorreguladores del cuerpo para una actividad sedentaria y con una indumentaria ligera. Esta situaci\u00f3n puede registrarse mediante \u00edndices que no deben ser sobrepasados para que no se pongan en funcionamiento los sistemas termorreguladores (metabolismo, sudoraci\u00f3n y otros).</p> <p>En la imagen siguiente vemos los valores de temperatura y humedad que delimitan las zonas de confortabilidad.</p> <p> <p> Confort t\u00e9rmico en funci\u00f3n de temperatura y humedad</p> <p></p> <p>Sobre el gr\u00e1fico vamos a delimitar zonas de temperatura y humedad para establecer su color. Por motivos de simplicidad lo vamos a hacer delimitando zonas rectangulares, pero comprobamos que no cometemos grandes errores y para nuestro prop\u00f3sito nos sirve.</p> <p>1.- Zona Roja: en la imagen siguiente tenemos delimitadas las zonas:</p> <ul> <li>Humedad Relativa: superior al 85% e inferior al 20%</li> <li>Temperatura: superior a 27\u00baC e inferior a 16\u00baC</li> </ul> <p> <p> Delimitaci\u00f3n color rojo zona de confort</p> <p></p> <p>2.- Zona Amarilla: en la imagen siguiente tenemos delimitadas las zonas:</p> <ul> <li>Humedad Relativa: entre el 20% y el 40% y entre el 65% y el 85%</li> <li>Temperatura: entre 16\u00baC y 18\u00baC y entre 24\u00baC y 27\u00baC</li> </ul> <p> <p> Delimitaci\u00f3n color amarillo zona de confort</p> <p></p> <p>3.- Zonas Verde, rojo y amarillo: en la imagen siguiente tenemos delimitadas todas las zonas, correspondiendo a la verde los siguientes datos:</p> <ul> <li>Humedad Relativa: entre el 40% y el 65%</li> <li>Temperatura: entre 18\u00baC y 24\u00baC</li> </ul> <p> <p> Delimitaci\u00f3n zona de confort</p> <p></p> <p>Actividad</p> <p>1. Comenzamos por crear dos variables de tipo num\u00e9rico desde \"Variables \u2192 Crear variable (N\u00famero)\u201d, una para la temperatura y otra para la humedad. En la imagen siguiente vemos el proceso de creaci\u00f3n de la variable temperatura.</p> <p> <p> Creaci\u00f3n de la variable temperatura</p> <p></p> <p>2. Coloca el bloque \"Establecer...\" que se ha creado dentro de la estructura \"Inicializar\". Realiza un duplicado del mismo y colocalo a continuaci\u00f3n del anterior seleccionando en uno la temperatura y en otro la humedad.</p> <p> <p> Colocaci\u00f3n de los bloques Inicializar</p> <p></p> <p>3. Conecta el sensor DHT22 al pin anal\u00f3gico D5 (IO16). Aseg\u00farate de realizar las conexiones de manera correcta respetando el orden de los pines.</p> <p> <p> Conexi\u00f3n del sensor DHT22</p> <p></p> <p>4. Conecta la tira de LEDs RGB direccionables D3 (IO25). Aseg\u00farate de realizar las conexiones de manera correcta respetando el orden de los pines.</p> <p> <p> Conexi\u00f3n de la tira de LEDs RGB direccionables</p> <p></p> <p>5. Inicializar la tira de LEDs mediante el bloque \"Iniciar GRB 800kHz...\" de la categoria \"Visualizaci\u00f3n\". Hay que indicar el n\u00famero de LEDs as\u00ed como el pin al que est\u00e1n conectados. El bloque \"Inicializar\" deber\u00e1 estar asi:</p> <p> <p> Bloque Iniciar GRB...</p> <p></p> <p>6. Para obtener el valor de la humedad colocamos coloca en el \"Bucle\" el bloque \"Establecer humedad\" y le acoplamos a la derecha el bloque \"DHT-22\" que se encuentra en la categor\u00eda \"Sensores\". Selecciona Humedad y pin 16 (D5). Duplicar este bloque y seleccionar temperatura tanto en variable como en el sensor. Con esto, en las variables vamos a tener el valor de ambas medido por el sensor DHT22.</p> <p>7. De la categor\u00eda \"L\u00f3gica\" arrastra un bloque \"si...hacer...\" y los expandes a dos opciones \"sino si...hacer...\". Actualmente la situaci\u00f3n de \"Bucle\" es:</p> <p> <p> Bloque Bucle con condicional</p> <p></p> <p>8. Establece la condici\u00f3n para la zona roja que se va a dar cuando la humedad supera el 85% o est\u00e1 por debajo del 20% o la temperatura est\u00e1 por encima de 27\u00baC o por debajo de 16\u00baC. En la animaci\u00f3n siguiente vemos como se compone la condici\u00f3n para el rojo.</p> <p> <p> Proceso para establecer la condici\u00f3n para rojo</p> <p></p> <p>Despu\u00e9s de completar la condici\u00f3n esta debe queda de la siguiente forma:</p> <p> <p> Condici\u00f3n para rojo</p> <p></p> <p>9. Coloca un bloque \"Contar con...\" de la categor\u00eda \"Control\" en el primer \"hacer\" del condicional. Cambia el nombre de la variable a \"LED_RGB\" y establece el valor final de la cuenta en 7. El cambio de nombre de variable no es imprescindible pero ayuda a entender mejor lo que estamos haciendo. Finalmente arrastra un bloque \"Establecer pixel #\", coloca en el n\u00famero el bloque que tiene el valor de la variable de control y establece el color rojo. De esta forma todos los LEDs se iluminar\u00e1n en color rojo cuando se de cualquiera de las condiciones que delimitan la zona. El programa tendr\u00e1 el siguiente aspecto:</p> <p> <p> Condici\u00f3n para rojo completa</p> <p></p> <p>10. Establece la condici\u00f3n para la zona amarilla que se va a dar cuando la humedad est\u00e1 entre el 65 y el 85% o est\u00e1 entre el 20 y el 40% o la temperatura est\u00e1 entre 24 y 27\u00baC o entre 16 y 18\u00baC.</p> <p>11. Establece la condici\u00f3n para la zona verde que se va a dar cuando la humedad est\u00e1 entre el 40 y el 85% o la temperatura est\u00e1 entre 18 y 24\u00baC.</p> <p>12. Finalmente, para dar tiempo al sensor a que lea los datos, a\u00f1ade una pausa detr\u00e1s del condicional mediante el bloque \"Esperar\" de la categoria \"Tiempo\". Para que los LEDs RGB direccionables se iluminen debes a\u00f1adir un bloque \"Mostrar\" de la categoria \"NeoPixel\". El programa final es el siguiente:</p> <p> <p> Programa actividad 2</p> <p></p>"},{"location":"STEAMakers/contSM/#monitor-de-consumo","title":"Monitor de consumo","text":"<p>En esta \u00faltima actividad, crea un programa que muestre el valor de la intensidad, el voltaje y la energia consumida por la placa ESP32 STEAMakers en la consola serie a intervalos de 5 segundos.</p> <p>1. Comienza el programa configurando el puerto serie a una velocidad de transferencia de datos de 9600 baudios. Coloca el bloque \"Iniciar baudios...\" que encontrar\u00e1s en \"Comunicaciones \u2192 Puerto serie\" en la estructura \"Inicializar\". De esta forma esta instrucci\u00f3n se ejecuta al inicio del programa y una sola vez. La programaci\u00f3n del bloque \"Inicializar\" deber\u00e1 quedar as\u00ed:</p> <p> <p> Bloque Inicializar en la actividad 3</p> <p></p> <p>2. Coloca dentro del bucle principal un conjunto de instrucciones de forma secuencial para mostrar una serie de datos a trav\u00e9s de la consola serie. Para ello, utiliza el bloque \u201cEnviar\u201d por puerto serie de la categor\u00eda \u201cComunicaciones \u2192 Puerto serie\u201d. Plantea este orden para enviar el conjunto de datos (Las comillas de los textos se omiten):</p> <ul> <li>Texto: \u201cIntensidad: \u201d (sin salto de l\u00ednea)</li> <li>Lectura Medidor de energ\u00eda: Amps (A) (sin salto de l\u00ednea)</li> <li>Texto: \u201c A\u201d (con salto de l\u00ednea)</li> <li>Texto: \u201cVoltaje: \u201d (sin salto de l\u00ednea)</li> <li>Lectura Medidor de energ\u00eda: Volts (V) (sin salto de l\u00ednea)</li> <li>Texto: \u201c V\u201d (con salto de l\u00ednea)</li> <li>Texto: \u201cEnerg\u00eda: \u201d (sin salto de l\u00ednea)</li> <li>Lectura Medidor de energ\u00eda: Energy (Wh) (sin salto de l\u00ednea)</li> <li>Texto: \u201c W.h\u201d (con salto de l\u00ednea)</li> <li>Texto: \u201c--------------------------------\u201d (con salto de l\u00ednea)</li> </ul> <p>3. Puedes escribir el texto directamente en el bloque \u201cEnviar\u201d por puerto serie. El bloque para realizar la lectura del medidor de energ\u00eda interno de la placa ESP32 STEAMakers lo encontrar\u00e1s en \u201cSensores \u2192 Integrados\u201d y simplemente hay que seleccionar qu\u00e9 magnitud quieres que mida en cada caso.</p> <p>4. Al final de las instrucciones anteriores, para que el programa se detenga 5 segundos, utiliza el bloque \"Esperar...milisegundos\" de la categor\u00eda \"Tiempo\".</p> <p>El programa completo ser\u00e1 el siguiente:</p> <p> <p> Programa actividad 3</p> <p></p> <p>5. En la consola se deber\u00eda ver algo como la imagen siguiente:</p> <p> <p> Consola del programa actividad 3</p> <p></p>"},{"location":"STEAMakers/contSM/#seguridad","title":"Seguridad","text":"<p>A la hora de utilizar la placa ESP32 STEAMakers, es fundamental seguir unas pautas de seguridad para garantizar tanto el buen funcionamiento de la placa como la seguridad de los usuarios. A continuaci\u00f3n, se exponen varios consejos clave:</p> <ul> <li>Evita cortocircuitos: Hay que asegurarse de que la placa no est\u00e9 alimentada cuando se manipulan materiales y herramientas conductores de electricidad. Esto ayuda a prevenir cortocircuitos inesperados que podr\u00edan da\u00f1ar la placa o causar accidentes.</li> <li>Manipula la placa con cuidado: Los pines donde se conectan componentes diversos son delicados y pueden romperse o doblarse si se aplica una gran fuerza o palanca. Hay que ser especialmente prudente en la manipulaci\u00f3n y evitar ca\u00eddas o golpes que puedan afectar a la placa.</li> <li>Controla la temperatura: Es necesario tener en cuenta que la temperatura de la placa puede aumentar considerablemente durante el uso prolongado. Algunos componentes pueden calentarse y es importante evitar el contacto directo para prevenir quemaduras o da\u00f1os en la placa.</li> <li>Revisa regularmente los componentes: Es conveniente comprobar regularmente el estado de los componentes electr\u00f3nicos y las conexiones. Los conectores sueltos o desgastados pueden causar un mal funcionamiento de la placa o ser un riesgo de seguridad.</li> <li>Usa adecuadamente la alimentaci\u00f3n: Utiliza s\u00f3lo las fuentes de alimentaci\u00f3n recomendadas. Un voltaje incorrecto puede da\u00f1ar la placa o incluso ser peligroso, ya que puede producir sobrecalentamiento de componentes o cortocircuitos.</li> <li>Mant\u00e9n la placa en un entorno seco y limpio: La presencia de l\u00edquidos o polvo puede causar cortocircuitos o da\u00f1ar los componentes de la placa.</li> </ul> <p>Siguiendo estos consejos, podr\u00e1s disfrutar de una experiencia segura y enriquecedora con la placa programable.</p>"},{"location":"STEAMakers/externosSM/","title":"Programar sensores externos","text":""},{"location":"STEAMakers/externosSM/#actividad","title":"Actividad","text":"<p>En esta gu\u00eda r\u00e1pida encontrar\u00e1s las instrucciones para conectar sensores (de los que se pueden encontrar en los conjuntos de sensores y actuadores) en la placa ESP32 STEAMakers y mostrar los datos en la consola del puerto-serie.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/externosSM/#humedad-del-suelo","title":"Humedad del suelo","text":""},{"location":"STEAMakers/externosSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>Sensores que puede encontrar en los diversos conjuntos:<ul> <li>Del conjunto de primaria (no descrito en el enlace anterior): Colisi\u00f3n (KS0021), seguidores de l\u00ednea - infrarrojo- (KS0050), humedad suelo (KS0049), PIR (KS0052).</li> <li>Del conjunto de secundaria b\u00e1sico: Iluminaci\u00f3n (KS0098), humedad suelo (KS0049), temperatura (KS0022), colisi\u00f3n (KS0021), seguidores de l\u00ednea -infrarrojo- (KS0050), PIR (KS0052).</li> <li>Del conjunto de secundaria avanzado: Sensor de sonido (KS0035), giroscopio y aceler\u00f3metro (KS0170), sensor de CO\u2082 (KS0457), sensor de humedad y temperatura DHT11 (KS0034), sensor presi\u00f3n barom\u00e9trica (KS0405).</li> </ul> </li> <li>Cable GVS o 3 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/externosSM/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks.</p> <p>2. Ve a ArduinoBlocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cESP32 STEAMakers\u201d:</p> <p> <p> Proyecto SM_sensores_consola. Creaci\u00f3n</p> <p></p> <p>3. En la categoria de \"Comunicaciones\" busca \"Puerto Serie\" y coloca en \"Inicializar\" un bloque \"Iniciar baudios 9600\".</p> <p> <p> Proyecto SM_sensores_consola. Iniciar puerto serie</p> <p></p> <p>4. En \"Bucle\" sit\u00faa un bloque \"Enviar\" dejando activado el salto de l\u00ednea.</p> <p> <p> Proyecto SM_sensores_consola. Enviar puerto serie</p> <p></p> <p>5. En la categor\u00eda \u201cSensores\u201d, busca el sensor para medir la humedad del suelo (KS0049) y sit\u00faa el bloque correspondiente en el espacio vac\u00edo que hay en \u201cEnviar\u201d. Aparece como \"Sonda de humedad\" y la imagen del sensor. F\u00edjate que indica a qu\u00e9 pin se debe conectar el sensor. Puedes elegir el pin que desees de los que salen en el desplegable, teniendo en cuenta que el pin que selecciones en el bloque ser\u00e1 el que debes utilizar para realizar la conexi\u00f3n (en nuestro caso A0). Tambi\u00e9n puedes elegir entre ver la lectura en porcentaje (%) o en valor absoluto (0\u20261023). Pon tambi\u00e9n una espera de un segundo a continuaci\u00f3n despu\u00e9s del bloque enviar para evitar que haga las lecturas demasiado seguidas.</p> <p> <p> Proyecto SM_sensores_consola. Programa</p> <p></p> <p>6. Conecta el sensor de humedad de suelo a la placa utilizando un cable de tipo GSV o tres cables dupont hembra-hembra. El pin a utilizar ser\u00e1 el GPIO02 (A0).</p> <p> <p> Conexionado</p> <p></p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC y S con S).</p> <p>Si utilizas un conector GSV ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>7. Subimos el proyecto a la placa haciendo clic en el bot\u00f3n \"Subir\". Una vez compilado y subido correctamente el programa, haz clic en \"Consola\" y despu\u00e9s en \"Conectar\".</p> <p> <p> Proyecto SM_sensores_consola. Completo - Consola</p> <p></p> <p>Comenzar\u00e1s a ver valores medidos por el sensor en la consola o terminal serie.</p> <p>8. Tambi\u00e9n se pueden combinar bloques de texto, de la categoria \"Texto\", con las medidas efectuadas por el sensor. En el ejemplo siguiente se han realizados cambios al respecto:</p> <p> <p> Proyecto SM_sensores_consola</p> <p></p> <p>La consola se ver\u00e1 ahora de la siguiente forma:</p> <p> <p> Proyecto SM_sensores_consola. Completo - Consola</p> <p></p>"},{"location":"STEAMakers/lcdSM/","title":"Pantalla LCD 1602","text":"<p>Aqu\u00ed encontrar\u00e1s informaci\u00f3n e instrucciones para conectar y mostrar textos o im\u00e1genes en una pantalla de tipo LCD 1602.</p> <p>Para saber mas sobre la LCD 1602 puedes consultar Pantalla LCD 1602 I2C.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/lcdSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>Pantalla LCD 1602 I2C</li> <li>Cable I2C o 4 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/lcdSM/#procedimiento","title":"Procedimiento","text":"<p>1. Comenzamos conectando la pantalla LCD a la placa a trav\u00e9s de los pines de comunicaci\u00f3n I2C seg\u00fan muestra la imagen siguiente:</p> <p> <p> Conexionado</p> <p></p> <p>Puedes hacer las conexiones con un cable I2C o utilizando cuatro cables dupont hembra-hembra.</p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC, SCL con SCL y SDA con SDA).</p> <p>Si utilizas un conector I2C ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>2. Sigue con la programaci\u00f3n con Arduinoblocks: Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks.</p> <p>3. Ve a ArduinoBlocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \"ESP32 STEAMakers\":</p> <p> <p> Proyecto SM_LCD. Creaci\u00f3n</p> <p></p> <p>4. Para utilizar la pantalla LCD, primero debes inicializarla. En el bloque \u201cInicializar\u201d, sit\u00faa un bloque \u201cLCD Iniciar I2C\u201d, que encontrar\u00e1s en la categor\u00eda \"Visualizaci\u00f3n/Pantalla LCD (I2C)\". Pon tambi\u00e9n el bloque \u201cLimpiar\u201d para asegurar que la pantalla no tenga nada escrito al inicio.</p> <p> <p> Proyecto SM_LCD. Inicializar</p> <p></p> <p>5. A continuaci\u00f3n, en el bloque \u201cBucle\u201d, sit\u00faa alguno de los bloques de visualizaci\u00f3n de la pantalla LCD, en funci\u00f3n de lo que desees mostrar. Comienza mostrando el texto \u201cHola\u201d, con el bloque \"LCD #1 Imprimir...\":</p> <p> <p> Proyecto SM_LCD. Hola</p> <p></p> <p>Haz clic en el bot\u00f3n \u201cSubir\u201d situado arriba a la derecha, verificando primero que el puerto seleccionado sea correcto:</p> <p> <p> Proyecto SM_LCD. Subir</p> <p></p> <p>6. Vamos a crear dos s\u00edmbolos propios, un mu\u00f1equito y una letra \"i\" pero acentuada. La definici\u00f3n del s\u00edmbolo la copiamos en un bloque \"LCD #1 Definir s\u00edmbolo...\" y le asignamos el n\u00famero 1 y al de la letra \"i\" le asignamos el n\u00famero 2. Estos bloques de definici\u00f3n se ponen en \"Inicializar\".</p> <p> <p> Proyecto SM_LCD.S\u00edmbolos</p> <p></p> <p>7. De la categor\u00eda Visualizaci\u00f3n/Pantalla LCD I2C, elige el bloque \u201cLCD #1 Imprimir\u2026\u201d y lo colocas un par de veces de manera que en uno aparezca el texto \"Hola desde\" en la fila 0 y en el otro \"ESP32 STEAMakers\" en la fila 1. Ahora, a\u00f1ade una espera de 2 segundos (2000 milisegundos). Cambia el valor a 2000. Para a\u00f1adir la espera de 2 segundos, ve a la categor\u00eda \u201cTiempo\u201d y elige el bloque \u201cEsperar 1000 milisegundos\u201d. Haz que se limpie la pantalla y que a continuaci\u00f3n se muestre la letra \"S\" en la fila 0 y columna 0. A continuaci\u00f3n, de la categor\u00eda Visualizaci\u00f3n/Pantalla LCD I2C, elige el bloque \u201cLCD #1 Imprimir\u2026 S\u00edmbolo\u2026\u201d y pon el n\u00famero correspondiente a la letra \"\u00ed\" ajustando la columna a 1. Ahora ponemos a partir de la columna 2 el resto del texto (\"mbolo\"). Ya solamente queda colocar en la fila uno la definici\u00f3n del s\u00edmbolo del mu\u00f1equito. Pon otra espera de 2 segundos. El c\u00f3digo completo de la programaci\u00f3n debe quedar as\u00ed:</p> <p> <p> Proyecto SM_LCD</p> <p></p>"},{"location":"STEAMakers/mandoSM/","title":"Programar el mando a distancia","text":"<p>Es conveniente repasar los contenidos explicados en Emisor y receptor de infrarrojos.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/mandoSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>mando IR (KS9002)</li> <li>Receptor IR (KS0026)</li> <li>Cables GVS</li> <li>Ordenador. Antes de empezar a utilizar la placa STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/mandoSM/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con steamakersblocks. Iniciamos un nuevo proyecto de tipo \"ESP32 STEAMakers\".</p> <p>2. Ve a steamakersblocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cESP32 STEAMakers\u201d:</p> <p> <p> Proyecto SM_mando_distancia. Creaci\u00f3n</p> <p></p> <p>3. Desde la categor\u00eda \u201cVariables\u201d, crea una nueva variable de tipo texto \u201ccodigo_mando\u201d (el c\u00f3digo que recibir\u00e1 del comando es un texto en formato HEX).</p> <p> <p> Proyecto SM_mando_distancia. Crear variable</p> <p></p> <p>4. Sit\u00faa el bloque \"Establecer codigo_mando\" en el bloque \"Bucle\".</p> <p> <p> Proyecto SM_mando_distancia. Bloque Establecer</p> <p></p> <p>5. De la categor\u00eda \u201cSensores / Receptor IR\u201d, selecciona el bloque \u201cReceptor de IR (Texto HEX)\u201d, c\u00e1mbialo al pin 25 (D3) y col\u00f3calo como valor de la variable.</p> <p> <p> Proyecto SM_mando_distancia. Receptor IR</p> <p></p> <p>6. A continuaci\u00f3n, programar\u00e1s la placa para que, al pulsar la flecha izquierda del mando, se dibuje una flecha hacia la izquierda en la consola del puerto-serie, mientras que si pulsa la flecha derecha del mando, se dibujar\u00e1 una flecha hacia la derecha. El procedimiento que seguiremos se har\u00eda de forma an\u00e1loga para cada una de las teclas del mando.</p> <p>7. De la categor\u00eda \u201cComunicaciones / Puerto serie\u201d, selecciona el bloque \u201cIniciar Bauds 115200\u201d y col\u00f3calo en el bloque \u201cInicializar\u201d. A continuaci\u00f3n, de la categor\u00eda \u201cL\u00f3gica\u201d, sit\u00faa un bloque \u201cSi\u2026hacer\u201d en el bloque \u201cBucle\u201d.</p> <p> <p> Proyecto SM_mando_distancia. Consola y condicional</p> <p></p> <p>8. Lo que har\u00e1s a continuaci\u00f3n es comparar el texto que llega desde el mando con el que recibe el receptor IR. Si estos textos coinciden, se escribe el s\u00edmbolo correspondiente en la consola del puerto serie. Comienza con la flecha de la izquierda. Despu\u00e9s del \u201cs\u00ed\u201d del bloque condicional, pon un bloque \u201cigual a\u201d de la categor\u00eda \u201cTexto\u201d (recuerda que estamos comparando cadenas de texto en formato HEX) y verifica si el valor de la variable \u201ccodigo_mando\u201d que ha recibido el receptor IR desde el mando es una flecha hacia la izquierda. Busca el bloque con el mando en la categor\u00eda \u201cSensores / Receptor IR\u201d, elige el valor \u201cIzquierda\u201d y comp\u00e1ralo con el valor que tenga la variable. Si son iguales, se enviar\u00e1 el texto \u201c&lt;\u2013\u201d a la consola serie. Para ello, ve a la categor\u00eda \u201cComunicaciones / Puerto serie\u201d, elige el bloque \u201cEnviar\u201d, sit\u00faalo despu\u00e9s de \u201cHacer\u201d y dibuja la flecha hacia la izquierda.</p> <p> <p> Proyecto SM_mando_distancia. Enviar \u2190</p> <p></p> <p>9. Repite el mismo procedimiento con la flecha a la derecha, haciendo los cambios oportunos.</p> <p> <p> Proyecto SM_servo. Programa</p> <p></p> <p>IMPORTANTE:</p> <p>El sensor funciona a 5V. comprueba que tienes el interruptor selector de voltaje en la posici\u00f3n correcta:</p> <p> <p></p> <p></p> <p>10. Haz clic en \u201cSubir\u201d, asegur\u00e1ndote primero de que tienes el puerto correctamente seleccionado.</p> <p> <p> Proyecto SM_mando_distancia. Subir</p> <p></p> <p>11. Ve a \u201cConsola\u201d, arriba a la derecha, y haz clic en \u201cConectar\u201d para ver las medidas en la consola del puerto-serie.</p> <p> <p> Proyecto SM_mando_distancia. Consola</p> <p></p> <p>IMPORTANTE:</p> <p>Puede ocurrir que no te funcione porque tengas seleccionado un valor incorrecto del modelo del mando en el bloque correspondiente. Si fuera el caso, cambie al valor alternativo y vuelva a intentarlo.</p> <p> <p></p> <p></p>"},{"location":"STEAMakers/oledSM/","title":"Pantalla OLED","text":"<p>Aqu\u00ed encontrar\u00e1s informaci\u00f3n e instrucciones para conectar y mostrar textos o im\u00e1genes en una pantalla de tipo OLED de 0.96\" de 128x64 pixels.</p> <p>Para saber mas sobre la OLED puedes consultar Pantalla OLED.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/oledSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>Pantalla OLED 0.96\"</li> <li>Cable I2C o 4 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa ESP32 STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/oledSM/#procedimiento","title":"Procedimiento","text":"<p>1. Comenzamos conectando la pantalla OLED a la placa a trav\u00e9s de los pines de comunicaci\u00f3n I2C hembra dispuestos en el hub I2C que tiene la misma. Vemos la posici\u00f3n en la imagen siguiente:</p> <p> <p> Conexionado</p> <p></p> <p>Tambi\u00e9n puedes hacer las conexiones con un cable I2C o utilizando cuatro cables dupont hembra-hembra y situarlos en alguno de los pines macho del hub I2C.</p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC, SCL con SCL y SDA con SDA).</p> <p>Si utilizas un conector I2C ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>2. Sigue con la programaci\u00f3n con ArduinoBlocks: Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con ArduinoBlocks.</p> <p>3. Ve a ArduinoBlocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cESP32 STEAMakers\u201d:</p> <p> <p> Proyecto SM_OLED. Creaci\u00f3n</p> <p></p> <p>4. Para utilizar la pantalla OLED, primero debes inicializarla. En el bloque \u201cInicializar\u201d, sit\u00faa un bloque \u201cOLED Iniciar I2C\u201d, que encontrar\u00e1s en la categor\u00eda \"Visualizaci\u00f3n/Pantalla OLED\". Pon tambi\u00e9n el bloque \u201cLimpiar\u201d para asegurar que la pantalla no tenga nada escrito al inicio.</p> <p> <p> Proyecto SM_OLED. Inicializar</p> <p></p> <p>5. A continuaci\u00f3n, en el bloque \u201cBucle\u201d, sit\u00faa alguno de los bloques de visualizaci\u00f3n de la pantalla OLED, en funci\u00f3n de lo que desees mostrar. Comienza mostrando el texto \u201cHola\u201d, con el bloque \u201cOLED #1 Text\u2026\u201d:</p> <p> <p> Proyecto SM_OLED. Hola</p> <p></p> <p>Si quieres ver los datos que recoge alg\u00fan sensor, tambi\u00e9n puede situar el bloque en el espacio destinado al texto (en la imagen se utiliza un bloque para ver los datos recogidos por un sensor que mide la intensidad lum\u00ednica):</p> <p> <p> Ejemplo bloque \"Text...\"</p> <p></p> <p>Haz clic en el bot\u00f3n \u201cSubir\u201d situado arriba a la derecha, verificando primero que el puerto seleccionado sea correcto:</p> <p> <p> Proyecto SM_OLED. Subir</p> <p></p> <p>6. Ahora, a\u00f1ade una espera de 2 segundos (2000 milisegundos), haz que se limpie la pantalla y que a continuaci\u00f3n se muestre una imagen. Para a\u00f1adir la espera de 2 segundos, ve a la categor\u00eda \u201cTiempo\u201d y elige el bloque \u201cEsperar 1000 milisegundos\u201d. Cambia el valor a 2000. A continuaci\u00f3n, de la categor\u00eda Visualizaci\u00f3n/Pantalla OLED, elige el bloque \u201cOLED #1 Bitmap\u2026\u201d y cargalo con una imagen. Abre el editor Bitmap de la OLED:</p> <p> <p> OLED - Bitmap Editor</p> <p></p> <p>7. En OLED \u2013 Bitmap Editor tienes la pantalla OLED representada con todos sus p\u00edxeles. Puedes marcar directamente los p\u00edxeles que desees sobre el dibujo de la pantalla y estos ser\u00e1n los que se activar\u00e1n en la pantalla OLED conectada a la placa.</p> <p> <p> OLED - Bitmap Editor</p> <p></p> <p>O bien, puedes subir una imagen desde \u201cElegir archivos\u201d (preferentemente con las dimensiones 128x64px, aunque cualquier imagen que subas se transformar\u00e1 a esta proporci\u00f3n):</p> <p> <p> OLED - Bitmap Editor</p> <p></p> <p>8. Poner otra espera de 2 segundos antes de reiniciar el bucle. El c\u00f3digo completo de la programaci\u00f3n debe quedar as\u00ed:</p> <p> <p> Proyecto SM_OLED</p> <p></p>"},{"location":"STEAMakers/servosSM/","title":"Programar servomotores","text":"<p>Antes de nada se recomienda repasar los conceptos dados en Control de un servomotor y el uso de las listas de datos.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/servosSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>Servomotor 9g negro con rotaci\u00f3n de 0 a 180 grados KS0194</li> <li>Pulsador t\u00e1ctil capacitivo (KS0031) o de bot\u00f3n (KS0029)</li> <li>Cable SVG o 3 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/servosSM/#procedimiento","title":"Procedimiento","text":"<p>INFORMACI\u00d3N</p> <p>IMPORTANTE</p> <p>A partir de esta entrada se comienza a utilizar el nuevo dominio de la aplicaci\u00f3n que pasa a denominarse steamakersblocks, siendo su funcionamiento id\u00e9ntico al utilizado hasta ahora. El nuevo logotipo es el siguiente:</p> <p></p> <p>1. Ejecuta el programa Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con steamakersblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>2. Ve a steamakersblocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cESP32 STEAMakers\u201d:</p> <p> <p> Proyecto SM_servo. Creaci\u00f3n</p> <p></p> <p>3. Conecta el servomotor a alguno de los pines digitales de la placa (en el ejemplo utilizaremos el pin D3 - IO25), teniendo en cuenta que el cable marr\u00f3n del servomotor corresponde a la G -tierra- (color negro de la placa), el cable rojo del servomotor corresponde a la V -voltaje- (color rojo de la placa) y el cable naranja del servomotor corresponde al S -se\u00f1al- (color amarillo de la placa).</p> <p> <p> Proyecto SM_servo. Conexi\u00f3n</p> <p></p> <p>4. A continuaci\u00f3n, de la categor\u00eda \u201cMotores / Servo\u201d selecciona el bloque \u201cServo\u201d y col\u00f3calo en el bloque \u201cBucle\u201d. Selecciona el pin al que tienes conectado el servomotor e indica el \u00e1ngulo de giro y si deseaa que tenga alg\u00fan retraso antes de hacerlo.</p> <p> <p> Proyecto SM_servo. Bloque servo</p> <p></p> <p>5. En este ejemplo, para ver el servomotor en funcionamiento, har\u00e1s que el servomotor gire un \u00e1ngulo de 90\u00ba, pasado un segundo volver\u00e1 a su posici\u00f3n inicial (0\u00ba) y pasado otro segundo volver\u00e1 a girar 90\u00ba. Esto lo har\u00e1 de manera continua: Dentro del bloque \u201cBucle\u201d coloca el bloque servo con un giro de 90\u00ba. A continuaci\u00f3n, de la categor\u00eda \u201cTiempo\u201d, pon un bloque de espera de 1000 milisegundos, seguido de un bloque de giro del servo a 0\u00ba y de una nueva espera de un segundo, tal y como se muestra en la imagen:</p> <p> <p> Proyecto SM_servo. Giro 90_0_90</p> <p></p> <p>6. Haz clic en el bot\u00f3n \"Subir\" situado arriba a la derecha.</p> <p>7. De esta forma, est\u00e1s trabajando con el servomotor con giros con \u00e1ngulos definidos. Si deseas que el \u00e1ngulo de giro dependa de alg\u00fan otro par\u00e1metro, puedes crear una variable y hacer que el \u00e1ngulo de giro dependa del valor de esta variable. Por ejemplo, si deseas que el servomotor gire 5\u00ba cada vez que toques un pulsador, puede hacer lo siguiente: Conecta un pulsador (KS0029) a un pin de la placa (en el ejemplo, lo conectamos al pin D4 - IO17 en mi caso) teniendo especial cuidado que el orden de los pines sea el correcto.</p> <p> <p> Proyecto SM_servo. Conexi\u00f3n</p> <p></p> <p>8. Desde la categor\u00eda \u201cVariables\u201d, crea una variable del tipo n\u00famero (en el ejemplo le llamamos \u201cgiro\u201d). A continuaci\u00f3n, sit\u00faa el bloque \u201cEstablecer gir=0\u201d dentro del bloque \u201cInicializar\u201d, de esta manera, el valor inicial de la variable ser\u00e1 0. Pon un bloque de la categor\u00eda \u201cL\u00f3gica\u201d \u201cSi\u2026hacer\u201d en el bloque \u201cBucle\u201d. A continuaci\u00f3n del \u201cs\u00ed\u201d, coloca el bloque \u201cPulsador\u201d que encontrar\u00e1 en la categor\u00eda \u201cSensores\u201d y elige el pin donde lo tengas conectado. A continuaci\u00f3n del \u201chacer\u201d, actualizar\u00e1s el valor de la variable \u201cgiro\u201d, sum\u00e1ndole 5\u00ba. Para ello, de la categor\u00eda \u201cVariables\u201d, elige el bloque \u201cEstablecer giro\u201d y, a continuaci\u00f3n, de la categor\u00eda \u201cMatem\u00e1ticas\u201d elija un bloque de suma y dentro pon la variable \u201cgiro\u201d m\u00e1s 5. Por \u00faltimo, haz que el servomotor gire seg\u00fan el valor de esta variable, tal y como se muestra en la imagen:</p> <p> <p> Proyecto SM_servo. Programa</p> <p></p> <p>9. Haz clic en el bot\u00f3n \"Subir\" situado arriba a la derecha.</p> <p> <p> Proyecto SM_servo. Subir</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/","title":"tdrsteamSM","text":"<p>Una alternativa que considero aconsejable para iniciarse en la programaci\u00f3n con la placa Keyestudio UNO es acompa\u00f1arla del escudo TdR STEAM. Es mas, es por donde aconsejar\u00eda comenzar.</p> <p>En la web Retos con TdR-STEAM y keyestudio UNO tienes disponible toda una colecci\u00f3n de retos y actividades realizadas con este conjunto de placas y alg\u00fan hardware adicional.</p> <p>La mayor\u00eda de retos y actividades se dan solucionadas para facilitar el aprendizaje,  pero se reta al lector a solucionar cada caso por si mismo y solamente recurrir a la soluci\u00f3n cuando resulte imprescindible.</p> <p>Reproduzco aqu\u00ed la informaci\u00f3n b\u00e1sica del escudo.</p>"},{"location":"STEAMakers/tdrsteamSM/#tdr-steam","title":"TdR STEAM","text":"<p>El escudo tiene el aspecto que vemos en la imagen siguiente:</p> <p> <p> TdR STEAM</p> <p></p> <p>Las partes que lo componen las vemos en la imagen siguiente y en los apartados subsiguientes se describen:</p> <p> <p> Partes de la TdR STEAM</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#1-interfaz-i2c","title":"1. Interfaz I2C","text":"<p>Interfaz I2C o IIC conectados a los pines VCC, GND, SDA (A4) y SCL (A5). El pin A4 corresponde con SDA (Serial DAta) y es por donde se transmiten los datos en la comunicaci\u00f3n I2C. El pin A5 es SCL (Serial CLock) donde est\u00e1 la se\u00f1al de sincronizaci\u00f3n o reloj de la comunicaci\u00f3n I2C.</p> <p> <p> Conector I2C en la TdR STEAM</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#2-pulsadores","title":"2. Pulsadores","text":"<p>Los pulsadores SW1 y SW2 se conectan a D2 y D7 respectivamente y se configuran como entradas digitales con sus correspondientes resistencias de polarizaci\u00f3n que hacen que cuando est\u00e1n en reposo pongan su entrada digital correspondiente a \"0\" (cero l\u00f3gico) y que se ponga a \"1\" (uno l\u00f3gico) cuando los accionemos.</p> <p> <p> Pulsadores SW1 y SW2</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#3-diodos-led","title":"3. Diodos LED","text":"<p>Diodos LED Azul (LED3) y Rojo (LED4) conectados a D13 y D12 respectivamente. Configurados como salidas con su resistencia limitadora.</p> <p> <p> Diodos LED</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#4-led-rgb","title":"4. Led RGB","text":"<p>El Led RGB o neopixel de la placa es del tipo 5050 conectado a los pines D6 (Red), D9 (Green) y D10(Blue). Estos tres pines son PWM y nos van a permitir regular su intensidad.</p> <p> <p> Led RGB</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#5-conectores-es-digital","title":"5. Conectores E/S digital","text":"<p>Son dos conectores para Entradas/Salidas digitales dotados de alimentaci\u00f3n y conectados a los pines D3 y D5. A estos conectores podemos colocarles sensores externos.</p> <p> <p> Led RGB</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#6-comunicaciones-serie","title":"6. Comunicaciones serie","text":"<p>Conector de comunicaciones Bluetooth y WiFi con conmutado (Swich On/Off) conectado a los pines D0 (Rx) y D1 (Tx).</p> <p>El puerto de comunicaciones serie nos permite conectar m\u00f3dulos Bluetooth o WiFi. Este puerto va equipado con un conmutador para poder conectarlo o desconectarlo ya que utiliza los mismos pines Rx/Tx que se utilizan para comunicarse con el ordenador. Si vamos a subir firmware a la placa debe estar en posici\u00f3n OFF y si vamos a trabajar con Bluetooth o WiFi en posici\u00f3n ON.</p> <p> <p> Comunicaciones serie</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#7-dht11","title":"7. DHT11","text":"<p>Sensor digital de Temperatura y Humedad DHT11 conectado como entrada a D4.</p> <p> <p> DHT11</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#8-potenciometro","title":"8. Potenci\u00f3metro","text":"<p>Potenci\u00f3metro giratorio de 270\u00ba conectado como entrada anal\u00f3gica al pin A0.</p> <p> <p> Potenci\u00f3metro</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#9-buzzer","title":"9. Buzzer","text":"<p>El zumbador Piezoel\u00e9ctrico o buzzer es un peque\u00f1o altavoz conectado a la salida digital D8.</p> <p> <p> Buzzer</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#10-receptor-ir","title":"10. Receptor IR","text":"<p>Diodo receptor de infrarrojos (IR) conectado a la entrada digital D11.</p> <p> <p> Receptor IR</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#11-ldr","title":"11. LDR","text":"<p>Sensor de luminosidad o resistencia LDR conectada al pin anal\u00f3gico A1.</p> <p> <p> LDR</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#12-reset","title":"12. Reset","text":"<p>Bot\u00f3n de Reset conectado directamente a la entrada de reset de la placa Keyestudio UNO. Sirve para inicializar el funcionamiento del conjunto.</p> <p> <p> Reset</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#13-entrada-analogica","title":"13. Entrada anal\u00f3gica","text":"<p>Conector para entrada anal\u00f3gica desde sensor externo conectado al pin A3.</p> <p> <p> Entrada anal\u00f3gica</p> <p></p>"},{"location":"STEAMakers/tdrsteamSM/#14-lm35","title":"14. LM35","text":"<p>Sensor de temperatura (LM35) conectado al pin anal\u00f3gico A2.</p> <p> <p> LM35</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/","title":"Placa TdR-STEAM y ESP32 STEAMakers","text":"<p>Una alternativa que considero aconsejable para iniciarse en la programaci\u00f3n con la placa ESP32 STEAMakers es acompa\u00f1arla del escudo TdR STEAM. Es mas, es por donde aconsejar\u00eda comenzar.</p> <p>En la web Notas sobre ESP32 STEAMakers tienes disponibles actividades realizadas con este conjunto de placas y alg\u00fan hardware adicional.</p> <p>La mayor\u00eda de retos y actividades se dan solucionadas para facilitar el aprendizaje,  pero se reta al lector a solucionar cada caso por si mismo y solamente recurrir a la soluci\u00f3n cuando resulte imprescindible.</p> <p>Reproduzco aqu\u00ed la informaci\u00f3n b\u00e1sica del escudo.</p>"},{"location":"STEAMakers/tdrsteam_SM/#tdr-steam","title":"TdR STEAM","text":"<p>El escudo tiene el aspecto que vemos en la imagen siguiente:</p> <p> <p> TdR STEAM</p> <p></p> <p>Las partes que lo componen las vemos en la imagen siguiente y en los apartados subsiguientes se describen:</p> <p> <p> Partes de la TdR STEAM</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#1-interfaz-i2c","title":"1. Interfaz I2C","text":"<p>Interfaz I2C o IIC conectados a los pines VCC, GND, SDA (A4) y SCL (A5). El pin A4 corresponde con SDA (Serial DAta) y es por donde se transmiten los datos en la comunicaci\u00f3n I2C. El pin A5 es SCL (Serial CLock) donde est\u00e1 la se\u00f1al de sincronizaci\u00f3n o reloj de la comunicaci\u00f3n I2C.</p> <p> <p> Conector I2C en la TdR STEAM</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#2-pulsadores","title":"2. Pulsadores","text":"<p>Los pulsadores SW1 y SW2 se conectan a IO26 (D2) e IO14 (D7) respectivamente y se configuran como entradas digitales con sus correspondientes resistencias de polarizaci\u00f3n que hacen que cuando est\u00e1n en reposo pongan su entrada digital correspondiente a \"0\" (cero l\u00f3gico) y que se ponga a \"1\" (uno l\u00f3gico) cuando los accionemos.</p> <p> <p> Pulsadores SW1 y SW2</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#3-diodos-led","title":"3. Diodos LED","text":"<p>Diodos LED Azul (LED3) y Rojo (LED4) conectados a IO18 (D13) e IO19 (D12) respectivamente. Configurados como salidas con su resistencia limitadora.</p> <p> <p> Diodos LED</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#4-led-rgb","title":"4. Led RGB","text":"<p>El Led RGB o neopixel de la placa es del tipo 5050 conectado a los pines IO27 (D6) el rojo (Red), IO13 (D9) el verde (Green) e IO05 (D10) el azul (Blue). Estos tres pines son PWM y nos van a permitir regular su intensidad.</p> <p> <p> Led RGB</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#5-conectores-es-digital","title":"5. Conectores E/S digital","text":"<p>Son dos conectores para Entradas/Salidas digitales dotados de alimentaci\u00f3n y conectados a los pines IO25 (D3) e IO16 (D5). A estos conectores podemos colocarles sensores externos.</p> <p> <p> Conectores E/S digital</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#6-comunicaciones-serie","title":"6. Comunicaciones serie","text":"<p>Conector de comunicaciones Bluetooth y WiFi con conmutador (Swich On/Off) conectado a los pines D0 (Rx) y D1 (Tx).</p> <p>El puerto de comunicaciones serie nos permite conectar m\u00f3dulos Bluetooth o WiFi. Este puerto va equipado con un conmutador para poder conectarlo o desconectarlo ya que utiliza los mismos pines Rx/Tx que se utilizan para comunicarse con el ordenador. Si vamos a subir firmware a la placa debe estar en posici\u00f3n OFF y si vamos a trabajar con Bluetooth o WiFi en posici\u00f3n ON.</p> <p>Sobre la informaci\u00f3n anterior</p> <p>Cuando usamos la TdR STEAM con una STEAMakers este conector no tiene utilidad puesto que la propia ESP32 ya dispone de WiFi y Bluetooth integrados. Se recomienda poner siempre el interruptor en posici\u00f3n OFF.</p> <p> <p> Comunicaciones serie</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#7-dht11","title":"7. DHT11","text":"<p>Sensor digital de Temperatura y Humedad DHT11 conectado como entrada a IO17 (D4).</p> <p> <p> DHT11</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#8-potenciometro","title":"8. Potenci\u00f3metro","text":"<p>Potenci\u00f3metro giratorio de 270\u00ba conectado como entrada anal\u00f3gica al pin IO02 (A0).</p> <p> <p> Potenci\u00f3metro</p> <p></p> <p>\u00a1MUY IMPORTANTE!</p> <p>Cuando vamos a subir firmware a la placa es imprescindible que el potenci\u00f3metro est\u00e9 totalmente girado a la posici\u00f3n izquierda (punto de color magenta), ya que comparte la conexi\u00f3n A0 (GPIO02) con el sistema de grabaci\u00f3n del programa. Si no est\u00e1 en esa posici\u00f3n se producir\u00e1 un error en el env\u00edo del programa. La flecha debe estar en direcci\u00f3n al punto.</p> <p> <p> Posici\u00f3n cero del potenci\u00f3metro</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#9-buzzer","title":"9. Buzzer","text":"<p>El zumbador Piezoel\u00e9ctrico o buzzer es un peque\u00f1o altavoz conectado a la salida digital IO12 (D8).</p> <p> <p> Buzzer</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#10-receptor-ir","title":"10. Receptor IR","text":"<p>Diodo receptor de infrarrojos (IR) conectado a la entrada digital IO23 (D11).</p> <p> <p> Receptor IR</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#11-ldr","title":"11. LDR","text":"<p>Sensor de luminosidad o resistencia LDR conectada al pin anal\u00f3gico IO04 (A1).</p> <p> <p> LDR</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#12-reset","title":"12. Reset","text":"<p>Bot\u00f3n de Reset conectado directamente a la entrada de reset de la placa STEAMakers. Sirve para inicializar el funcionamiento del conjunto.</p> <p> <p> Reset</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#13-entrada-analogica","title":"13. Entrada anal\u00f3gica","text":"<p>Conector para entrada anal\u00f3gica desde sensor externo conectado al pin IO34 (A3).</p> <p> <p> Entrada anal\u00f3gica</p> <p></p>"},{"location":"STEAMakers/tdrsteam_SM/#14-lm35","title":"14. LM35","text":"<p>Sensor de temperatura (LM35) conectado al pin anal\u00f3gico IO35 (A2).</p> <p> <p> LM35</p> <p></p>"},{"location":"STEAMakers/thingspkSM/","title":"Enviar datos a Thingspeak","text":""},{"location":"STEAMakers/thingspkSM/#actividad","title":"Actividad","text":"<p>En esta gu\u00eda r\u00e1pida encontrar\u00e1s las instrucciones para enviar los datos recogidos de sensores a la plataforma web ThingSpeak.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/thingspkSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>Los sensores que se usar\u00e1n en este ejemplo son: temperatura y humedad DHT-11 (KS0034) y CO\u2082 (KS0457)</li> <li>Cable GVS o 3 cables dupont hembra-hembra</li> <li>Cable I2C o 4 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/thingspkSM/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks.</p> <p>2. Ve a ArduinoBlocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cESP32 STEAMakers\u201d:</p> <p> <p> Proyecto SM_thingspeak. Creaci\u00f3n</p> <p></p> <p>3. Para empezar, debes conectar la placa a una red WiFi. Si no sabes c\u00f3mo hacerlo, consulta el apartado 3.3.24 del Free Book. A continuaci\u00f3n, de la categor\u00eda \u201cComunicaciones / WiFi / IoT / MQTT Client\u201d, selecciona el bloque \u201cMQTT Iniciar\u201d y sit\u00faalo en el bloque \u201cInicializar\u201d. Asegurate de que la direcci\u00f3n del broker es \u201cmqtt3.thingspeak.com\u201d</p> <p> <p> Proyecto SM_thingspeak. Iniciar WiFi y MQTT</p> <p></p> <p>4. Para rellenar los datos que faltan en el bloque, es necesario obtenerlos de ThingSpeak. Si no te has registrado nunca, reg\u00edstrate para utilizar cuentas libres y gratuitas hciendo clic en el bot\u00f3n \u201cGet Started For Free\u201d de la p\u00e1gina inicial del Thingspeak:</p> <p> <p> Proyecto SM_thingspeak. Resgistro Thingspeak</p> <p></p> <p>5. Una vez est\u00e9 dentro de la plataforma con tu usuario, ve a \u201cChannels/My Channels\u201d, haz clic sobre el bot\u00f3n \u201cNew Channel\u201d, p\u00f3nle un nombre y gu\u00e1rdalo.</p> <p> <p> Proyecto SM_wifi. Nuevo canal</p> <p></p> <p>6. A continuaci\u00f3n, debes a\u00f1adir el dispositivo. Ve a \u201cDevices/MQTT\u201d y haz clic en el bot\u00f3n \u201cAdd a new device\u201d.</p> <p> <p> Proyecto SM_thingspeak. A\u00f1adir nuevo dispositivo</p> <p></p> <p>7. Pon un nombre al dispositivo, selecciona el canal que has creado anteriormente del desplegable y haz clic en el bot\u00f3n \u201cAdd Channel\u201d y por \u00faltimo haz clic en el bot\u00f3n \u201cAdd Device\u201d</p> <p> <p> Proyecto SM_wifi. A\u00f1adir nuevo dispositivo</p> <p></p> <p>8. Una vez tengas el dispositivo creado, te aparecer\u00e1n los datos que necesitas para el bloque \u201cMQTT Iniciar\u201d: Cliente ID, Username y Password. Copia cada dato en el campo correspondiente:</p> <p> <p> Proyecto SM_thingspeak. Credenciales</p> <p></p> <p>9. Ahora ya tienes ThingSpeak preparado para empezar a enviar datos de los sensores. En este ejemplo, conectaremos el sensor DHT-11 (KS0034) que nos permitir\u00e1 obtener datos de temperatura y humedad y el sensor de CO\u2082 (KS0457).</p> <p> <p> Proyecto SM_thingspeak. Conexiones</p> <p></p> <p>Desde la categor\u00eda \u201cComunicaciones / Wifi / IoT / MQTT Client\u201d selecciona el bloque \u201cMQTT Publicar Tema\u2026 Valor\u2026\u201d. En el espacio \u201ctema\u201d, sit\u00faa el bloque \u201cThingSpeak multiPublish Channel ID\u201d, poniendo la ID de tu canal (la encontrar\u00e1 en ThingSpeak). En el apartado \"Valor\" pondremos las lecturas recogidas por los sensores. Coloca el bloque \u201cThingSpeak multipublish Values\u201d y despu\u00e9s un bloque \u201cThingSpeak multipublish Field\u201d para cada campo (temperatura, humedad y CO\u2082).</p> <p>En este caso, en el primer bloque, seleccionar\u00e1 Field1 (temperatura). Ve al apartado \u201cSensores\u201d y busca el sensor DHT-11, escogiendo el pin correcto donde est\u00e1 conectado el sector (en el ejemplo, est\u00e1 conectado al PIN IO25 - D3) y selecciona la opci\u00f3n \u201cTemperatura\u201d.</p> <p>En el segundo bloque, seleccione Field2 (humedad); en este campo se publicar\u00e1 el dato de humedad del mismo sensor DHT-11.</p> <p>Para el tercer bloque selecciona Field3 (CO\u2082) y deber\u00e1s buscar el sensor de CO\u2082 dentro de la categor\u00eda \u201cSensores\u201d y colocar el bloque.</p> <p>Por \u00faltimo, coloca todo lo anterior dentro de un bloque de la categor\u00eda \u201cTiempo\u201d que haga que la publicaci\u00f3n se ejecute cada 20 segundos, tal y como se muestra en la siguiente imagen:</p> <p> <p> Proyecto SM_thingspeak. Publicaci\u00f3n</p> <p></p> <p>10. Para a\u00f1adir nuevos campos a ThingSpeak, ve al apartado \u201cChannel Settings\u201d y selecciona tantos campos como te hagan falta.</p> <p> <p> Proyecto SM_thingspeak. Campos en Thingspeak</p> <p></p> <p>11. El programa completo listo para su descarga es:</p> <p> <p> Proyecto SM_thingspeak. Programa completo</p> <p></p> <p>12. Vuelve al entorno arduinoblocks y haz clic en el bot\u00f3n \"Subir\", en la parte superior derecha. Tras unas cuantas iteraciones del bucle Thingspeak tendr\u00e1 este aspecto:</p> <p> <p> Proyecto SM_thingspeak. Gr\u00e1ficos Thingspeak</p> <p></p>"},{"location":"STEAMakers/tiraSM/","title":"Programar una tira de LEDs","text":"<p>Para saber mas sobre tiras de LEDs RGB direccionables puedes consultar la web Tiras y matrices de LEDs.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/tiraSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>Tira de 30 LEDs</li> <li>Cable SVG o 3 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/tiraSM/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con steamakersblocks. Iniciamos un nuevo proyecto de tipo \"ESP32 STEAMakers\".</p> <p>2. Ve a steamakersblocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cESP32 STEAMakers\u201d:</p> <p> <p> Proyecto SM_tira_led. Creaci\u00f3n</p> <p></p> <p>3. Incorpora el cable adaptador que encontrar\u00e1s en el conjunto en el extremo de la tira de leds. A continuaci\u00f3n, conecta la tira de leds a alguno de los puertos de la placa. En el ejemplo utilizamos el pin 12 (D8).</p> <p> <p> Proyecto SM_tira_led. Conexionado</p> <p></p> <p>4. La tira de LEDs debe inicializarse. Para ello, ve a la categor\u00eda \u201cVisualizaci\u00f3n / NeoPixel\u201d y coloca el bloque \u201cIniciar GRB 800Khz\u2026\u201d. A continuaci\u00f3n, cambia el n\u00famero de p\u00edxeles a 30, que son los que tienen las tiras de LEDs de los conjuntos y selecciona el pin al que tengas conectada la tira. Bajo el bloque \u201cIniciar\u201d, coloca un bloque \u201cLimpiar\u201d, para asegurar que todos los LEDs est\u00e9n apagados cuando se inicie el programa.</p> <p> <p> Proyecto SM_tira_led. Iniciar tira</p> <p></p> <p>5. En esta misma categor\u00eda ver\u00e1s que hay varias opciones para trabajar con los LEDs de forma individual. Puedes establecer el color, el brillo, etc. Ten en cuenta que la numeraci\u00f3n comienza en el \u201c0\u201d, por lo que los LEDs van desde el 0 hasta el 29.</p> <p> <p> Bloques de Neopixels</p> <p></p> <p>6. Si quieres iluminar un p\u00edxel en concreto de un color, s\u00f3lo tiene que situar el bloque \u201cEstablecer p\u00edxel #\u2026\u201d en el bloque \u201cBucle\u201d, indicar el n\u00famero del led que deseas iluminar y a continuaci\u00f3n poner el bloque \u201cMostrar\u201d.</p> <p> <p> Proyecto SM_tira_led</p> <p></p> <p>7. Haz clic en \u201cSubir\u201d, asegur\u00e1ndote primero de que tienes el puerto correctamente seleccionado.</p> <p> <p> Proyecto SM_tira_led. Subir</p> <p></p> <p>\u00c9ste ser\u00eda el funcionamiento m\u00e1s b\u00e1sico, pero a continuaci\u00f3n proponemos alg\u00fan ejemplo m\u00e1s complejo.</p>"},{"location":"STEAMakers/tiraSM/#semaforo","title":"Sem\u00e1foro","text":"<p>1. En este ejemplo haremos que el primer led muestre el color rojo durante 2 segundos, a continuaci\u00f3n se apagar\u00e1 el primer led y el segundo led mostrar\u00e1 el color naranja durante 1 segundo. Por \u00faltimo, se apagar\u00e1 el segundo led y el tercero mostrar\u00e1 el color verde durante 2 segundos, como si fuera un sem\u00e1foro. Comienza por inicializar la tira y a continuaci\u00f3n, de la categor\u00eda \u201cVisualizaci\u00f3n / NeoPixel\u201d, elige el bloque \u201cEstablecer p\u00edxel #\u201d, define que sea el p\u00edxel 0 y el color rojo. A continuaci\u00f3n, coloque el bloque \u201cMostrar\u201d, seguido de una pausa de 2000 milisegundos (de la categor\u00eda \u201cTiempo\u201d). Para apagar el led, coloca un bloque \u201cEstablecer p\u00edxel # 0\u201d y elige el color negro, seguido del bloque \u201cMostrar\u201d.</p> <p> <p> Proyecto SM_semaforo</p> <p></p> <p>2. A continuaci\u00f3n, enciende el segundo led (led #1). Para ello, elige el bloque \u201cEstablecer p\u00edxel #1\u201d, y establce el color naranja, seguido de un bloque \u201cMostrar\u201d y una pausa de 1000 milisegundos. Para apagar el p\u00edxel, coloca el bloque \u201cEstablecer p\u00edxel #1\u201d en color negro y seguidamente ilumina el p\u00edxel 3 de color verde, situando el bloque \u201cEstablecer p\u00edxel #2\u201d con el color verde, seguido de un bloque \u201cMostrar\u201d. Para terminar, pon una espera de 2000 milisegundos y apaga el p\u00edxel 2 con el bloque \u201cEstablecer p\u00edxel #2\u201d de color negro, seguido del bloque \u201cMostrar\u201d.</p> <p> <p> Proyecto SM_semaforo</p> <p></p> <p>3. Sube el programa a la placa y comprueba el funcionamiento.</p>"},{"location":"STEAMakers/tiraSM/#iluminar-todos-de-un-color","title":"Iluminar todos de un color","text":"<p>1. Comienza como siempre por inicializar la tira de LEDs.</p> <p>2. Para iluminar todos los LEDs de un mismo color, podr\u00edamos ir situando bloques del tipo \u201cEstablecer p\u00edxel #\u2026\u201d, seguidos del bloque \u201cMostrar\u201d para cada uno de los 30 LEDs, lo que resultar\u00eda largo y bastante infructuoso,  pero existen alternativas para hacerlo de forma m\u00e1s r\u00e1pida y eficiente. En este ejemplo, utilizar\u00e1s un bloque de la categor\u00eda \u201cControl\u201d para hacerlo.</p> <p>3. Ve a la categor\u00eda \u201cControl\u201d y selecciona el bloque \u201cContar con y desde 0 hasta 9 en incrementos de 1\u201d. Cambia el valor 9 por 29, para que la variable \u201ci\u201d considere desde el led 0 (primer led de la tira) hasta el led 29 (\u00faltimo led de la tira). A continuaci\u00f3n, de la categor\u00eda \u201cVisualizaci\u00f3n / NeoPixel\u201d, coloca un bloque \u201cEstablecer p\u00edxel #\u2026\u201d.</p> <p> <p> Proyecto SM_iluminar_todos_un_color</p> <p></p> <p>4. Para llenar el vac\u00edo donde va el n\u00famero del led, ve a la Categor\u00eda \u201cVariables\u201d; encontrar\u00e1s la variable \u201ci\u201d.</p> <p> <p> Proyecto SM_iluminar_todos_un_color</p> <p></p> <p>Sit\u00faala en el espacio del n\u00famero del led y a continuaci\u00f3n sit\u00faa tambi\u00e9n el bloque \u201cMostrar\u201d.</p> <p> <p> Proyecto SM_iluminar_todos_un_color</p> <p></p> <p>5. Sube el programa a la placa y comprueba el funcionamiento.</p>"},{"location":"STEAMakers/ultrasonSM/","title":"Programar el sensor de ultrasonidos","text":"<p>Antes de nada se recomienda repasar los conceptos dados en El sensor de ultrasonidos HC-SR04.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/ultrasonSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>Sensor de ultrasonidos HC-SR04</li> <li>4 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/ultrasonSM/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con steamakersblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>2. Ve a steamakersblocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cESP32 STEAMakers\u201d:</p> <p> <p> Proyecto SM_ultrasonidos. Creaci\u00f3n</p> <p></p> <p>3. En steamakersblocks, lo que har\u00e1s ser\u00e1 ver en la consola del puerto-serie las distancias que mide el sensor de ultrasonidos. Para empezar, en el bloque \u201cInicializar\u201d, sit\u00faa el bloque \u201cIniciar Bauds 115200\u201d que encontrar\u00e1s en la categor\u00eda \u201cComunicaciones / Puerto Serie y en el bloque \u201cBucle\u201d, pon el bloque \u201cEnviar \u2026\u201d que encontrar\u00e1 en la misma categor\u00eda.</p> <p> <p> Proyecto SM_ultrasonidos. Bloques iniciales</p> <p></p> <p>4. A continuaci\u00f3n, de la categor\u00eda \u201cSensores\u201d, sit\u00faa el bloque \u201cDistancia (cm)\u201d, que corresponde al sensor de ultrasonidos en el espacio en blanco del bloque \u201cEnviar\u201d que has utilizado anteriormente. Cambia el valor de [Trigger] al pin IO02 (A0) y el de [Echo] al pin IO04(A1).</p> <p>5. As\u00ed conseguir\u00edas enviar las lecturas del sensor a la consola del puerto-serie de forma continua y no tendr\u00edas apenas tiempo de leerlas. Para evitar esto, pondremos una pausa de un segundo (1000 milisegundos) al final del bucle. Ve a la categor\u00eda \u201cTiempo\u201d y coloque un bloque \u201cEsperar 1000 milisegundos\u201d despu\u00e9s de enviar.</p> <p> <p> Proyecto SM_ultrasonidos. Programa</p> <p></p> <p>6. Conexi\u00f3n del sensor a la placa. Ver\u00e1s que el sensor de ultrasonidos dispone de 4 pines de conexi\u00f3n: VCC, Trig, Echo, Gnd. Conecta el sensor a la placa tal y como se muestra en la imagen:</p> <p> <p> Proyecto SM_ultrasonidos. Conexionado</p> <p></p> <p>Hemos conectado el pin \u201cTrig\u201d del sensor al pin 02 de la placa y el pin \u201cEcho\u201d al pin 04, para hacerlos coincidir con los que indica el bloque que vamos a utilizar en steamakersblocks. Si quieres puedes utilizar otros pines para realizar las conexiones, haciendo los cambios correspondientes en el bloque en steamakersblocks.</p> <p>IMPORTANTE:</p> <p>El sensor funciona a 5V. comprueba que tienes el interruptor selector de voltaje en la posici\u00f3n correcta:</p> <p> <p></p> <p></p> <p>7. Haz clic en \u201cSubir\u201d, asegur\u00e1ndote primero de que tienes el puerto correctamente seleccionado.</p> <p> <p> Proyecto SM_ultrasonidos. Subir</p> <p></p> <p>8. Ve a \u201cConsola\u201d, arriba a la derecha, y haz clic en \u201cConectar\u201d para ver las medidas en la consola del puerto-serie.</p> <p> <p> Proyecto SM_ultrasonidos. Consola</p> <p></p> <p>9. Se puede mejorar la presentaci\u00f3n en la consola a\u00f1adiendo texto antes y despu\u00e9s de la medida y tambi\u00e9n quitar los decimales de la misma, como vemos en esta segunda versi\u00f3n del programa.</p> <p> <p> Proyecto SM_ultrasonidos. Programa mejorado</p> <p></p> <p>La consola se ve ahora as\u00ed:</p> <p> <p> Proyecto SM_ultrasonidos. Consola del programa mejorado</p> <p></p>"},{"location":"STEAMakers/wifiSM/","title":"Conectar la placa a una red WiFi","text":""},{"location":"STEAMakers/wifiSM/#actividad","title":"Actividad","text":"<p>En esta gu\u00eda r\u00e1pida encontrar\u00e1s las instrucciones para conectar la placa a una red WiFi.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"STEAMakers/wifiSM/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa ESP32 STEAMakers</li> <li>Ordenador. Antes de empezar a utilizar la placa STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"STEAMakers/wifiSM/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks.</p> <p>2. Ve a ArduinoBlocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cESP32 STEAMakers\u201d:</p> <p> <p> Proyecto SM_wifi. Creaci\u00f3n</p> <p></p> <p>3. En la categoria de \"Comunicaciones/WiFi/IoT\" busca \"Conectar a WiFi\" y colocalo en \"Inicializar\".</p> <p> <p> Proyecto SM_wifi. Iniciar WiFi</p> <p></p> <p>4. Escribe el SSID (Service Set Identifier) y la contrase\u00f1a de la red WiFi.</p> <p> <p> Proyecto SM_wifi. Iniciar WiFi</p> <p></p> <p>5. Para comprobar que la placa se ha conectado correctamente a la red wifi se puede hacer desde la consola. Situa el bloque \u201cIniciar Baudios 115200\" de la categor\u00eda \u201cComunicaciones / Puerto serie\u201d en el bloque \u201cInicializar\u201d. En el bloque \u201cBucle\u201d pon un bloque condicional \u201cSi\u2026hacer\u201d de la categor\u00eda \u201cL\u00f3gica\u201d. A continuaci\u00f3n, de la categor\u00eda \u201cComunicaciones/WiFi/IoT\u201d pon el bloque \u201c\u00bfEst\u00e1 conectado?\u201d en la primera parte del condicional (si\u2026) y en la segunda parte del condicional (hacer) pon el bloque \u201cEnviar\u201d que encontrar\u00e1s en la categor\u00eda \u201cComunicaciones / Puerto serie\u201d. En el espacio en blanco escribe \u201cconectado\u201d. Por \u00faltimo, coloca el bloque \u201cEsperar para siempre (fin)\u201d que encontrar\u00e1s en la categor\u00eda \u201cTiempo\u201d; con esto har\u00e1 que el mensaje se muestre una sola vez en la consola.</p> <p> <p> Proyecto SM_wifi. Programa</p> <p></p> <p>6. Haz clic en \u201cSubir\u201d, asegur\u00e1ndote primero de que tienes el puerto correctamente seleccionado.</p> <p> <p> Proyecto SM_wifi. Subir</p> <p></p> <p>7. Una vez le salga el mensaje que el programa se ha compilado correctamente, haz clic en \u201cConsola\u201d y despu\u00e9s en \u201cConectar\u201d. Ajusta la velocidad y si no se muestra el mensaje pulsa el bot\u00f3n de reset de la placa.</p> <p> <p> Proyecto SM_wifi. Consola</p> <p></p> <p>8. Tambi\u00e9n se puede ver la IP de la conexi\u00f3n envi\u00e1ndola a la consola con el bloque \u201cDirecci\u00f3n IP\u201d, de la categor\u00eda \u201cComunicaciones/WiFi/IoT\u201d</p> <p> <p> Proyecto SM_wifi</p> <p></p> <p>La consola se ver\u00e1 ahora de la siguiente forma:</p> <p> <p> Proyecto SM_wifi. Consola</p> <p></p>"},{"location":"Sentry2/contSentry2/","title":"Antes de","text":"<p>En este apartado se describe de forma b\u00e1sica la c\u00e1mara de visi\u00f3n artificial Sentry2 en base a:</p> <ul> <li>Documentaci\u00f3n Tosee Intelligent Document.</li> <li>Documento creado por Toni Hortal titulado Sentry 2 que ha compartido conmigo y que he tenido muy presente para elaborar esta gu\u00eda.</li> </ul> <p> <p> </p> <p></p>"},{"location":"Sentry2/contSentry2/#inicio-rapido","title":"Inicio r\u00e1pido","text":"<p> <p> </p> <p></p> <ol> <li>Conecta la Sentry2 al ordenador mediante un cable USB-C.</li> <li>Mueve el joystick hacia arriba o hacia abajo para cambiar entre pantallas de la c\u00e1mara.</li> <li>Dirige Sentry2 hacia el objeto que deseas reconocer.</li> </ol> <p>Es muy posible que la primera vez que se conecta la Sentry2 se inicie con el idioma configurado en Chino, tal y como vemos en la imagen siguiente:</p> <p> <p> </p> <p></p> <p>Lo m\u00e1s habitual ser\u00e1 que tengamos la necesidad de configurarla para idioma Ingl\u00e9s, para lo que describimos el proceso.</p> <p>Acciona la palanca hacia la derecha hasta encontrar la pantalla siguiente:</p> <p> <p> </p> <p></p> <p>Con el cursor arriba/abajo desplazate hasta situarte sobre la opci\u00f3n \"Language\" y pulsa el bot\u00f3n que incorpora la palanca. La pantalla estar\u00e1 como vemos en la imagen de la izquierda. Si vuelves a pulsar se despliegan los idiomas disponibles (Ingl\u00e9s y Chino) y con el cursor hay que seleccionar Ingl\u00e9s y pulsar el bot\u00f3n.</p> <p> <p> </p> <p></p> <p>Con Ingl\u00e9s seleccionado pulsa el bot\u00f3n y con el cursor sit\u00faate seg\u00fan se observa en la imagen siguiente:</p> <p> <p> </p> <p></p> <p>El aspecto final si todo es correcto ser\u00e1 el de la imagen izquierda y la pantalla inicial la de la derecha:</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/contSentry2/#seguridad","title":"Seguridad","text":"<p>A la hora de utilizar el sensor de visi\u00f3n artificial Sentry2, es fundamental seguir unas pautas de seguridad para garantizar tanto el buen funcionamiento del mismo como la seguridad de los usuarios. A continuaci\u00f3n, se exponen varios consejos clave:</p> <ul> <li>Evita cortocircuitos: Hay que asegurarse de que el sensor no est\u00e9 alimentado cuando se manipulan materiales y herramientas conductores de electricidad. Esto ayuda a prevenir cortocircuitos inesperados que podr\u00edan da\u00f1arlo o causar accidentes.</li> <li>Manipula con cuidado: Los pines donde se conectan componentes diversos son delicados y pueden romperse o doblarse si se aplica una gran fuerza o palanca. Hay que ser especialmente prudente en la manipulaci\u00f3n y evitar ca\u00eddas o golpes que puedan afectar a la placa.</li> <li>Controla la temperatura: Es necesario tener en cuenta que la temperatura de la placa puede aumentar considerablemente durante el uso prolongado. Algunos componentes pueden calentarse y es importante evitar el contacto directo para prevenir quemaduras o da\u00f1os en la placa.</li> <li>Revisa regularmente los componentes: Es conveniente comprobar regularmente el estado de los componentes electr\u00f3nicos y las conexiones. Los conectores sueltos o desgastados pueden causar un mal funcionamiento de la placa o ser un riesgo de seguridad.</li> <li>Usa adecuadamente la alimentaci\u00f3n: Utiliza s\u00f3lo las fuentes de alimentaci\u00f3n recomendadas. Un voltaje incorrecto puede da\u00f1ar la placa o incluso ser peligroso, ya que puede producir sobrecalentamiento de componentes o cortocircuitos.</li> <li>Mant\u00e9n la placa en un entorno seco y limpio: La presencia de l\u00edquidos o polvo puede causar cortocircuitos o da\u00f1ar los componentes de la placa.</li> </ul> <p>Siguiendo estos consejos, podr\u00e1s disfrutar de una experiencia segura y enriquecedora con la placa programable.</p>"},{"location":"Sentry2/hard/","title":"Hardware","text":""},{"location":"Sentry2/hard/#resumen","title":"Resumen","text":"<ul> <li>Processador \u2192 K210, 400 MHz</li> <li>Lente de la c\u00e1mera \u2192 200 p\u00edxels</li> <li>Voltage de funcionamiento \u2192 3,3 - 5 V</li> <li>Dimensiones \u2192 42 x 36 x 12 mm</li> <li>Pantalla \u2192 TFT-IPS de 1,3\u201d</li> <li>Resoluci\u00f3n de la pantalla \u2192 240 x 240 p\u00edxels</li> </ul> <p>Sus principales funcionalidades son:</p> <ul> <li>Reconocimiento de colores</li> <li>Detecci\u00f3n de bloques de color</li> <li>Reconocimiento de etiquetas</li> <li>Aprendizaje</li> <li>Detecci\u00f3n de l\u00edneas</li> <li>Reconocimiento de tarjetas</li> <li>Reconocimiento de caras</li> </ul> <p>Sentry2 es un sensor de visi\u00f3n artificial dise\u00f1ado con un procesador de red neuronal RISC-V de 64 bits avanzado K210.</p> <p> <p> </p> <p></p> <p>Este dispositivo integra varios algoritmos de visi\u00f3n avanzados que pueden satisfacer las necesidades b\u00e1sicas de procesamiento de im\u00e1genes. El chip ESP8285-WiFi integrado se puede programar desde el IDE de Arduino para realizar reconocimiento en l\u00ednea, transmisi\u00f3n de im\u00e1genes, AIoT (Artificial Intelligence of Things) y otras aplicaciones. El ESP8285 se puede utilizar como controlador para el K210, lo que facilita la programaci\u00f3n de IA sin necesidad de un controlador externo.</p> <p>Aplicaciones: robots, coches inteligentes, dise\u00f1o creativo, educaci\u00f3n STEAM, creadores, juguetes, AIoT.</p> <p>En la imagen vemos los nombre y situaci\u00f3n de sus principales partes:</p> <p> <p> </p> <p></p> <ul> <li>LED: representa diferentes estados de detecci\u00f3n.</li> <li>C\u00e1mara: captura de im\u00e1genes. El usuario puede ajustar el nivel de zoom, el balance de blancos, el brillo, la saturaci\u00f3n y otros par\u00e1metros de la c\u00e1mara.</li> <li>Antena WiFi: el chip WiFi ESP8285 puede realizar reconocimiento en l\u00ednea, transmisi\u00f3n de im\u00e1genes y aplicaciones AIoT.</li> <li>Procesador K210: un potente MCU (Multipoint Control Unit) con unidad de procesamiento de red neuronal, procesador RISC-V de doble n\u00facleo y 64 bits.</li> <li>Ranura microSD: admite tarjetas microSD (tambi\u00e9n conocidas como TF, que significa TransFlash) para el almacenamiento de im\u00e1genes (nota: no se admiten todos los tipos de tarjetas SD, solo con comunicaci\u00f3n SPI).</li> <li>USB: el chip USB-UART integrado puede comunicarse y controlarse directamente con el ordenador, as\u00ed como actualizar el firmware.</li> </ul> <p>PRECAUCI\u00d3N</p> <p>La alimentaci\u00f3n USB se conecta al puerto de comunicaci\u00f3n de 4 pines. Nunca se deben usar dos alimentaciones al mismo tiempo.</p> <ul> <li>Pantalla LCD: pantalla TFT-ISP (Thin Film Transistor - In-Plane Switching) a color con alta definici\u00f3n y amplio \u00e1ngulo de visi\u00f3n.</li> <li>Joystick: para interactuar con la interfaz de usuario, admite control en cinco direcciones (arriba, abajo, izquierda, derecha, pulsar).</li> <li>Reset o bot\u00f3n de reinicio: reinicia el hardware.</li> <li>Puerto de salida: puerto de salida de 4 pines para comunicaci\u00f3n, compatible con los modos UART e I2C.</li> </ul>"},{"location":"Sentry2/hard/#parametros-del-hardware","title":"Par\u00e1metros del hardware","text":"Par\u00e1metro Valor Unidad Notas Tensi\u00f3n 3.3 a 5 V No alimentar por USB e I2C/UART simultaneamente Corriente 150 mA Alimentada a 5V y en modo reconocimiento de caras Tama\u00f1o 40x32x12.5 mm Sin carcasa Peso 15 g Sin carcasa Distancia entre agujeros de montaje 32 mm Di\u00e1metro agujeros de montaje 3 mm Tipo de c\u00e1mara CMOS Resoluci\u00f3n c\u00e1mara 200 pixel FPS 25 fps Campo de visi\u00f3n FOV 68 \u00ba Tipo TFT-ISP LCD Tama\u00f1o 1.3 Pulgadas Resoluci\u00f3n pantalla 240x240 pixel"},{"location":"Sentry2/hard/#algoritmos-de-vision","title":"Algoritmos de visi\u00f3n","text":"<p>Sentry 2 integra una variedad de algoritmos de visi\u00f3n sin conexi\u00f3n para reconocer objetos sin red, y el chip WiFi ESP8285 integrado puede realizar la funci\u00f3n de reconocimiento de im\u00e1genes basada en nube.</p> ID Nombre Informaci\u00f3n 1 Color Colores (*) Devuelve el valor R (rojo), G (verde), B (azul) y su etiqueta en cada regi\u00f3n. Hasta 25 regiones 2 Blob Bloques de color (*) Detecta un bloque de color especificado. Admite la selecci\u00f3n de bloques de color negro, blanco, rojo, verde, azul y amarillo a la vez 3 Apriltat Etiquetas April Admite las familias Apriltag 16H5, 25H9, 36H11. Hasta 25 etiquetas 4 Line L\u00edneas (*) Encuentra l\u00edneas y devuelve sus puntos finales y grados. Admite de 1 a 5 l\u00edneas 5 Learning Aprendizaje Entrena objetos y los categoriza. Hasta 15 modelos 6 Card Tajetas (tr\u00e1fico) Identifica patrones de tarjetas especiales, incluidas 10 tarjetas de tr\u00e1fico 7 Face Caras Detecci\u00f3n y reconocimiento facial que admite la detecci\u00f3n de m\u00e1scaras. Hasta 15 caras 8 20Class Objetos comunes Clasifica 20 objetos comunes como gato, coche, etc 9 QRCode C\u00f3digos QR Reconocimientos de c\u00f3digo QR sencillo. No disponible en la versi\u00f3n comercial 10 Custom Personalizar Algoritmos personalizados que se ejecutan en el chip WiFi ESP8255 incorporado 11 Motion Movimiento Determina si hay zonas en movimiento en la imagen. No disponible en la versi\u00f3n comercial <p>(*)</p> <p>Los algoritmos Colores, Bloques de color y L\u00edneas se pueden abrir simult\u00e1neamente con el resto de algoritmos, mientras que el resto NO se pueden abrir a la vez entre s\u00ed, pero S\u00cd que se pueden abrir a la vez que los 3 citados.</p> <p>Por ejemplo, podr\u00edamos abrir simult\u00e1neamente Colores, L\u00edneas y Caras, pero NO Colores, Tarjetas y Caras.</p>"},{"location":"Sentry2/hard/#como-se-utiliza","title":"C\u00f3mo se utiliza","text":"<p>Sentry2 se puede conectar a un controlador a trav\u00e9s del puerto de salida (ver imagen siguiente) o a un ordenador mediante un cable USB. El puerto de salida se puede configurar en modo UART o I2C y tambi\u00e9n es posible modificar la direcci\u00f3n del dispositivo y la velocidad de transmisi\u00f3n.</p> <p>Desde el enlace se pueden descargar: Controladores, firmware, manuales y recursos de terceros.</p> <p>PRECAUCI\u00d3N:</p> <p>\u00a1El puerto USB y el puerto de comunicaci\u00f3n no se pueden alimentar al mismo tiempo!</p>"},{"location":"Sentry2/hard/#definicion-de-los-pines-del-puerto-de-salida","title":"Definici\u00f3n de los pines del puerto de salida","text":"<p>Para la conexi\u00f3n entre la placa controladora y el sensor Sentry2 resultar\u00e1 \u00fatil la informaci\u00f3n de pines del conector de salida:</p> <p> <p> </p> Pines Modo UART Modo I2C 1 Rx SDA 2 Tx SCL 3 GND GND 4 VCC VCC <p></p> <p>ATENCI\u00d3N:</p> <p>Cuando se inserta el cable USB, este puerto puede suministrar energ\u00eda a dispositivos externos.</p> <p>Este puerto NO puede conectarse directamente a una fuente de alimentaci\u00f3n, no se puede acceder al sistema de 3,3V.</p>"},{"location":"Sentry2/hard/#conexionado","title":"Conexionado","text":"<p>Veamos en primer lugar como conectar el sensor de visi\u00f3n IA a una placa ESP32 STEAMakers.</p>"},{"location":"Sentry2/hard/#modo-uart","title":"Modo UART","text":"<p> <p> </p> <p></p> <p>En modo UART debes asegurarte de:</p> <ul> <li>La conexi\u00f3n Tx - Rx entre la placa y Sentry2 est\u00e1 cruzada. Sentry2 Rx \u2192 Tx placa y Sentry2 Tx \u2192 Rx placa.</li> <li>Dado que los pines RX y TX de STEAMakers son utilizados para la carga del firmware, es necesario desconectar las conexiones Rx y Tx durante la carga del programa. Se recomienda utilizar el modo I2C.</li> </ul>"},{"location":"Sentry2/hard/#modo-i2c-esp32-steamakers","title":"Modo I2C ESP32 STEAMakers","text":"<p> <p> </p> <p></p>"},{"location":"Sentry2/hard/#modo-i2c-esp32-microsteamakers","title":"Modo I2C ESP32 micro:STEAMakers","text":"<p> <p> </p> <p></p> <p>NOTA:</p> <p>Si quieres utilizar el puerto serie por software, puedes especificar otros puertos de entrada/salida. Para m\u00e1s detalles, mira el SoftSerialExample en el IDE de Arduino.</p>"},{"location":"Sentry2/ideas/","title":"Ideas de utilizaci\u00f3n y videos","text":""},{"location":"Sentry2/ideas/#ideas","title":"Ideas","text":"<ul> <li>Reconocimiento de color (ID: 1) \u2192 Esta funci\u00f3n podr\u00eda utilizarse en un robot de clasificaci\u00f3n para identificar objetos de diferentes colores y separarlos seg\u00fan su etiqueta de color. Por ejemplo, podr\u00edamos configurar regiones de inter\u00e9s y el sensor devolver\u00eda la etiqueta de color (rojo, azul, etc.) para cada regi\u00f3n, permitiendo al robot tomar decisiones basadas en la informaci\u00f3n de color.</li> <li>Detecci\u00f3n de bloques de color (ID: 2) \u2192 Un ejemplo de uso podr\u00eda estar en un sistema de seguimiento de objetos donde un robot sigue una pelota de un color espec\u00edfico (como el rojo). El sensor detectar\u00eda el bloque de color rojo y proporcionar\u00eda su posici\u00f3n, permitiendo al robot ajustar su movimiento para mantener la pelota dentro de su campo de visi\u00f3n</li> <li>Reconocimiento de Apriltag (ID: 3) \u2192 Esta tecnolog\u00eda podr\u00eda aplicarse en la navegaci\u00f3n rob\u00f3tica donde un robot utiliza etiquetas Apriltag colocadas en diferentes ubicaciones para orientarse y determinar su posici\u00f3n en un entorno. El sensor identificar\u00eda la etiqueta y devolver\u00eda su ID y coordenadas.</li> <li>Detecci\u00f3n de l\u00edneas (ID: 4) \u2192 Un uso com\u00fan ser\u00eda en robots seguidores de l\u00edneas para competiciones o en sistemas automatizados de transporte. El sensor detectar\u00eda la l\u00ednea y proporcionar\u00eda los puntos finales y el \u00e1ngulo, permitiendo al robot seguir el trazado. Otro posible uso es el que ya implementan la mayor\u00eda de los coches, que consiste en corregir la direcci\u00f3n, o al menos avisar mediante se\u00f1ales optico-ac\u00fasticas, de una salida de calzada o cambio de carril.</li> <li>Aprendizaje (ID: 5) \u2192 Este algoritmo permitir\u00eda a la Sentry2 reconocer objetos personalizados despu\u00e9s de un entrenamiento. Un ejemplo podr\u00eda estar en un control de calidad industrial donde el sensor aprende a identificar piezas defectuosas espec\u00edficas. Tras el entrenamiento, el sensor podr\u00eda determinar si el objeto entrenado est\u00e1 o no presente.</li> <li>Reconocimiento de tarjetas (ID: 6) \u2192 Se podr\u00eda utilizar en aplicaciones educativas para interactuar con tarjetas que contienen s\u00edmbolos, n\u00fameros o se\u00f1ales de tr\u00e1fico. Por ejemplo, un ni\u00f1o podr\u00eda mostrar una tarjeta con el n\u00famero \"5\" y el sensor la identificar\u00eda, devolviendo la etiqueta correspondiente.</li> <li>Reconocimiento facial (ID: 7) \u2192 Un ejemplo de aplicaci\u00f3n ser\u00eda en un sistema b\u00e1sico de control de acceso donde el sensor puede detectar si existe una cara y, si se ha entrenado, identificar de qui\u00e9n se trata. Tambi\u00e9n puede detectar si una \"cara nueva\" lleva m\u00e1scara.</li> <li>Reconocimiento de 20 clases de objetos (ID: 8) \u2192 Esta funci\u00f3n se podr\u00eda utilizar en proyectos de visi\u00f3n por computador b\u00e1sicos para identificar objetos comunes como gatos, coches o personas. Por ejemplo, un robot podr\u00eda utilizar esa capacidad para \"ver\" y reaccionar a la presencia de determinados objetos en su entorno.</li> </ul>"},{"location":"Sentry2/ideas/#videos-de-la-sentry2","title":"Videos de la Sentry2","text":"<p>AVISO:</p> <p>La mayor\u00eda de los enlaces que siguen a continuaci\u00f3n nos dirigen a p\u00e1ginas escritas en Chino.</p> <p>B\u00fasqueda en bilibili</p> <ul> <li>Funciones</li> </ul> <p>Sentry2 es un sensor visual altamente integrado desarrollado por Tongxin Intelligent para las necesidades desde la escuela primaria a estudiantes universitarios en la realizaci\u00f3n de educaci\u00f3n en inteligencia artificial, participaci\u00f3n en concursos de robots y proyectos de graduaci\u00f3n. Admite dos modos de trabajo: reconocimiento fuera de l\u00ednea y reconocimiento online. Este v\u00eddeo presenta el hardware y los algoritmos de Sentry2 en detalle, permitiendo a los usuarios tener una comprensi\u00f3n intuitiva de qu\u00e9 es Sentry2 y qu\u00e9 puede hacer.</p> <ul> <li>Guia de trabajo con el joystick</li> <li>Instrucciones y ejemplos de protocolos sencillos</li> </ul> <p>Programa de muestra Makecode: https://makecode.microbit.org/_9akJuiCAg5xj Los sensores de la serie Sentry contienen una funci\u00f3n muy pr\u00e1ctica: instrucciones de protocolo sencillas. De este modo se puede dejar a un lado la dependencia con la biblioteca oficial y utilizar esta serie de sensores a trav\u00e9s de plataformas, no siendo necesario importar archivos de biblioteca, ahorrando recursos valiosos del procesador de la placa de control, adem\u00e1s, se pueden ampliar para conectarse al mismo sistema.</p> <ul> <li>Configuraci\u00f3n del modo de comunicaci\u00f3n</li> <li>Reconocimiento de colores</li> </ul> <p>\u00bfQu\u00e9 tiene de distinto el algoritmo de reconocimiento de colores de Sentry2? \u00bfC\u00f3mo configurar la selecci\u00f3n del algoritmo? \u00bfQu\u00e9 aplicaciones creativas se pueden realizar con este algoritmo?</p> <ul> <li>Detecci\u00f3n de bloques de color</li> </ul> <p>\u00bfQu\u00e9 diferencias existen entre el algoritmo de detecci\u00f3n de bloques de color de Sentry2 y el algoritmo de reconocimiento de colores? \u00bfQu\u00e9 diferencias existen en comparaci\u00f3n con productos similares? \u00bfC\u00f3mo configurar la selecci\u00f3n del algoritmo? \u00bfQu\u00e9 aplicaciones creativas se pueden realizar con este algoritmo?</p> <ul> <li>Reconocimiento facial</li> <li>Aprendizaje</li> <li>Reconocimiento de Apriltag</li> <li>Detecci\u00f3n de l\u00edneas</li> <li>Detecci\u00f3n de l\u00edneas y un ejemplo de reconocimiento</li> <li>Conducci\u00f3n aut\u00f3noma con IA</li> <li>Instrucciones de conexionado de la fuente de alimentaci\u00f3n del puerto USB de la Sentry2</li> </ul> <p>Se han suministrado 5V a Sentry2 \u00bfPor qu\u00e9 Sentry2 se reinicia con una pantalla negra o no funciona? Cuando se alimenta a Sentry2 a trav\u00e9s del puerto USB, \u00bfc\u00f3mo se debe conectar Sentry2 a la placa base o a la placa de expansi\u00f3n de la placa base?</p> <ul> <li>WiFi ESP8285</li> <li>Reconocimiento de im\u00e1genes en la nube</li> </ul> <p>Uno de los aspectos m\u00e1s destacados de Sentry2 es que tiene un chip WiFi ESP8285 incorporado que est\u00e1 abierto a la programaci\u00f3n de los usuarios, ya sea para escribir programas de control o para desarrollar funciones relacionadas con WiFi, como la identificaci\u00f3n en la nube y el acceso a Internet de las cosas.</p> <ul> <li>Control remoto de coche y transmisi\u00f3n de im\u00e1genes por WiFi</li> <li>Robot con Sentry2</li> <li>Robot con Sentry2</li> </ul>"},{"location":"Sentry2/sentry2_SMBlocks/","title":"Sentry2 y STEAMakersBlocks","text":"<p>Antes de comenzar se recomienda encarecidamente leer los contenidos anteriores relativos a Sentry2.</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/sentry2_SMBlocks/#introduccion","title":"Introducci\u00f3n","text":"<p>Aunque podemos programar la c\u00e1mara de visi\u00f3n artificial Sentry 2 con el IDE de Arduino (C++) o con MicroPython tienes m\u00e1s informaci\u00f3n, mayoritariamente en chino, en:</p> <ul> <li>https://tosee.readthedocs.io/zh/latest/Common/Arduino/index.html</li> <li>y en https://tosee.readthedocs.io/zh/latest/Sentry2/microPython/index.html</li> <li>as\u00ed como con Mixly, Mind+, MakeCode o Scratch.</li> </ul> <p>STEAMakersBlocks facilita su programaci\u00f3n con bloques que permiten:</p> <ul> <li>iniciar el dispositivo</li> <li>establecer el algoritmo de visi\u00f3n (escogiendo uno de los 8 tipos disponibles)</li> <li>establecer el n\u00famero m\u00e1ximo de resultados esperados</li> <li>establecer el zoom de la c\u00e1mara (entre 1 y 5)</li> <li>obtener el n\u00famero de resultados</li> <li>obtener, para cada resultado, sus valores (coordenadas, tama\u00f1os e identificaci\u00f3n)</li> <li>identificar la imagen obtenida en funci\u00f3n del color, del tipo de tarjeta o del objeto</li> </ul> <p>Los bloques disponibles son:</p> <p> <p> </p> <p></p> <ul> <li>Bloque Iniciar</li> </ul> <p> <p> </p> <p></p> <p>Podemos conectar a nuestra placa microcontroladora hasta 4 c\u00e1maras Sentry 2, y con este bloque podemos seleccionar las direcciones individuales del bus I2C.</p> <p>Es el primer bloque que utilizaremos siempre, concretamente dentro del blog Inicializar.</p> <ul> <li>Establecer algoritmo</li> </ul> <p> <p> </p> <p></p> <p>Con este bloque escogeremos el algoritmo de visi\u00f3n que queremos utilizar, de entre los 8 disponibles:</p> <p> <p> </p> <p></p> <p>Es el segundo bloque que utilizaremos siempre, tambi\u00e9n dentro del bloque Inicializar, aunque podemos utilizarlo en cualquier otro lugar del programa si queremos cambiar el algoritmo de visi\u00f3n.</p> <p>Para m\u00e1s informaci\u00f3n sobre cada algoritmo, aqu\u00ed tienes los enlaces:</p>"},{"location":"Sentry2/userinterface/","title":"Interface de usuario","text":"<p>Sentry2 tiene dos tipos de p\u00e1ginas o modos de interfaz de usuario:</p>"},{"location":"Sentry2/userinterface/#ejecucion-running","title":"Ejecuci\u00f3n (Running)","text":"<p> <p> </p> <p></p> <p>En este modo el significado de las partes es:</p> <ul> <li>Estado de la c\u00e1mara: En esta \u00e1rea se muestra el nombre actual del modo de visi\u00f3n.</li> <li>Imagen: Muestra las im\u00e1genes de la c\u00e1mara.</li> <li>Marcos: Enmarca los objetos detectados, como el cuadro de detecci\u00f3n, las coordenadas o la informaci\u00f3n.</li> <li>Estado del sistema: Velocidad de fotogramas de la c\u00e1mara, nivel de zoom o estado de la conexi\u00f3n WiFi.</li> </ul>"},{"location":"Sentry2/userinterface/#configuracion-setting","title":"Configuraci\u00f3n (Setting)","text":"<p> <p> </p> <p></p> <p>En la p\u00e1gina de ejecuci\u00f3n, puedes hacer clic derecho en el joystick para acceder a la p\u00e1gina de configuraci\u00f3n de la interfaz de usuario. Hay tres p\u00e1ginas: Configuraci\u00f3n Vision, Configuraci\u00f3n c\u00e1mara y Configuraci\u00f3n hardware.</p> <p> <p> </p> <p></p> <p>Si haces clic con el joystick hacia la izquierda, saldr\u00e1 de la p\u00e1gina actual y pasar\u00e1 una por una hasta volver a la p\u00e1gina de ejecuci\u00f3n.</p> <ul> <li>Configuraci\u00f3n Vision: habilita o deshabilita la configuraci\u00f3n del modo de visi\u00f3n y par\u00e1metros.</li> <li>Configuraci\u00f3n c\u00e1mara: puedes configurar el zoom de la c\u00e1mara, el balance de blancos, la saturaci\u00f3n, etc.</li> <li>Configuraci\u00f3n hardware: configura el modo de salida, la velocidad de transmisi\u00f3n UART, la direcci\u00f3n del dispositivo, el color de la luz, el idioma y otras configuraciones de hardware.</li> </ul>"},{"location":"Sentry2/userinterface/#configuracion-del-hardware","title":"Configuraci\u00f3n del hardware","text":"<p>En la tabla siguiente se resumen las operaciones posibles con el joystick:</p> P\u00e1gina actual Operaci\u00f3n Resumen Ejecuci\u00f3n Clic arriba Cambia a la \u00faltima visi\u00f3n Ejecuci\u00f3n Clic abajo Cambia a la siguiente visi\u00f3n Ejecuci\u00f3n Clic izquierdo Instant\u00e1nea (cuando hay insertada tarjeta microSD) Ejecuci\u00f3n Clic derecho Entra en la p\u00e1gina de configuraci\u00f3n Ejecuci\u00f3n Pulsar Modelos de entrenamiento (para visiones especiales) Ejecuci\u00f3n Pulsaci\u00f3n larga arriba Acercar zoom Ejecuci\u00f3n Pulsaci\u00f3n larga abajo Alejar zoom Ejecuci\u00f3n Pulsaci\u00f3n larga izquierda Enciende/apaga la pantalla LCD Ejecuci\u00f3n Pulsaci\u00f3n larga Borra todos los modelos (para visiones especiales) ... Configuraci\u00f3n Clic arriba Cambia al men\u00fa o bot\u00f3n anterior Configuraci\u00f3n Clic abajo Cambia al siguiente men\u00fa o bot\u00f3n Configuraci\u00f3n Clic izquierdo Cambia a la anterior p\u00e1gina de configuraci\u00f3nVuelve a la p\u00e1gina de ejecuci\u00f3n Configuraci\u00f3n Clic derecho Cambia a la siguiente p\u00e1gina de configuraci\u00f3n Configuraci\u00f3n Pulsar Selecciona ... Inicio Pulsaci\u00f3n mayor de 10 segundos arriba Restaura la configuraci\u00f3n de hardware por defecto Inicio Pulsar Entra en modo actualizaci\u00f3n de firmware de K210 Inicio Pulsaci\u00f3n larga abajo Entra en modo actualizaci\u00f3n de firmware de ESP8255 <p>NOTA:</p> <p>Un clic es una pulsaci\u00f3n corta, para que sea una pulsaci\u00f3n larga debes mantener pulsado el bot\u00f3n durante al menos 2 segundos antes de soltarlo.</p>"},{"location":"Sentry2/userinterface/#configuracion-de-salida","title":"Configuraci\u00f3n de salida","text":"<p>Si quieres utilizar un controlador para comunicarte con la Sentry2 debes hacer ajustes en algunas configuraciones de salida.</p> <p> <p> </p> <p></p> <ol> <li>En la p\u00e1gina de 'ejecuci\u00f3n', haz clic derecho tres veces en el joystick para acceder a la p\u00e1gina de configuraci\u00f3n del hardware.</li> <li>En la opci\u00f3n 'Salida' (Output), pulsa el bot\u00f3n del joystick para acceder a la configuraci\u00f3n.</li> <li>Selecciona el modo 'UART' o 'I2C'. Por lo general, el modo I2C es m\u00e1s r\u00e1pido, lo que favorece la mejora de la velocidad de fotogramas del procesamiento de im\u00e1genes especialmente si tu controlador no es compatible con el modo UART de alta velocidad de transmisi\u00f3n.</li> <li>Elige el 'Protocolo est\u00e1ndar' o el 'Protocolo simple' para el modo UART. Por lo general, hay que seleccionar 'Protocolo est\u00e1ndar' para utilizar la biblioteca de controladores.</li> <li>Haz clic en 'YES' para volver atr\u00e1s.</li> <li>Seleccione la opci\u00f3n 'Direcci\u00f3n' (Address) en los men\u00fas de la izquierda.</li> <li>Configura la direcci\u00f3n de hardware de Sentry2 con un valor entre '0x60' y '0x63', haz clic en 'YES' y vuelve atr\u00e1s. El valor predeterminado es: '0x60'.</li> <li>Accede a la p\u00e1gina de configuraci\u00f3n 'UART' si seleccionas este modo.</li> <li> <p>Mueve el control deslizante hacia la izquierda o hacia la derecha para configurar la velocidad de transmisi\u00f3n UART a alguno de los valores siguientes: 9600, 19200, 38400, 57600, 115200, 921600, 1152000, 2000000.</p> <p>Una velocidad de transmisi\u00f3n m\u00e1s alta puede reducir el tiempo de transferencia de datos, lo que puede mejorar la velocidad de fotogramas de la imagen. Debes comprobar que la velocidad de transmisi\u00f3n m\u00e1xima de tu controlador sea compatible. Si la comunicaci\u00f3n es an\u00f3mala, debes reducir la velocidad de transmisi\u00f3n.</p> </li> <li> <p>Haz clic izquierdo con el joystick tres veces para volver a la p\u00e1gina de ejecuci\u00f3n.</p> </li> </ol>"},{"location":"Sentry2/userinterface/#configuracion-usb","title":"Configuraci\u00f3n USB","text":"<p>Sentry2 puede comunicarse con el ordenador mediante un cable USB-C. Su velocidad de transmisi\u00f3n se puede configurar por separado. El modo USB tambi\u00e9n se basa en el 'protocolo est\u00e1ndar o simple'.</p> <p> <p> </p> <p></p> <p>Velocidad en baudios: admite velocidades de 9600, 19200, 38400, 57600, 115200, 921600, 1152000 y 2000000 baudios. El USB se puede desactivar si el control deslizante 'To UART' est\u00e1 a la izquierda.</p> <p>To UART: activa o desactiva la transmisi\u00f3n de datos entre el USB y la UART.</p> <p>Consejo:</p> <p>Si los datos enviados coinciden con las instrucciones del protocolo, se ejecutan las instrucciones en lugar de la salida.</p>"},{"location":"Sentry2/userinterface/#configuracion-de-la-pantalla","title":"Configuraci\u00f3n de la pantalla","text":"<p>Los resultados de la detecci\u00f3n, cuando el modo visi\u00f3n est\u00e1 en funcionamiento, se indican a trav\u00e9s de tres marcas: cuadro de detecci\u00f3n, coordenadas X-Y e informaci\u00f3n.</p> <p> <p> </p> <p></p> <p>Box: Cuadro rectangular que muestra los objetos detectados.</p> <p>X-Y: Dibuja las l\u00edneas de coordenadas horizontales y verticales del objeto detectado y muestra:</p> <ul> <li>X: posici\u00f3n horizontal</li> <li>Y: posici\u00f3n vertical</li> <li>W: anchura del objeto</li> <li>H: altura del objeto.</li> </ul> <p>Info: muestra informaci\u00f3n del objeto, como su etiqueta de clasificaci\u00f3n y su nombre.</p>"},{"location":"Sentry2/userinterface/#configuracion-diodos-led","title":"Configuraci\u00f3n diodos LED","text":"<p>Hay dos diodos LED en la parte delantera del hardware para indicar el estado de la detecci\u00f3n. El color del LED cambiar\u00e1 en funci\u00f3n de los resultados de la detecci\u00f3n de cada fotograma.</p> <p> <p> </p> <p></p> <p>El usuario puede configurar el color del LED para el estado 'detectado' o 'no detectado' respectivamente. Haz clic en el joystick para cambiar el color siguiendo la secuencia siguiente:</p> <p> <p> </p> <p></p> <p>El color negro significa que el LED est\u00e1 apagado.</p> <p>Cuando los colores 'Detected' (Detectado) y 'Undetected' (No detectado) son iguales, los LED permanecer\u00e1n encendidos.</p> <p>El rango de 'Brillo' va de 0 a 15, donde 0 es como apagar la luz y 15 es el m\u00e1s brillante. Por lo general, se recomienda ajustar el brillo a 1 o 2.</p> <ul> <li> <p>Apagar el LED</p> <p>En algunos casos, el LED debe apagarse, ya que su iluminaci\u00f3n puede causar interferencias en el reconocimiento de im\u00e1genes (como la visi\u00f3n de color o de manchas). Hay dos formas de apagar el LED:</p> <pre><code>1. Establecer 'Detected' y 'Undetected' en negro.\n2. Establecer el brillo a 0.\n</code></pre> </li> <li> <p>Luz de relleno</p> </li> </ul> <p>Cuando el entorno es oscuro o hay contraluz, es necesario utilizar luz de relleno:</p> <pre><code>    1. Establece 'Detected' y 'Undetected' a blanco.\n    2. Establece 'Brillo' a 15.\n</code></pre>"},{"location":"Sentry2/userinterface/#comnfiguracion-wifi","title":"Comnfiguraci\u00f3n WiFi","text":"<p>El chip ESP8285-WiFi integrado en Sentry2 puede comunicarse con el chip K210 a trav\u00e9s de un puerto UART interno. Cuando se activa la funci\u00f3n 'Custom Vision', el chip ESP8285 entra en funcionamiento.</p> <p> <p> </p> <p></p> <p>Baudrate: Velocidad en baudios. Admite velocidades de 9600, 74880, 115200, 921600, 1152000, 2000000, 3000000, 4000000 baudios. El WiFi se desactivar\u00e1 si el control deslizante est\u00e1 a la izquierda.</p> <p>to UART: Activa o desactiva la transmisi\u00f3n de datos entre WiFi y UART.</p> <p>to USB: Habilita o deshabilita la transmisi\u00f3n de datos entre WiFi y USB.</p> <p>Consejo:</p> <p>Si los datos enviados coinciden con las instrucciones del protocolo, se ejecutan las instrucciones en lugar de la salida.</p>"},{"location":"Sentry2/userinterface/#configuracion-de-coordenadas","title":"Configuraci\u00f3n de coordenadas","text":"<p>Sentry2 soporta dos sistemas de coordenadas: Absolutas y Porcentuales.</p> <p> <p> </p> <p></p> <p>Absoluto: En este modo, se devuelven los resultados de coordenadas reales. El rango va de 0 a 319 (horizontal) y de 0 a 239 (vertical). El punto central es (160,120). Este modo tiene una mayor precisi\u00f3n.</p> <p>Porcentuales: En este modo, los resultados de las coordenadas reales se cuantifican en un rango de 0 a 100, tanto en el rango en direcci\u00f3n horizontal como en direcci\u00f3n vertical. El punto central es (50,50).</p>"},{"location":"Sentry2/userinterface/#configuracion-de-idioma","title":"Configuraci\u00f3n de idioma","text":"<p>Se puede cambiar el idioma entre Chino e Ingl\u00e9s.</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/userinterface/#configuracion-de-registros","title":"Configuraci\u00f3n de registros","text":"<p>Operaciones con registros Sentry2: Modo de guardado autom\u00e1tico (Auto Save Mode), Guardar registro (Save Register), Configuraci\u00f3n predeterminada (Default Settings).</p> <p> <p> </p> <p></p> <p>Auto Save (Autoguardado): Algunos valores de los registros se guardar\u00e1n autom\u00e1ticamente si se habilita este modo; de lo contrario, los registros se restablecer\u00e1n a su valor predeterminado despu\u00e9s del siguiente inicio. Por lo general, este modo debe estar deshabilitado.</p> <p>Save REG: Guarda los valores actuales de los registros.</p> <p>Default: Restaura los registros a la configuraci\u00f3n de f\u00e1brica. Haz clic primero en este bot\u00f3n y, a continuaci\u00f3n 'YES'.</p>"},{"location":"Sentry2/userinterface/#configuracion-de-la-camara","title":"Configuraci\u00f3n de la c\u00e1mara","text":""},{"location":"Sentry2/userinterface/#zoom-digital","title":"Zoom digital","text":"<p>Puedes ampliar la vista de zoom de la c\u00e1mara para ver objetos lejanos. Admite de 1 a 5 niveles de ajuste.</p> <p>Al aumentar el zoom, el objeto se ver\u00e1 m\u00e1s grande, pero el campo de visi\u00f3n ser\u00e1 m\u00e1s peque\u00f1o. Por el contrario, al reducir el zoom, el objeto se ver\u00e1 m\u00e1s peque\u00f1o, pero el campo de visi\u00f3n ser\u00e1 mayor.</p> <p>Tambi\u00e9n puedes cambiar el zoom con el joystick: para acercar, manten pulsado hacia arriba; para alejar, manten pulsado hacia abajo.</p>"},{"location":"Sentry2/userinterface/#autobalanace-de-blancos-awb","title":"Autobalanace de blancos (AWB)","text":"<p>Diferentes condiciones de iluminaci\u00f3n (luz blanca o luz amarilla) pueden provocar un desequilibrio en el color blanco. Es necesario ajustar el balance de blancos. Hay disponibles cuatro modos: Autom\u00e1tico, Bloqueado, Blanco y Amarillo.</p> <p>Auto (Autom\u00e1tico): este modo es el modo predeterminado y se aplica a la mayor\u00eda de los entornos.</p> <p>Lock (Bloqueado): cuando hay una gran \u00e1rea de fondo monocrom\u00e1tico en la imagen, el blanco se desequilibra, lo que provoca errores en el reconocimiento del color. Por lo tanto, es necesario bloquear el balance de blancos antes del reconocimiento para evitar el ajuste autom\u00e1tico del color. El m\u00e9todo es el siguiente:</p> <pre><code>1. Apunta la c\u00e1mara hacia un papel blanco y manten una distancia de unos 20 cm.\n2. Entra en el men\u00fa 'AWB' y selecciona el modo 'Bloqueado'.\n3. Haz clic en 'YES'.\n4. Vuelve a la p\u00e1gina de ejecuci\u00f3n.\n</code></pre> <p>White (Blanco): \u00fasalo en entornos con luz blanca.</p> <p>Yellow (Amarillo): \u00fasalo en entornos con luz amarilla.</p>"},{"location":"Sentry2/userinterface/#saturacion","title":"Saturaci\u00f3n","text":"<p>Aumentar la saturaci\u00f3n har\u00e1 que el color se vuelva m\u00e1s brillante, se intensifique y resalte.</p> <p>Disminuir la saturaci\u00f3n har\u00e1 que el color se vuelva m\u00e1s apagado y, a niveles muy bajos, parecer\u00e1 blanco y negro.</p> <p>Brillo</p> <p>Para cambiar el brillo de la imagen si resulta necesario.</p> <p>Contraste</p> <p>Aumentar el contraste har\u00e1 que la diferencia entre lugares pr\u00f3ximos con diferencia de color sea mayor.</p> <p>Reducir el contraste har\u00e1 que la imagen se vea apagada.</p>"},{"location":"Sentry2/userinterface/#sharpness-nitidez","title":"Sharpness (Nitidez)","text":"<p>Aumentar la nitidez har\u00e1 que el contorno de los bordes sea m\u00e1s claro y los detalles m\u00e1s evidentes, pero si se aumenta demasiado se producir\u00e1 ruido.</p> <p>Reducir la nitidez difuminar\u00e1 la imagen.</p>"},{"location":"Sentry2/userinterface/#control-de-autoexposicion-aec","title":"Control de autoexposici\u00f3n AEC","text":"<p>La luz intensa permite reducir el valor de exposici\u00f3n cuando se expone la imagen.</p> <p>Por el contrario, si el entorno es oscuro, se debe aumentar el valor de exposici\u00f3n.</p>"},{"location":"Sentry2/userinterface/#rotacion","title":"Rotaci\u00f3n","text":"<p>La imagen rota 180 grados si se habilita.</p>"},{"location":"Sentry2/userinterface/#ejecutando-vision","title":"Ejecutando visi\u00f3n","text":"<p>Hay varias formas de activar/desactivar la visi\u00f3n: desde la p\u00e1gina de la interfaz de usuario, haciendo clic en el joystick o mediante comandos del controlador.</p>"},{"location":"Sentry2/userinterface/#interfaz-de-usuario","title":"Interfaz de usuario","text":"<p> <p> </p> <p></p> <ol> <li>Selecciona visi\u00f3n en los men\u00fas de la izquierda de la p\u00e1gina de configuraci\u00f3n de 'Vision'.</li> <li>Algunas visiones se pueden configurar, haz clic en 'Configuraci\u00f3n' para acceder.</li> <li>Si aparece el bot\u00f3n rojo 'Stop' en la parte inferior izquierda del \u00e1rea de control de la derecha, significa que el algoritmo est\u00e1 cerrado actualmente. Al hacer clic en \u00e9l, cambiar\u00e1 a un bot\u00f3n verde 'run', lo que significa que el algoritmo se ha iniciado. Vuelve a hacer clic en \u00e9l y volver\u00e1 a cambiar al bot\u00f3n rojo Detener.</li> </ol>"},{"location":"Sentry2/userinterface/#con-joystick","title":"Con joystick","text":"<p> <p> </p> <p></p> <ol> <li>Haz un clic corto con el joystick hacia arriba y hacia abajo para activar o desactivar visi\u00f3n. La visi\u00f3n anterior se cerrar\u00e1 si se est\u00e1 ejecutando una nueva visi\u00f3n.</li> <li>La secuencia de cambio de visi\u00f3n se ordena por ID de visi\u00f3n.</li> </ol>"},{"location":"Sentry2/userinterface/#comandos-del-controlador","title":"Comandos del controlador","text":"<p>Para hacerlo de esta manera, el controlador necesita leer y escribir registros para habilitar o deshabilitar la visi\u00f3n. Se proporcionan las librerias de controladores para diferentes plataformas de programaci\u00f3n.</p> <p>En el modo UART, la lectura o escritura de registros debe realizarse de acuerdo con el protocolo est\u00e1ndar o el protocolo simple. Para obtener m\u00e1s detalles, consulta las secciones relacionadas.</p> <p>En el modo I2C se pueden leer o escribir registros directamente.</p> <p>Habilitar visi\u00f3n:</p> <ol> <li>Escribe el ID de visi\u00f3n en el registro 0x20-VISION_ID.</li> <li>Escribe 0x01 en el registro 0x21-VISIO_CONF1 para habilitar visi\u00f3n; o al contrario, escribe 0x00 para deshabilitarla.</li> </ol> <p>Para obtener m\u00e1s detalles, consulta los registros.</p>"},{"location":"Sentry2/userinterface/#resultados-de-vision","title":"Resultados de visi\u00f3n","text":""},{"location":"Sentry2/userinterface/#resultados-en-pantalla","title":"Resultados en pantalla","text":"<p>El objeto objetivo se marcar\u00e1 en la pantalla cuando sea detectado. Significado de las marcas:</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/userinterface/#resultados-por-comandos","title":"Resultados por comandos","text":"<p>Los resultados solamente los puede leer el controlador. Para leer resultados:</p> <ol> <li>Escribir el identificador de visi\u00f3n en el registro 0x20-VISION_ID.</li> <li>Leer el registro 0x34-RESULT_NUM para obtener el n\u00famero de objetos detectados.</li> <li>Escribir el identificador del resultado que se desea leer en el registro 0x24-RESULT_ID.</li> <li>Leer los resultados en los registros 0x80~0x89.</li> </ol> Direcci\u00f3n Nombre Resumen 0x80 RESULT_DATA1_H8 8 bits de mayor peso de Resultado 1 0x81 RESULT_DATA1_L8 8 bits de menor peso de Resultado 1 0x82 RESULT_DATA2_H8 8 bits de mayor peso de Resultado 2 0x83 RESULT_DATA2_L8 8 bits de menor peso de Resultado 2 0x84 RESULT_DATA3_H8 8 bits de mayor peso de Resultado 3 0x85 RESULT_DATA3_L8 8 bits de menor peso de Resultado 3 0x86 RESULT_DATA4_H8 8 bits de mayor peso de Resultado 4 0x87 RESULT_DATA4_L8 8 bits de menor peso de Resultado 4 0x88 RESULT_DATA5_H8 8 bits de mayor peso de Resultado 5 0x89 RESULT_DATA5_L8 8 bits de menor peso de Resultado 5"},{"location":"Sentry2/vision/","title":"Visi\u00f3n","text":""},{"location":"Sentry2/vision/#resumen","title":"Resumen","text":"<p>El sensor de visi\u00f3n Sentry2 integra una variedad de algoritmos de visi\u00f3n offline para reconocer objetos sin necesidad de conexi\u00f3n a la red, y el chip ESP8285-WiFi integrado permite realizar la funci\u00f3n de reconocimiento de im\u00e1genes basada en la nube.</p>"},{"location":"Sentry2/vision/#listado","title":"Listado","text":"ID Nombre Resumen 1 Color Devuelve el valor R (rojo), G (verde) y B (azul) y la etiqueta de cada regi\u00f3n. Hasta 25 regiones 2 Blob(Burbuja) Detectar un bloque de color espec\u00edfico. Admite la selecci\u00f3n simult\u00e1nea de bloques de color negro, blanco, rojo, verde, azul y amarillo 3 Apriltag Compatible con familia Apriltag 16H5, 25H9, 36H11. Hasta 25 etiquetas 4 Line Busca l\u00edneas y devuelve sus extremos y grados, admite entre 1 y 5 l\u00edneas 5 Learning Entrenar objetos y clasificarlos. Hasta 25 datos de modelo 6 Card Identificar patrones especiales de tarjetas, incluyendo 10 de tr\u00e1fico, 9 de formas y 10 de n\u00fameros 7 Face Detecci\u00f3n y reconocimiento facial, compatible con detecci\u00f3n de m\u00e1scaras, puede almacenar datos de 25 modelos 8 20Class Clasifica 20 objetos comunes, como gato, coche, persona, etc 9 QrCode Reconocimiento de un c\u00f3digo QR sencillo 10 Custom Ejecutar algoritmos personalizados que se ejecutan en el chip ESP8285-WiFi integrado 11 Motion Determinar si hay \u00e1reas en movimiento en la imagen"},{"location":"Sentry2/vision/#introduccion-detallada","title":"Introducci\u00f3n detallada","text":""},{"location":"Sentry2/vision/#id1-color","title":"ID:1 Color","text":"<ul> <li>Resumen El usuario puede establecer desde una hasta 25 regiones para el reconocimiento de colores y obtener los valores R (rojo), G (verde) y B (azul) y la etiqueta de cada regi\u00f3n. Las coordenadas y el tama\u00f1o de cada regi\u00f3n se pueden configurar.</li> </ul> <p> <p> </p> <p></p> <ul> <li>Etiqueta Color Una etiqueta de color es un n\u00famero que se utiliza para representar un color:</li> </ul> <p> <p> </p> <p></p> Etiqueta Nombre Etiqueta Nombre Etiqueta Nombre 1 Negro (Black) 2 Blanco (White) 3 Rojo (Red) 4 Verde (Green) 5 Azul (Blue) 6 Amarillo (Yellow) 0 Desconocido (Unknown) <ul> <li>Par\u00e1metros El usuario puede configurar las regiones para el reconocimiento:</li> </ul> Par\u00e1metro Resumen 1 Coordenada X del centro de la regi\u00f3n 2 Coordenada Y del centro de la regi\u00f3n 3 Ancho de la regi\u00f3n 4 Alto de la regi\u00f3n 5 Ninguno <p> <p> </p> <p></p> <p>Existen varios par\u00e1metros preestablecidos en la p\u00e1gina de configuraci\u00f3n de la interfaz de usuario:</p> <p>Cuadr\u00edcula (X x Y): 1x1, 2x2, 3x3, 4x4, 5x5, 1x10, 2x10, 6x1, 6x2</p> <p>Tama\u00f1o (Ancho x Alto): 2x2, 4x4, 8x8, 16x16, 32x32</p> <p>NOTA:</p> <p>Para representar un cuadrado en el sistema de coordenadas porcentuales, la anchura y la altura no son iguales, sino que se ajustan a la relaci\u00f3n 3:4. Por ejemplo, si la anchura de un cuadrado es del 12%, entonces su altura h debe ser 12/3 \u00d7 4 = 16 %. En el sistema de coordenadas absolutas, los tama\u00f1os preestablecidos del \u00e1rea de reconocimiento son: 1x1, 2x3, 3x4, 6x8, 9x12.</p> <ul> <li>Resultados En la pantalla aparecer\u00e1 un recuadro rectangular que identifica el color, y un recuadro de cuatro esquinas que identifica el color desconocido.</li> </ul> <p> <p> </p> <p></p> Resultado Resumen 1 R, valor del canal rojo con rango 0 a 255 2 G, valor del canal verde con rango 0 a 255 3 B, valor del canal azul con rango 0 a 255 4 Ninguno 5 Etiqueta de color"},{"location":"Sentry2/vision/#id2-blob-bloques-de-color","title":"ID:2 Blob (bloques de color)","text":"<ul> <li>Resumen Busca un bloque de color determinado en una imagen y devuelve sus coordenadas y tama\u00f1o. Admite la detecci\u00f3n de m\u00faltiples colores y m\u00faltiples resultados. La etiqueta de color tiene la misma definici\u00f3n que en Color vision.</li> </ul> <p> <p> </p> <p></p> <ul> <li>Par\u00e1metros El usuario debe decidir primero qu\u00e9 color desea detectar. El ancho y el alto de la pieza de color m\u00ednima se pueden configurar para reducir los resultados falsos:</li> </ul> Resultado Resumen 1 Ninguno 2 Ninguno 3 Ancho m\u00ednimo 4 Alto m\u00ednimo 5 La etiqueta Color ser\u00e1 detectada <p> <p> </p> <p></p> <p>Existen varios par\u00e1metros preestablecidos en la p\u00e1gina Interfaz de Usuario:</p> <ul> <li>Nivel de rendimiento del algoritmo: Para seleccionar el rendimiento de la visi\u00f3n seg\u00fan los diferentes requisitos de la aplicaci\u00f3n, entre 'Sensible', 'Equilibrado' y 'Preciso'.</li> <li>N\u00famero m\u00e1ximo de bloques: Admite de 1 a 5 bloques para cada color.</li> <li>Tama\u00f1o m\u00ednimo del bloque: En sistema de coordenadas absolutas: 2x2, 4x4, 8x8, 16x16, 32x32, 64x64, 128x128 p\u00edxeles. En sistema de coordenadas porcentuales: 1x1, 2x3, 3x4, 6x8, 9x12, 21x28, 42x56 %.</li> <li>Color a detectar: Se muestra un icono de ojo abierto si la etiqueta de color est\u00e1 activada.</li> </ul> <ul> <li>Resultados </li> </ul> <p> <p> </p> <p></p> <p>Obt\u00e9n los resultadfos:</p> Resultado Resumen 1 Coordenada X del centro del bloque 2 Coordenada Y del centro del bloque 3 Ancho del bloque 4 Alto del bloque 5 Etiqueta Color"},{"location":"Sentry2/vision/#id3-apriltag-etiquetas","title":"ID:3 Apriltag (etiquetas)","text":"<p>Los AprilTag son marcadores visuales para detecci\u00f3n e identificaci\u00f3n mediante sistemas de visi\u00f3n artificial desarrollados por investigadores de la universidad de Michigan.</p> <p>Tecnicamente su dise\u00f1o fiducial y sistema de codificaci\u00f3n se basan en lexicografia. El sistema se describe en los art\u00edculos enlazados en la web anterior.</p> <p>Conceptualmente son similares a los c\u00f3digos QR pero dise\u00f1ados para cargas de datos mucho mas peque\u00f1as (entre 4 y 12 bits), lo que permite una detecci\u00f3n mejor a mayor distancia. Est\u00e1n dise\u00f1ados para calcular su posici\u00f3n 3D precisa respecto a la c\u00e1mara.</p> <p>Se utilizan como marcadores fiduciales en rob\u00f3tica y otras aplicaciones.</p> <p>Un marcador fiducial o solamente fiducial es un objeto colocado en el campo de visi\u00f3n de un sistema de im\u00e1genes que aparece en la imagen producida, para su uso como punto de referencia o medida.</p> <p>Su nombre procede del laboratorio de rob\u00f3tica \"April\" de la Universidad de Michigan, siendo AprilTag una biblioteca y algoritmo que permite a un sistema identificar caracter\u00edsticas en hasta seis grados de libertad.</p> <ul> <li>Resumen Busca etiquetas AprilTag en una imagen, compatible con las familias de codificaci\u00f3n 16H5, 25H9 y 36H11, y hasta 25 resultados. Debes decidir qu\u00e9 familia de codificaci\u00f3n utilizar antes de habilitar esta funci\u00f3n, y solo se puede procesar una familia.</li> </ul> <p> <p> </p> <p></p> <p>Etiqueta </p> <p> <p> </p> <p></p> <p>En el enlace puedes descargar im\u00e1genes de AprilTag y aprender mas sobre el tema.</p> <ul> <li>Par\u00e1metros </li> </ul> <p> <p> </p> <p></p> <p>Existen varios par\u00e1metros preestablecidos en la p\u00e1gina de configuraci\u00f3n de la interfaz de usuario:</p> <ul> <li>Nivel de rendimiento del algoritmo: Para seleccionar el rendimiento de la visi\u00f3n seg\u00fan los diferentes requisitos de la aplicaci\u00f3n: 'Sensible (Sensitive)', 'Equilibrado (Balance)' y 'Preciso (Accurate)'.</li> <li>Familia de codificaci\u00f3n: Compatible con 16H5, 25H9 y 36H11.</li> </ul> <ul> <li>Resultados </li> </ul> <p> <p> </p> <p></p> <p>Obt\u00e9n los resultadfos:</p> Resultado Resumen 1 Coordenada X del centro del marcador 2 Coordenada Y del centro del marcador 3 Ancho del marcador 4 Alto del marcador 5 Etiqueta"},{"location":"Sentry2/vision/#id4-line-lineas","title":"ID:4 Line (lineas)","text":"<ul> <li>Resumen Busca desde una hasta 5 l\u00edneas en una imagen y devuelve las coordenadas y los grados de sus dos extremos. Si se trata de una curva, devuelve un segmento de l\u00ednea aproximado.</li> </ul> <p> <p> </p> <p></p> <ul> <li>Par\u00e1metros En la p\u00e1gina de configuraci\u00f3n de la interfaz de usuario se pueden establecer varios par\u00e1metros.</li> </ul> <p> <p> </p> <p></p> <ul> <li>Nivel de rendimiento del algoritmo: Para seleccionar el rendimiento de la visi\u00f3n seg\u00fan los diferentes requisitos de la aplicaci\u00f3n: 'Sensible (Sensitive)', 'Equilibrado (Balance)' y 'Preciso (Accurate)'.</li> <li>N\u00famero m\u00e1ximo de l\u00edneas: Rango de 1 a 5</li> </ul> <ul> <li>Resultados </li> </ul> <p> <p> </p> <p></p> <p>NOTA:</p> <p>La horizontal hacia la derecha es 0 grados, el valor aumenta en sentido antihorario. Hacia arriba es 90 grados, y la horizontal hacia la izquierda es 180 grados.</p> <p>Se utilizan 5 colores diferentes para distinguir las l\u00edneas: rojo, amarillo, verde, azul y p\u00farpura.</p> <p> <p> </p> <p></p> Resultado Resumen 1 Coordenada X del punto final de la l\u00ednea (superior) 2 Coordenada Y del punto final de la l\u00ednea (superior) 3 Coordenada X del punto inicial de la l\u00ednea (inferior) 4 Coordenada Y del punto inicial de la l\u00ednea (inferior) 5 Grados de la l\u00ednea"},{"location":"Sentry2/vision/#id5-learning-aprendizaje","title":"ID:5 Learning (aprendizaje)","text":"<ul> <li>Resumen Los objetos pueden ser entrenados y reconocidos por esta c\u00e1mara de visi\u00f3n artificial y se pueden guardar hasta 25 datos de modelos.</li> </ul> <p> <p> </p> <p></p> <ul> <li>Par\u00e1metros </li> </ul> <p>Entrenamiento de un nuevo objeto: El nuevo objeto se puede entrenar en la p\u00e1gina en ejecuci\u00f3n:</p> <p> <p> </p> <p></p> <p>Se asignar\u00e1 autom\u00e1ticamente una etiqueta al nuevo objeto. El principio es: seleccionar el n\u00famero m\u00e1s peque\u00f1o de los ID disponibles.</p> <p>Eliminar todos los objetos: Manten pulsado verticalmente el joystick durante m\u00e1s de 2 segundos en la p\u00e1gina en ejecuci\u00f3n.</p> <p> <p> </p> <p></p> Par\u00e1metro Resumen 1 Ninguno 2 Ninguno 3 Ninguno 4 Ninguno 5 Escribe 0 para borrar el objeto actual o 100 para entrenamiento <p>Puedes renombrar o borrar el objeto entrenado.</p> <p> <p> </p> <p></p> <ul> <li>Renombrar:</li> </ul> <p> <p> </p> <p></p> <ul> <li>Borrar:</li> </ul> <p> <p> </p> <p></p> <ul> <li>Resultados La visi\u00f3n solo puede juzgar la existencia del objeto entrenado, pero no sus coordenadas y tama\u00f1o, por lo que el cuadro de reconocimiento es un valor de salida fijo.</li> </ul> <p> <p> </p> <p></p> Resultado Resumen 1 Fijado, 160 2 Fijado, 120 3 Fijado, 224 4 Fijado, 224 5 Etiqueta"},{"location":"Sentry2/vision/#id6-card-tarjeta","title":"ID:6 Card (tarjeta)","text":"<ul> <li>Resumen Reconocer una tarjeta espec\u00edfica en la imagen y devolver sus coordenadas, tama\u00f1o, etiqueta y otra informaci\u00f3n. Incluye tarjetas de tr\u00e1fico, de formas y de n\u00fameros.</li> </ul> <p> <p> </p> <p></p> <p>Las etiquetas se muestran en la siguiente tabla. Del 1 al 10 para Tr\u00e1fico, del 11 al 19 para Formas y del 20 al 29 para N\u00fameros.</p> Etiqueta Nombre Etiqueta Nombre Etiqueta Nombre 1 Avanzar (Forward) 2 Izquierda (Left) 3 Derecha (Right) 4 Dar la vuelta (Turn Around) 5 Aparcamiento (Park) 6 Verde (Green) 7 Rojo (Red) 8 Velocidad 40 (Speed 40) 9 Velocidad 60 (Speed 60) 10 Velocidad 80 (Speed 80) 11 Comprueba (Check) 12 Aspa (Cross) 13 C\u00edrculo (Circle) 14 Cuadrado (Square) 15 Tri\u00e1ngulo (Triangle) 16 Suma (Plus) 17 Resta (Minus) 18 Divisi\u00f3n (Divide) 19 Igual (Equal) 20 N\u00famero 0 21 N\u00famero 1 22 N\u00famero 2 23 N\u00famero 3 24 N\u00famero 4 25 N\u00famero 5 26 N\u00famero 6 27 N\u00famero 7 28 N\u00famero 8 29 N\u00famero 9 <ul> <li> <p>Par\u00e1metros Ninguno.</p> </li> <li> <p>Resultados Esta visi\u00f3n puede reconocer varias tarjetas al mismo tiempo, incluso se est\u00e1n rotadas hasta 30 grados, pero no las gires demasiado.</p> </li> </ul> <p> <p> </p> <p></p> Resultado Resumen 1 Coordenada X del centro de la tarjeta 2 Coordenada Y del centro de la tarjeta 3 Ancho de la tarjeta 4 Alto de la tarjeta 5 Etiqueta de de la tarjeta"},{"location":"Sentry2/vision/#id7-face-caras","title":"ID:7 Face (Caras)","text":"<ul> <li>Resumen Esta visi\u00f3n permite entrenar y reconocer rostros, se pueden guardar hasta 25 datos de modelos y tambi\u00e9n admite la detecci\u00f3n de m\u00e1scaras.</li> </ul> <p> <p> </p> <p></p> <ul> <li>Par\u00e1metros </li> </ul> <ul> <li>Entrenando nueva cara: Un nuevo objeto se puede entrenar desde la p\u00e1gina de ejecuci\u00f3n.</li> </ul> <p> <p> </p> <p></p> <p>Una nueva etiqueta se asigna a la nueva cara tomando como criterio escoger el n\u00famero mas peque\u00f1o de los ID disponibles.</p> <ul> <li>Borrar todas las caras: Una pulsaci\u00f3n superior a 2 segundos del bot\u00f3n del joystick.</li> </ul> Par\u00e1metro Resumen 1 Ninguno 2 Ninguno 3 Ninguno 4 Ninguno 5 Escribe 0 para borrar el objeto actual o 100 para entrenamiento <p>Puedes renombrar o borrar el objeto entrenado desde la p\u00e1gina de configuraci\u00f3n de la interfaz de usuario.</p> <p> <p> </p> <p></p> <ul> <li>Resultados </li> </ul> <p> <p> </p> <p></p> <p>Esta c\u00e1mara de visi\u00f3n artificial admite la detecci\u00f3n de rostros (rostros nuevos) y el reconocimiento de rostros (rostros entrenados) que se ejecutan al mismo tiempo. A los rostros nuevos se les asignar\u00e1 la etiqueta 0. En particular, si se detecta un rostro nuevo que lleva una mascarilla, se mostrar\u00e1 'Rostro nuevo (mascarilla)' y la etiqueta se fijar\u00e1 en 200.</p> <p> <p> </p> <p></p> Resultado Resumen 1 Coordenada X del centro de la cara 2 Coordenada Y del centro de la cara 3 Ancho de la cara 4 Alto de la cara 5 Etiqueta 0: nueva cara, 200: cara con m\u00e1scarilla"},{"location":"Sentry2/vision/#id8-20class-objetos","title":"ID:8 20Class (objetos)","text":"<ul> <li>Resumen Identifica 20 tipos comunes de objetos y devuelve sus coordenadas, tama\u00f1o y etiquetas, tal y como se muestra en la tabla siguiente.</li> </ul> <p> <p> </p> <p></p> Resultado Resumen Resultado Resumen Resultado Resumen 1 Avi\u00f3n (Airplane) 2 Bicicleta (Bicycle) 3 P\u00e1jaro (Bird) 4 Barco (Boat) 5 Botella (Bottle) 6 Autob\u00fas (Bus) 7 Coch (Car) 8 Gato (Gat) 9 Silla (Chair) 10 Vaca (Cow) 11 Mesa de comedor (DiningTable) 12 Perro (Dog) 13 Caballo (Horse) 14 Motocicleta (Motorbike) 15 Persona (Person) 16 Maceta (PottedPlant) 17 Oveja (Sheep) 18 Sof\u00e1 (Sofa) 19 Tren (Train) 20 Monitor de televisi\u00f3n (Tvmonitor) <ul> <li>Par\u00e1metros </li> </ul> <p> <p> </p> <p></p> <p>Nivel de rendimiento del algoritmo: Para seleccionar el rendimiento de la visi\u00f3n seg\u00fan los diferentes requisitos de la aplicaci\u00f3n: 'Sensible (Sensitive)', 'Equilibrado (Balance)' y 'Preciso (Accurate)'.</p> <ul> <li>Resultados </li> </ul> <p> <p> </p> <p></p> Resultado Resumen 1 Coordenada X del centro del objeto 2 Coordenada Y del centro del objeto 3 Ancho del objeto 4 Alto del objeto 5 Etiqueta"},{"location":"Sentry2/vision/#id9-codigo-qr","title":"ID:9 C\u00f3digo QR","text":"<p>SOLAMENTE DISPONIBLE PARA LA VERSI\u00d3N ENTERPRISE</p> <ul> <li>Resumen </li> </ul> <p> <p> </p> <p></p> <p>Se puede reconocer un c\u00f3digo QR est\u00e1ndar (menos de 25 caracteres ASCII).</p> <p>Tabla ASCII</p> Etiqueta ASCII Etiqueta ASCII Etiqueta ASCII 32 Espacio 33 ! 34 \u201c 35 # 36 $ 37 % 38 &amp; 39 \u2018 40 ( 41 ) 42 * 43 + 44 , 45 - 46 . 47 / 48 0 49 1 50 2 51 3 52 4 53 5 54 6 55 7 56 8 57 9 58 : 59 ; 60 &lt; 61 = 62 &gt; 63 ? 64 @ 65 A 66 B 67 C 68 D 69 E 70 F 71 G 72 H 73 I 74 J 75 K 76 L 77 M 78 N 79 O 80 P 81 Q 82 R 83 S 84 T 85 U 86 V 87 W 88 X 89 Y 90 Z 91 [ 92 \\ 93 ] 94 ^ 95 _ 96 ` 97 a 98 b 99 c 100 d 101 e 102 f 103 g 104 h 105 i 106 j 107 k 108 l 109 m 110 n 111 o 112 p 113 q 114 r 115 s 116 t 117 u 118 v 119 w 120 x 121 y 122 z 123 { 124 125 } 126 ~ <ul> <li> <p>Par\u00e1metros Ninguno</p> </li> <li> <p>Resultados A diferencia de otras c\u00e1maras de visi\u00f3n artificial, esta devuelve dos tipos de informaci\u00f3n, paquete de atributos y datos de caracteres.</p> </li> </ul> <p> <p> </p> <p></p> <p>Paquete de atributos</p> Resultado Resumen 1 Coordenada X del centro del QR 2 Coordenada Y del centro del QR 3 Ancho del QR 4 Alto del QR 5 N\u00famero de caracteres <p>Datos de caracteres</p> Resultado Resumen 1 Dato de caracter 2 Dato de caracter 3 Dato de caracter 4 Dato de caracter 5 Dato de caracter"},{"location":"Sentry2/vision/#id10-custom-personalizado","title":"ID:10 Custom (Personalizado)","text":"<ul> <li>Resumen Si este modo est\u00e1 habilitado, el chip wifi estar\u00e1 en modo ejecuci\u00f3n. Mas detalles en:</li> </ul> <p>Versi\u00f3n en Ingl\u00e9s: Sentry2 WiFi Firmware Developing User Guide_V1.1.pdf </p> <p>Versi\u00f3n en Castellano: Gu\u00eda de desarrollo del firmware WiFi Sentry2_V1.1.pdf</p> <p> <p> </p> <p></p> <ul> <li> <p>Par\u00e1metros Personalizados</p> </li> <li> <p>Resultados Personalizados</p> </li> </ul>"},{"location":"Sentry2/vision/#id11-motion-movimiento","title":"ID:11 Motion (Movimiento)","text":"<p>SOLAMENTE DISPONIBLE PARA LA VERSI\u00d3N ENTERPRISE</p> <ul> <li>Resumen Compara la diferencia de p\u00edxeles de los fotogramas adyacentes para determinar si hay una regi\u00f3n con movimiento en la imagen, devolviendo su coordenada y tama\u00f1o.</li> </ul> <p> <p> </p> <p></p> <ul> <li> <p>Par\u00e1metros Ninguno</p> </li> <li> <p>Resultados </p> </li> </ul> <p> <p> </p> <p></p> Resultado Resumen 1 Coordenada X del centro de la regi\u00f3n 2 Coordenada Y del centro de la regi\u00f3n 3 Ancho de la regi\u00f3n 4 Alto de la regi\u00f3n 5 Ninguno"},{"location":"Sentry2/vision/#resumen-de-la-interfaz-de-ejecucion-running","title":"Resumen de la interfaz de ejecuci\u00f3n (Running)","text":"<p> <p> </p> <p></p> <p>Hay varias formas de habilitar/desactivar la visi\u00f3n:</p> <ul> <li>Desde la p\u00e1gina de la interfaz de usuario</li> </ul> <p> <p> </p> <p></p> <ol> <li>Selecciona la vista en los men\u00fas de la izquierda de la p\u00e1gina de configuraci\u00f3n de la visi\u00f3n.</li> <li>Algunas visiones se pueden configurar. Pulsa en \"Setting / configuraci\u00f3n\" para entrar.</li> <li> <p>Si se muestra el bot\u00f3n rojo \"STOP / detener\" en la parte inferior izquierda del \u00e1rea de control derecha, significa que el algoritmo est\u00e1 cerrado actualmente. Despu\u00e9s de clicar en \u00e9l, cambiar\u00e1 a un bot\u00f3n verde \"RUN / ejecuta\", lo que significa que el algoritmo se inicia. Pulsa de nuevo y volver\u00e1 a cambiar en el bot\u00f3n rojo \"STOP / detener\".</p> </li> <li> <p>Con el joystick</p> </li> </ol> <p> <p> </p> <p></p> <ol> <li>Pulsa brevemente en el joystick hacia arriba y hacia abajo para activar o desactivar una visi\u00f3n. La visi\u00f3n anterior se cerrar\u00e1 si se est\u00e1 ejecutando una visi\u00f3n nueva.</li> <li> <p>La secuencia de cambio de visi\u00f3n se ordena por Vision-ID.</p> </li> <li> <p>Mediante las instrucciones de programaci\u00f3n del controlador</p> </li> </ol> <p>De esta forma, el controlador necesita leer y escribir registros para habilitar o desactivar la visi\u00f3n. Se ofrecen las bibliotecas de controladores para distintas plataformas de programaci\u00f3n.</p> <p>En el modo UART, la lectura o la escritura de registros se realiza de acuerdo con el protocolo est\u00e1ndar o el protocolo simple. Para obtener m\u00e1s informaci\u00f3n, consulte las secciones relacionadas.</p> <p>El modo I2C puede leer o escribir registros directamente.</p> <p>Activa la visi\u00f3n:</p> <ol> <li>Escribe Vision ID en el registro 0x20-VISION_ID</li> <li>Escribe 0x01 en el registro 0x21-VISIO_CONF1 para habilitar la visi\u00f3n. De lo contrario, escribe 0x00 para desactivarla.</li> </ol>"},{"location":"Sentry2/wifi_sentry2/","title":"Sentry2 - WiFi","text":"<p>Sentry2 tiene un chip WiFi ESP8285 integrado que se puede programar directamente con el IDE de Arduino para hacer reconocimiento online, transmisi\u00f3n de im\u00e1genes, AIoT y otras aplicaciones. El ESP8285 se puede utilizar como controlador para K210, que es una ayuda para la programaci\u00f3n de IA sin dispositivo externo.</p>"},{"location":"Sentry2/wifi_sentry2/#entorno-de-desarrollo","title":"Entorno de desarrollo","text":"<ul> <li>A\u00f1ade el soporte para las placas ESP8266</li> </ul> <p>En primer lugar, descarga e instala el IDE de Arduino: Enlace a la web de descarga</p> <p>Abre el IDE de Arduino y haz clic en Archivo \u2192 Preferencias.</p> <p>Escribe, o copia y pega, http://arduino.esp8266.com/stable/package_esp8266com_index.json en URL Adicionales de gestor de placas. Guarda los cambios.</p> <p>Abre Herramientas \u2192 Placa \u2192 Gestor de placas\u2026</p> <p>En Filtrar la b\u00fasqueda\u2026 escribe esp8266 y despu\u00e9s clica en Instalar y en Cerrar.</p> <ul> <li>Prueba simple</li> </ul> <p>Abre Herramientas \u2192 Placa \u2192 ESP8266\u2026 \u2192 Generic ESP8285 Module.</p> <p>Abre Archivo \u2192 Ejemplos \u2192 ESP8266\u2026 \u2192 Blink.</p> <p>Conecta Sentry2 a tu ordenador con un cable USB-C.</p> <p>Abre Herramientas y cambia la configuraci\u00f3n como se muestra a continuaci\u00f3n:</p> <ul> <li>Builtin Led: \u201c4\u201d</li> <li>CPU Frequency\uff1a\u201c80 MHz\u201d o \u201c160 MHz\u201d</li> <li>Upload Speed\uff1a\u201c57600\u201d</li> <li>Reset Method\uff1a\u201cno dtr (aka ck)\u201d</li> <li>Puerto\uff1aselecciona el puerto al que est\u00e1 conectado Sentry2</li> </ul> <p>Mueve el joystick abajo y mantenlo (NO lo presiones verticalmente).</p> <p>En el IDE de Arduino, pulsa en el bot\u00f3n Subir para iniciar la compilaci\u00f3n y la subida. Manten el joystick hacia abajo hasta que en la pantalla del IDE se muestre Writing at \u2026 (xx% progress).</p> <p>Espera a se cargue el 100%.</p> <p>Reinicia Sentry2 y ejecuta la visi\u00f3n \u201cCustom\u201d. El LED azul de WiFi se mantendr\u00e1 brillante y el LED personalizado parpadear\u00e1.</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#demo-wifi","title":"Demo WiFi","text":"<p>Se proporcionan algunos programas WiFi de c\u00f3digo abierto.</p> <p>NOTAS:</p> <p>NOTA 1: el AI Cloud Servide (servicio de nube de IA) de terceros puede requerir una cuenta o un pago para utilizarla. Por favor, lea atentamente las condiciones de uso.</p> <p>NOTA 2: estas demostraciones s\u00f3lo se utilizan como referencia para el uso de la funci\u00f3n WiFi y no garantizan el rendimiento, seguridad o disponibilidad de la identificaci\u00f3n.</p>"},{"location":"Sentry2/wifi_sentry2/#bemfa-aiot-carga-de-imagenes","title":"Bemfa AIoT - Carga de im\u00e1genes","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_bemfa_image_transfer.zip</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#bemfa-aiot-mqtt-para-sentry2","title":"Bemfa AIoT - MQTT para Sentry2","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_bemfa_mqtt_run_vision.zip</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#baidu-ai-clasificacion-de-ingredientes-por-url","title":"Baidu AI - Clasificaci\u00f3n de ingredientes por URL","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_baidu_ingredient_classify_by_url.zip</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#baidu-ai-clasificacion-de-ingredientes-por-imagen","title":"Baidu AI - Clasificaci\u00f3n de ingredientes por imagen","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_baidu_ingredient_classify_by_image.zip</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#baidu-ai-matricula","title":"Baidu AI - Matricula","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_baidu_ocr_license_plate_by_image.zip</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#baidu-ai-ocr-reconocimiento-optico-de-caracteres","title":"Baidu AI - OCR (Reconocimiento \u00f3ptico de caracteres)","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_baidu_ocr_general_basic_by_image.zip <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#baidu-ai-clasificacion-general-de-objetos","title":"Baidu AI - Clasificaci\u00f3n general de objetos","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_baidu_general_by_image.zip <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#baidu-ai-gestos","title":"Baidu AI - Gestos","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_baidu_gesture_by_image.zip <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#microsoft-azure-clasificacion-general-de-objetos","title":"Microsoft Azure - Clasificaci\u00f3n general de objetos","text":"<p>Necesitas una cuenta de Azure para utilizar esta demostraci\u00f3n. Tienes m\u00e1s detalles en la p\u00e1gina de inicio de Azure: https://azure.microsoft.com/es-es/</p> <p>C\u00f3digo Arduino \u2192 sentry2_esp8285_microsoft_azure_detect_objects_by_image.zip</p> <p> <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#transmision-de-imagenes-y-mando-a-distancia","title":"Transmisi\u00f3n de im\u00e1genes y mando a distancia","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_image_transfer_remoter.zip <p> </p> <p></p>"},{"location":"Sentry2/wifi_sentry2/#activa-vision-desde-el-chip-wifi","title":"Activa visi\u00f3n desde el chip WiFi","text":"<p>C\u00f3digo Arduino \u2192 sentry2_esp8285_run_vision.zip</p> <p> <p> </p> <p></p>"},{"location":"TdR_STEAM/SMBlocks/","title":"STEAMakersBlocks","text":"<p>breve entrada al trabajo con el entorno de programaci\u00f3n STEAMakersBlocks como sucesor con muchas mejoras del anterior arduinoblocks.</p>"},{"location":"TdR_STEAM/SMBlocks/#entorno-de-programacion-steamakersblocks","title":"Entorno de programaci\u00f3n STEAMakersBlocks","text":"<p>STEAMakersBlocks https://www.steamakersblocks.com/ es un entorno de programaci\u00f3n visual por bloques que facilita la programaci\u00f3n de la placa y procede del cambio de nombre de ArduinoBlocks.</p> <p>Para tener en cuenta</p> <ul> <li>STEAMakersBlocks soporta Connector v6 o posterior.</li> <li>El funcionamiento de proyectos y usuarios es id\u00e9ntico con la excepci\u00f3n de los nuevos usuarios que inicien sesi\u00f3n con Google debido a que la clave se ignora y el usuario se crea internamente.</li> <li>Todos los enlaces a proyectos compartidos que existen en webs o en documentaci\u00f3n seguir\u00e1n funcionando aunque el enlace ser\u00e1 redirigido de arduinoblocks a steamakersblocks.</li> </ul> <p>PRINCIPALES MEJORAS</p> <ul> <li>Actualizaci\u00f3n del framework usado internamente con muchas mejoras internas</li> <li>Desaparece la barra inferior para aprovechar mejor el espacio en la pantalla mejor</li> <li>Mejoras en el dise\u00f1o \"responsive\" (dise\u00f1o web adaptable para que sea accesible desde tablets, smartphones, etc.) para distintos tama\u00f1os de pantallas</li> <li>Inicio de sesi\u00f3n con Google</li> <li>Modo \"prueba\" para proyectos de distintos tipos, para poder programar y hacer pruebas sin tener que crear un proyecto nuevo.</li> <li>Nuevos bloques y funcionalidades</li> </ul> <p>STEAMakersBlocks es compatible con varias placas electr\u00f3nicas y en su entorno de programaci\u00f3n o IDE se pueden distinguir las siguientes partes:</p> <p> <p> </p> <p></p> <p> <p> 1 P\u00e1gina principal STEAMakersBlocks 15 Configuraciones de STEAMakersBlocks 2 Repositorio de proyectos 16 Bot\u00f3n para grabar el programa en la placa una vez conectada 3 Desplegar para acceder a nuestros proyectos y para crear un proyecto nuevo 17 Bot\u00f3n para abrir la consola serie. Desplegando podemos abrir serial plotter 4 Acceso a la informaci\u00f3n del proyecto referente a nombre, descripci\u00f3n, etc. 18 Actualizaci\u00f3n puerto. Muestra puerto cuando hay una placa conectada (/dev/ttyUSBn) 5 Acceso a los archivos adjuntos al proyecto 19 Captura de pantalla del programa sin fondo 6 Acceso a herramientas de edici\u00f3n de matrices de leds, pantallas LCD y OLED, Neopixel e informaci\u00f3n RTTTL 20 Espacio para guardar instrucciones y estructuras de programaci\u00f3n y reutilizarlas en el proyecto actual o en otro diferente 7 Bot\u00f3n para compartir el proyecto via correo electr\u00f3nico 21 Bot\u00f3n para maximizar el tama\u00f1o de los bloques 8 Nombre del proyecto con el icono de la placa seleccionada para programar 22 Bot\u00f3n para centrar los bloques 9 Desplegable para acceder a Connector, documentaci\u00f3n varia y librerias usadas por la aplicaci\u00f3n 23 Bot\u00f3n para ampliar el tama\u00f1o de los bloques 10 Idioma del IDE de STEAMakersBlocks 24 Bot\u00f3n para reducir el tama\u00f1o de los bloques 11 Identificaci\u00f3n de la cuenta con la que hemos accedido 25 Papelera para descartar bloques no usados 12 Cerrar la sesi\u00f3n actual 26 Espacio de programaci\u00f3n 13 Botones deshacer y rehacer 27 Bloques de programaci\u00f3n organizados por categorias 14 Bot\u00f3n y un desplegable para guardar y exportar el proyecto 28 Desplegable para mostrar el c\u00f3digo del programa, descargarlo en formato .ino o descargar en formato .zip (se descargan el programa y las librerias <p></p>"},{"location":"TdR_STEAM/SMBlocks/#programando-con-steamakersblocks","title":"Programando con STEAMakersBlocks","text":"<p>Para poder conectar y programar las placas con STEAMakersBlocks, es necesario instalar STEAMakersBlocks Connector v6 o posterior para permitir la comunicaci\u00f3n entre el entorno STEAMakersBlocks y la placa electr\u00f3nica.</p> <p>En \"Recursos\" de \"STEAMakersBlocks\" tenemos todas las opciones de descarga y condiciones de instalaci\u00f3n de \u201cSTEAMakersBlocks - Connector\u201d para los sistemas operativos soportados. Para el caso de Ubuntu nos indica:</p> <p> <p> </p> <p></p> <p>Una vez instalado lo podemos encontrar entre las aplicaciones:</p> <p> <p> </p> <p></p> <p>Al abrir Connector, aparece este cuadro de di\u00e1logo que va mostrando informaci\u00f3n sobre la placa y arduinoblocks:</p> <p> <p> </p> <p></p> <p>Dejamos \u201cSTEAMakersBlocks-Connector en ejecuci\u00f3n minimizado en segundo plano.</p>"},{"location":"TdR_STEAM/SMBlocks/#comenzando-con-steamakersblocks","title":"Comenzando con STEAMakersBlocks","text":"<p>En la p\u00e1gina principal de STEAMakersBlocks tenemos una nueva funcionalidad que consiste en crear un proyecto en modo demostraci\u00f3n haciendo clic en el bot\u00f3n \"Probar ahora\".</p> <p> <p> </p> <p></p> <p>Hacemos una prueba con la placa UNO + la Imagina TdR STEAM:</p> <p> <p> </p> <p></p> <p>Se crea una ventana que permite realizar un proyecto completo y totalmente funcional en modo demostraci\u00f3n, lo que significa que las opciones referentes al men\u00fa Proyectos no est\u00e1n disponibles y por tanto no se puede archivar.</p> <p> <p> </p> <p></p> <p>Si cargamos el proyecto podemos observar su funcionamiento.</p>"},{"location":"TdR_STEAM/SMBlocks/#proceso-con-steamakersblocks","title":"Proceso con STEAMakersBlocks","text":"<p>1. En STEAMakersBlocks, crea una cuenta pulsando en \u201cIniciar sesi\u00f3n\u201d en la ventana anterior y, posteriormente, en \u201cnuevo usuario\u201d, o puedes iniciar sesi\u00f3n con tu cuenta de Google:</p> <p> <p> </p> <p></p> <p>2.  Al entrar en la plataforma te encontrar\u00e1s esta pantalla:</p> <p> <p> </p> <p></p> <p>3. Al hacer clic en \"Empezar un nuevo proyecto!\" aparece la siguiente pantalla para seleccionar el tipo de proyecto:</p> <p> <p> </p> <p></p> <p>4. Para crear un nuevo proyecto personal, debes elegir al menos el tipo de proyecto y ponerle un nombre. Si utilizas la placa Keyestudio UNO y la Imagina TdR STEAM, debes seleccionar UNO + ImaginaTdRSTEAM en Tipo de proyecto.</p> <p> <p> </p> <p></p> <p>5. Una vez creado el proyecto, despu\u00e9s de haber cumplimentado su nombre y dem\u00e1s campos, se abre el entorno de programaci\u00f3n:</p> <p> <p> </p> <p></p> <p>6. En la parte izquierda de esta pantalla, encontrar\u00e1s los bloques disponibles clasificados por diferentes categor\u00edas. Por ejemplo, en la siguiente imagen puedes ver los bloques de algunos de los sensores que se pueden controlar con el conjunto de placas escogido.</p> <p> <p> </p> <p></p> <p>7. Arrastra los bloques al espacio de programaci\u00f3n para programar tu placa. Por ejemplo, podemos programar el env\u00edo en bucle de un mensaje por puerto serie mientras parpadean los LEDs azul y rojo de manera alterna a intervalos de un segundo. El puerto serie, tambi\u00e9n conocido como puerto de comunicaciones serie o interfaz serie, es un tipo de conexi\u00f3n utilizada en ordenadores y dispositivos perif\u00e9ricos para la transferencia de datos. La caracter\u00edstica principal del puerto serie es que env\u00eda los datos en serie; es decir, bit a bit, a trav\u00e9s de un solo canal o hilo. Los bloques m\u00e1s importantes para utilizar el puerto serie son:</p> <p> <p> </p> <p></p> <p>8. El programa de este ejemplo ser\u00eda as\u00ed:</p> <p> <p> Descargar el programa Hola mundo</p> <p></p> <p>Dentro de la estructura \u201cInicializar\u201d colocamos el bloque de configuraci\u00f3n de la velocidad de transferencia de datos (\u201cbaudrate\u201d) del puerto serie a 9600. Y en el bucle principal, colocamos el bloque para enviar un mensaje en concreto, seleccionando que se realice un salto de l\u00ednea. Despu\u00e9s de cada mensaje activamos el LED del color indicado en el mismo y apagamos el otro.</p> <p>9. Una vez creado el programa, debes transferirlo (subirlo) a la placa. Para ello, sigue los siguientes pasos:</p> <ul> <li>Comprueba que Connector est\u00e1 ejecuta\u0144dose.</li> <li>Conecta la placa al ordenador mediante un cable USB.</li> <li>Selecciona el puerto de comunicaci\u00f3n. Puedes conectar y desconectar el cable USB del ordenador para diferenciar cu\u00e1l es el puerto de comunicaci\u00f3n que utiliza la placa.</li> <li>Si no aparece el \"/dev/ttyACM\" directamente, pulsa en el icono de actualizaci\u00f3n. En entornos Linux, MacOS y Chromebook se muestra as\u00ed el nombre. En Windows se muestra como COM.</li> </ul> <p> <p> Establecer conexi\u00f3n USB</p> <p></p> <ul> <li>Pulsando en el bot\u00f3n \u201cSubir\u201d, carga el programa en la placa.</li> </ul> <p> <p> Subir el programa a la placa</p> <p></p> <p>Para poder visualizar el monitor serie y comprobar qu\u00e9 mensajes est\u00e1 enviando la placa al ordenador, debes abrirlo en tu entorno de programaci\u00f3n, pulsando el bot\u00f3n \u201cConsola\u201d:</p> <p> <p> Abrir consola serie</p> <p></p> <p>10. Se abrir\u00e1 la ventana siguiente:</p> <p> <p> </p> <p></p>"},{"location":"TdR_STEAM/SMBlocks/#bloques-especificos-tdr-steam","title":"Bloques espec\u00edficos TdR STEAM","text":"<p>Los bloques de instrucciones espec\u00edficos de la placa de extensi\u00f3n o shiel Imagina TdR STEAM son los siguientes:</p> <p> <p> </p> <p></p>"},{"location":"TdR_STEAM/contTdR/","title":"Antes de","text":"<p>comenzar a utilizar la placa Imagina TdR STEAM con Keyestudio UNO o con ESP32 STEAMakers, tienes que comprobar que tu ordenador tenga instalados los controladores necesarios. Por ello es aconsejable estudiar antes de nada los contenidos de este apartado.</p>"},{"location":"TdR_STEAM/contTdR/#descripcion","title":"Descripci\u00f3n","text":"<p> <p> </p> <p></p> <p>La placa de extensi\u00f3n Imagina TdR STEAM es un dispositivo electr\u00f3nico de extensi\u00f3n; por tanto, es una placa que debe ir colocada encima de otra que contenga el sistema de control, como puede ser una placa tipo Arduino, Keyestudio UNO o ESP32 STEAMakers. La placa integra numerosos sensores, actuadores, entradas y salidas.</p> <p> <p> </p> <p></p> <p>Esta placa puede programarse mediante diversas plataformas y lenguajes como los entornos de programaci\u00f3n visual STEAMakersBlocks, MicroBlocks y Snap4Arduino o Arduino IDE con c\u00f3digo basado en C/C++.</p>"},{"location":"TdR_STEAM/contTdR/#componentes-de-la-placa","title":"Componentes de la placa","text":"<p>Las partes que lo componen las vemos en la imagen siguiente y en los apartados subsiguientes se describen:</p> <p> <p> </p> <p></p>"},{"location":"TdR_STEAM/contTdR/#conexiones","title":"Conexiones","text":"<p>1. Interfaz I2C Interfaz I2C o IIC conectados a los pines VCC, GND, SDA (A4) y SCL (A5). El pin A4 corresponde con SDA (Serial DAta) y es por donde se transmiten los datos en la comunicaci\u00f3n I2C. El pin A5 es SCL (Serial CLock) donde est\u00e1 la se\u00f1al de sincronizaci\u00f3n o reloj de la comunicaci\u00f3n I2C.</p> <p> <p> </p> <p></p> <p>5. Conectores E/S digital Son dos conectores para Entradas/Salidas digitales dotados de alimentaci\u00f3n y conectados a los pines D3 y D5. A estos conectores podemos colocarles sensores externos.</p> <p> <p> </p> <p></p> <p>6. Conector de comunicaciones WiFi Bluetooth Conector de comunicaciones Bluetooth y WiFi conectado a los pines D0 (Rx) y D1 (Tx).</p> <p>El puerto de comunicaciones serie nos permite conectar m\u00f3dulos Bluetooth o WiFi. Este puerto utiliza los mismos pines Rx/Tx que se utilizan para comunicarse con el ordenador.</p> <p> <p> </p> <p></p> <p>13. Entrada anal\u00f3gica Conector para entrada anal\u00f3gica desde sensor externo conectado al pin A3.</p> <p> <p> </p> <p></p>"},{"location":"TdR_STEAM/contTdR/#pulsadores-y-conmutador","title":"Pulsadores y conmutador","text":"<p>2. Pulsadores Los pulsadores SW1 y SW2 se conectan a D2 y D7 respectivamente y se configuran como entradas digitales con sus correspondientes resistencias de polarizaci\u00f3n que hacen que cuando est\u00e1n en reposo pongan su entrada digital correspondiente a \"0\" (cero l\u00f3gico) y que se ponga a \"1\" (uno l\u00f3gico) cuando los accionemos.</p> <p> <p> </p> <p></p> <p>6. Conmutador de WiFi Bluetooth El conector de comunicaciones Bluetooth y WiFi va acompa\u00f1ado de un conmutador (Swich On/Off) para poder conectarlo o desconectarlo ya que utiliza los mismos pines Rx/Tx que se utilizan para comunicarse con el ordenador. Si vamos a subir firmware a la placa debe estar en posici\u00f3n OFF y si vamos a trabajar con Bluetooth o WiFi en posici\u00f3n ON.</p> <p> <p> </p> <p></p> <p>12. Bot\u00f3n de Inicializaci\u00f3n o Reset Bot\u00f3n de Reset conectado directamente a la entrada de reset de las placas. Sirve para inicializar el funcionamiento del conjunto.</p> <p> <p> </p> <p></p>"},{"location":"TdR_STEAM/contTdR/#componentes-integrados","title":"Componentes integrados","text":"<p>3. Diodos LED Diodos LED Azul (LED3) y Rojo (LED4) conectados a D13 y D12 respectivamente. Configurados como salidas con su resistencia limitadora.</p> <p> <p> </p> <p></p> <p>4. Led RGB El Led RGB o neopixel de la placa es del tipo 5050 conectado a los pines D6 (Red), D9 (Green) y D10(Blue). Estos tres pines son PWM y nos van a permitir regular su intensidad.</p> <p> <p> </p> <p></p> <p>7. DHT11 Sensor digital de Temperatura y Humedad DHT11 conectado como entrada a D4.</p> <p> <p> </p> <p></p> <p>8. Potenci\u00f3metro Potenci\u00f3metro giratorio de 270\u00ba conectado como entrada anal\u00f3gica al pin A0.</p> <p> <p> </p> <p></p> <p>9. Buzzer El zumbador Piezoel\u00e9ctrico o buzzer es un peque\u00f1o altavoz conectado a la salida digital D8.</p> <p> <p> </p> <p></p> <p>10. Receptor IR Diodo receptor de infrarrojos (IR) conectado a la entrada digital D11.</p> <p> <p> </p> <p></p> <p>11. LDR Sensor de luminosidad o resistencia LDR conectada al pin anal\u00f3gico A1.</p> <p> <p> </p> <p></p> <p>14. LM35 Sensor de temperatura (LM35) conectado al pin anal\u00f3gico A2.</p> <p> <p> </p> <p></p>"},{"location":"TdR_STEAM/retos/","title":"Retos","text":"<p>Se describe el paso a paso para crear un par de programas de ejemplo de uso del entorno de programaci\u00f3n STEAMakersBlocks.</p>"},{"location":"TdR_STEAM/retos/#semaforo-con-led-rgb","title":"Sem\u00e1foro con LED RGB","text":"<p>Crea un programa para que la Imagina TdR STEAM encienda y apague el LED RGB como si de un sem\u00e1foro de tr\u00e1fico se tratase.</p> <p>1. La secuencia de las luces del sem\u00e1foro debe repetirse de forma infnita, por eso todos los bloques de programaci\u00f3n deben colocarse dentro del \u201cbucle\u201d principal.</p> <p>Para controlar el LED RGB de la placa Imagina TdR STEAM, utiliza los bloques que aparecen en el apartado \u201cTDR STEAM\u201d de STEAMakersBlocks en color p\u00farpura. Accede a este apartado y encontrar\u00e1s los bloques correspondientes a la placa Imagina TDR STEAM.</p> <p>2. Busca el bloque \u201cLed RGB Color\u201d y arr\u00e1stralo hasta colocarlo dentro del bloque \u201cBucle\u201d. Modifica el color del mismo para establecer el color con el que quieres que empiece el sem\u00e1foro. Ante todo, programa que al empezar se encienda la luz verde.</p> <p> <p> </p> <p></p> <p>3. En este momento el programa deber\u00e1 estar as\u00ed:</p> <p> <p> </p> <p></p> <p>4. Para controlar el tiempo que quieres que est\u00e9 encendida cada luz, utiliza el bloque \u201cEsperar xxxx milisegundos\u201d que encontrar\u00e1s en la categor\u00eda \u201cTiempo\u201d. En este bloque puedes modifcar el tiempo de espera, pero hay que tener en cuenta que se trata de milisegundos (un segundo equivale a 1.000 milisegundos). Arrastra el bloque \u201cEsperar X milisegundos\u201d, col\u00f3calo debajo del bloque de encender la luz verde e indica cu\u00e1nto tiempo debe estar encendida. En nuestro caso, pondremos 5 segundos (5.000 milisegundos). Este par de bloques deber\u00edan estar colocados dentro del bucle de esta forma:</p> <p> <p> </p> <p></p> <p>5. Ahora es momento de dar paso al LED amarillo. Vas a hacer que el LED parpadee 3 veces con esperas de 500 milisegundos entre apagado y encendido. Arrastra el bloque \"Repetir xx veces\" de la categoria \"Control\" y configuralo a tres. Ahora, vuelve a arrastrar el bloque \u201cLED RGB Color\u201d dentro del bloque repetir y cambia el color a amarillo. Coloca una espera de 500 milisigundos a continuaci\u00f3n y coloca debajo un nuevo bloque \u201cLED RGB Color\u201d al que debes configurar el color a negro (apagado) y tras este repite el retardo de 500 milisegundos. El programa en este momento estar\u00e1 as\u00ed:</p> <p> <p> </p> <p></p> <p>6. Termina el programa haciendo el \u00faltimo cambio de luz del sem\u00e1foro al rojo. Vuelve a a\u00f1adir el bloque \u201cLED RGB Color\u201d, esta vez seleccionando el color rojo y el bloque \u201cEsperar xxxx milisegundos\u201d para hacer una pausa de 5000 milisegundos. Con esto habr\u00e1s terminado el programa, ya que el bucle volver\u00e1 a iniciarse encendiendo la luz verde que has programado al principio de la secuencia.</p> <p>\u00c9ste es el programa completo:</p> <p> <p> Descarga Sem\u00e1foro con LED RGB</p> <p></p> <p>7. Finalmente, descarga el programa en la placa haciendo clic en el bot\u00f3n \"Subir\" situado en la parte superior derecha del editor y observa el funcionamiento.</p>"},{"location":"TdR_STEAM/retos/#que-temperatura-y-humedad-hay","title":"\u00bfQue temperatura y humedad hay?","text":"<p>Crea un programa con STEAMakersBlocks que lea la temperatura y la humedad ambiental mediante el sensor de la placa y muestre estos valores por la consola serie cada 3 segundos.</p> <p>1. Utiliza los siguientes bloques de programaci\u00f3n para realizar este reto:</p> <p> <p> </p> <p></p> <p>2. Comienza el programa confgurando el puerto serie a una tasa de baudios (velocidad de transferencia de datos) de 9600. Coloca el bloque \u201cIniciar Baudios\u201d de la categor\u00eda \u201cComunicaciones\u201d \u2192 \u201cPuerto serie\u201d dentro de la estructura \u201cInicializar\u201d, para que se ejecute esta instrucci\u00f3n al inicio del programa y s\u00f3lo una vez.</p> <p>La programaci\u00f3n del bloque \u201cInicializar\u201d deber\u00eda quedarte as\u00ed:</p> <p> <p> </p> <p></p> <p>3. Seguidamente, coloca, dentro del Bucle principal, la estructura de programaci\u00f3n \"Ejecutar cada X ms\" de la categor\u00eda \"Tiempo\" para indicar al programa cada cu\u00e1nto quieres ejecutar una acci\u00f3n. Escribe \u201c3000\u201d en el par\u00e1metro de la estructura \u201cEjecutar cada X ms\u201d para que se ejecute cada 3 segundos.</p> <p>La estructura de programaci\u00f3n deber\u00eda quedar as\u00ed:</p> <p> <p> </p> <p></p> <p>4. Coloca, dentro de esta estructura, un bloque de la categor\u00eda \u201cComunicaciones \u2192 Puerto serie\u201d, el bloque \u201cEnviar\u201d para llevar a cabo, en la frecuencia de tiempo especifcada, la tarea de enviar un mensaje por el puerto en serie.</p> <p>El mensaje a enviar, con la informaci\u00f3n sobre la temperatura, puede constar de varios elementos, en este caso pondr\u00e1s tres: un texto que ser\u00e1 \u201cTemperatura:\u201d, el valor num\u00e9rico que lea el sensor de temperatura y otro texto que sea \u201c\u00baC\u201d.</p> <p>5. Para poder colocar los tres bloques a la vez en la instrucci\u00f3n de enviar, necesitas el bloque \u201ccrear texto con\u201d del apartado \u201cTexto\u201d. Arrastra este bloque dentro del bloque \u201cEnviar\u201d, de modo que encajen como si se tratara de un rompecabezas:</p> <p> <p> </p> <p></p> <p>6. De nuevo, en el apartado \u201cTexto\u201d, encontrar\u00e1s el primer bloque que te permitir\u00e1 escribir lo que quieres. Tendr\u00e1s que arrastrarlo al primer espacio que te permite el bloque \u201cCrear texto con\u201d y tendr\u00e1s que escribir \u201cTemperatura: \u201d:</p> <p> <p> </p> <p></p> <p>7. A continuaci\u00f3n tienes que a\u00f1adir el bloque que te permita escribir la lectura de la temperatura. El bloque para hacerlo es el que lee el sensor \u201cDHT-11\u201d y lo encontrar\u00e1s en la categor\u00eda \u201cTDR STEAM\u201d.</p> <p> <p> </p> <p></p> <p>8. Por \u00faltimo, debes a\u00f1adir las unidades. Como no tienes espacios para a\u00f1adir otro bloque, debes clicar en el icono \u201c+\u201d del bloque \u201ccrear texto con\u201d para que a\u00f1ada un tercer espacio:</p> <p> <p> </p> <p></p> <p>9. Una vez pulsado, podr\u00e1s a\u00f1adir el \u00faltimo bloque de texto y escribir las unidades. Tambi\u00e9n debes asegurarte de que el salto de l\u00ednea est\u00e9 activado, para que cada vez que muestre el mensaje por el monitor en serie sea en una l\u00ednea nueva.</p> <p> <p> </p> <p></p> <p>10. Repite el proceso para a\u00f1adir el env\u00edo de la lectura de la humedad. Tendr\u00e1s que fijarte en que el bloque del sensor \u201cDHT-11\u201d indica la lectura de la humedad en vez de la temperatura:</p> <p> <p> </p> <p></p> <p>11. El programa completo queda as\u00ed:</p> <p> <p> Descargar programa Temperatura y humedad</p> <p></p> <p>12. Descarga el programa en la placa de control pulsando el bot\u00f3n \u201cSubir\u201d situado en la parte superior derecha del editor. Aseg\u00farate de que la placa est\u00e1 conectada con un cable USB al ordenador y abre la \u201cConsola\u201d serie para visualizar el env\u00edo del mensaje de forma peri\u00f3dica.</p> <p> <p> </p> <p></p>"},{"location":"TdR_STEAM/seg/","title":"Seguridad","text":""},{"location":"TdR_STEAM/seg/#seguridad","title":"Seguridad","text":"<p>A la hora de utilizar la placa keyestudio UNO, es fundamental seguir unas pautas de seguridad para garantizar tanto el buen funcionamiento de la placa como la seguridad de los usuarios. A continuaci\u00f3n, se exponen varios consejos clave:</p> <ul> <li>Evita cortocircuitos: Hay que asegurarse de que la placa no est\u00e9 alimentada cuando se manipulan materiales y herramientas conductores de electricidad. Esto ayuda a prevenir cortocircuitos inesperados que podr\u00edan da\u00f1ar la placa o causar accidentes.</li> <li>Manipula la placa con cuidado: Los pines donde se conectan componentes diversos son delicados y pueden romperse o doblarse si se aplica una gran fuerza o palanca. Hay que ser especialmente prudente en la manipulaci\u00f3n y evitar ca\u00eddas o golpes que puedan afectar a la placa.</li> <li>Controla la temperatura: Es necesario tener en cuenta que la temperatura de la placa puede aumentar considerablemente durante el uso prolongado. Algunos componentes pueden calentarse y es importante evitar el contacto directo para prevenir quemaduras o da\u00f1os en la placa.</li> <li>Revisa regularmente los componentes: Es conveniente comprobar regularmente el estado de los componentes electr\u00f3nicos y las conexiones. Los conectores sueltos o desgastados pueden causar un mal funcionamiento de la placa o ser un riesgo de seguridad.</li> <li>Usa adecuadamente la alimentaci\u00f3n: Utiliza s\u00f3lo las fuentes de alimentaci\u00f3n recomendadas. Un voltaje incorrecto puede da\u00f1ar la placa o incluso ser peligroso, ya que puede producir sobrecalentamiento de componentes o cortocircuitos.</li> <li>Mant\u00e9n la placa en un entorno seco y limpio: La presencia de l\u00edquidos o polvo puede causar cortocircuitos o da\u00f1ar los componentes de la placa.</li> </ul> <p>Siguiendo estos consejos, podr\u00e1s disfrutar de una experiencia segura y enriquecedora con la placa programable.</p>"},{"location":"UNO/contUNO/","title":"Antes de","text":"<p>comenzar a utilizar la placa Keyestudio UNO, tienes que comprobar que tu ordenador tenga instalados los controladores necesarios. Por ello es aconsejable estudiar antes de nada los contenidos de este apartado.</p>"},{"location":"UNO/contUNO/#descripcion","title":"Descripci\u00f3n","text":"<p> <p> Placa Keyestudio UNO con conector de 3 pines</p> <p></p> <p>La placa Keyestudio UNO es una placa basada en el microcontrolador ATmega328P, con la diferencia sobre la versi\u00f3n est\u00e1ndar, de que incorpora una interfaz de tres pines (GND, VCC, Se\u00f1al) para cada una de las entradas y salidas de la placa. Esto facilita enormemente la conexi\u00f3n de sensores y actuadores sin la necesidad de utilizar una protoboard.</p> <p>Los pines de Se\u00f1al (S) se corresponden con los 14 pines digitales y los 6 pines anal\u00f3gicos. Los pines GND (G) se corresponden con masa. Los pines VCC (V) a la tensi\u00f3n de los mismos. Puedes controlar el voltaje VCC mediante un interruptor deslizante para ponerlo a 5V o 3.3V.</p> <p>Cuando se sit\u00faa a 5V, el nivel en el puerto de comunicaci\u00f3n serie es de 5V, el voltaje de los pines es de 5V. Cuando se cambia a 3.3V, el nivel en el puerto de comunicaci\u00f3n serie es de 3.3V, el voltaje de los pines es de 3.3V.</p> <p>Tambi\u00e9n, de forma separada hay dos conjuntos de cuatro pines para comunicaci\u00f3n serie y comunicaci\u00f3n IIC o I2C.</p> <p>Esta placa keyestudio UNO con pines, el chip regulador de voltaje es el MP2307DN. Cuando se conecta a la alimentaci\u00f3n externa, la salida de 5V, la corriente es de 2A.</p> <p>Esta placa puede programarse mediante diversas plataformas y lenguajes, como Arduino IDE con c\u00f3digo basado en C/C++ o entornos de programaci\u00f3n visual como ArduinoBlocks y MicroBlocks.</p>"},{"location":"UNO/contUNO/#componentes-de-la-placa","title":"Componentes de la placa","text":"<p> <p> Componentes de la placa Keyestudio UNO con conector de 3 pines</p> <p></p> <ol> <li>Conector ICSP (In-Circuit Serial Programming). ICSP consta de MOSI, MISO, SCK, RESET, VCC y GND para programar el firmware para ATMEGA 16U2-MU. Este circuito integrado USB a chip, puede convertir la se\u00f1al USB en se\u00f1al de puerto serie.</li> <li>Conector USB-B. Puedes alimentar la placa a trav\u00e9s de la conexi\u00f3n USB o bien puedes cargar los programas a la placa a trav\u00e9s del puerto USB. Conecta la placa al PC mediante un cable USB a trav\u00e9s del puerto USB.</li> <li>Conmutador deslizante. Permite controlar el voltaje en los pines V (VCC) entre 3.3V or 5V.</li> <li>Regulador de tensi\u00f3n. Se encarga de convertir la tensi\u00f3n externa de entrada (5. Conector alimentaci\u00f3n DC) de entre 7 y 12V en 5V si el conmutador est\u00e1 en esa posici\u00f3n. Con la salida a 5V la corriente m\u00e1xima es de 2A.</li> <li>5. Conector alimentaci\u00f3n DC. La placa se puede alimentar con una tensi\u00f3n continua externa de 7 a 12V desde la toma de alimentaci\u00f3n DC.</li> <li>Pines G,V,S (GND, VCC, Se\u00f1al). La placa UNO tiene 6 entradas anal\u00f3gicas, etiquetadas desde A0 a A5. Tambi\u00e9n se pueden utilizar como pines digitales, A0=D14, A1=D15, A2=D16, A3=D17, A4=D18, A5=D19. Estos pines anal\u00f3gicos se pueden conectar mediante conectores hembra tipo dupont individuales o de 2,54mm de paso. Selecciona la tensi\u00f3n de 3,3 V o 5 V mediante el interruptor deslizante.</li> <li>Pines de alimentaci\u00f3n. Pin IOREF, de escasa utilizaci\u00f3n, para configurar la tensi\u00f3n de funcionamiento del microcontrolador. RESET para conectar a un bot\u00f3n externo de reinicio. 3V3 que proporciona una salida de tensi\u00f3n de 3,3 V. 5V que proporciona una salida de tensi\u00f3n de 5 V. Vin es un pin para suministrar a la placa una entrada de tensi\u00f3n externa DC7-12V.</li> <li>Pines anal\u00f3gicos. La placa UNO tiene 6 entradas anal\u00f3gicas, etiquetadas desde A0 a A5. Tambi\u00e9n se pueden utilizar como pines digitales, A0=D14, A1=D15, A2=D16, A3=D17, A4=D18, A5=D19. Estos pineas anal\u00f3gicos se pueden conectar mediante conectores macho tipo dupont individuales.</li> <li>Pines I2C. Conector para comunicaciones I2C de 4 pines (GNC, VCC, SDA y SCL).</li> <li>Bot\u00f3n de RESET. Puedes reiniciar la placa para comenzar el programa desde el estado inicial.</li> <li>Microcontrolador. Cada placa de control tiene su propio microcontrolador o cerebro de la placa. Antes de cargar un nuevo programa debes saber qu\u00e9 circuito integrado hay en tu placa. Esta informaci\u00f3n se puede comprobar en la parte superior del integrado. El microcontrolador utilizado en esta placa es el ATMEGA328P-AU.</li> <li>Conector ICSP (In-Circuit Serial Programming). ICSP consta de MOSI, MISO, SCK, RESET, VCC y GND para programar el firmware para ATMEGA328P-AU.</li> <li>Comunicaci\u00f3n serie. Para conectar la comunicaci\u00f3n serie. 4Pines (GND, VCC, RX, TX).</li> <li>Entradas salidas digitales. Dispone de 14 pines digitales de entrada/salida, etiquetados de D0 a D13 (de los cuales 6 pueden utilizarse como salidas PWM). Estos pines se pueden configurar como pines de entrada digital para leer el valor l\u00f3gico (0 o 1); o utilizarse como pines de salida digital para accionar diferentes m\u00f3dulos como LED, rel\u00e9, etc. Los pines D3, D5, D6, D9, D10 y D11 son PWM. Se pueden conectar mediante dupont macho.</li> <li>Pines I2C. Pines para comunicaciones I2C de 4 pines (GNC, VCC, SDA y SCL).</li> <li>Pines G,V,S (GND, VCC, Se\u00f1al). La placa UNO tiene 14 pines digitales de entrada/salida, etiquetados de D0 a D13 (de los cuales 6 pueden utilizarse como salidas PWM). Los pines D3, D5, D6, D9, D10 y D11 son PWM. Estos pines digitales se pueden conectar mediante conectores hembra tipo dupont individuales o de 2,54mm de paso. Selecciona la tensi\u00f3n de 3,3 V o 5 V mediante el interruptor deslizante.</li> </ol>"},{"location":"UNO/contUNO/#posibilidades-de-la-placa","title":"Posibilidades de la placa","text":"<p>La placa UNO tiene una disposici\u00f3n vers\u00e1til de conectores y una amplia variedad de entradas y salidas. Esto permite crear de forma sencilla toda clase de proyectos interactivos con sensores, actuadores y comunicaciones inal\u00e1mbricas.</p> <p>Algunos ejemplos de proyectos que se pueden realizar en el aula:</p> <ul> <li>MEDIR LA TEMPERATURA</li> </ul> <p>Mediante un sensor de temperatura tipo DHT11 o DHT22 se puede obtener el valor de la temperatura y la humedad en el entorno cercano al sensor. Se puede mostrar a trav\u00e9s de una pantalla o enviarlo a un broker o servidor.</p> <ul> <li>DETECTAR EL NIVEL DE LUZ</li> </ul> <p>A trav\u00e9s de un sensor de luz conectado a una de las entradas anal\u00f3gicas de la placa, se puede medir la intensidad lum\u00ednica de un espacio y activar actuadores en funci\u00f3n de si hay m\u00e1s o menos claridad.</p> <ul> <li>DETECTAR PROXIMIDAD O MOVIMIENTO</li> </ul> <p>Mediante un sensor de tipo Hall (magn\u00e9tico) o un sensor de ultrasonidos conectado a una entrada se puede detectar cu\u00e1ndo un objeto o persona se acerca o se aleja de la placa.</p> <ul> <li>REPRODUCIR AUDIO</li> </ul> <p>Empleando un zumbador se pueden generar tonos y melod\u00edas que puedan formar parte de una experiencia interactiva.</p>"},{"location":"UNO/contUNO/#entorno-de-programacion","title":"Entorno de programaci\u00f3n","text":""},{"location":"UNO/contUNO/#arduinoblocks","title":"Arduinoblocks","text":"<p>ArduinoBlocks http://www.arduinoblocks.com es un entorno de programaci\u00f3n visual por bloques que facilita la programaci\u00f3n de la placa.</p> <p>ArduinoBlocks es compatible con varias placas electr\u00f3nicas, entre ellas la placa Keyestudio UNO. En su entorno de programaci\u00f3n o IDE se pueden distinguir las siguientes partes:</p> <p> <p> Entorno de programaci\u00f3n o IDE de arduinoblocks</p> <p></p> <p> <p> 1 P\u00e1gina principal arduinoblocks 15 Configuraciones de arduinoblocks 2 Repositorio de proyectos 16 Bot\u00f3n para grabar el programa en la placa una vez conectada 3 Desplegar para acceder a nuestros proyectos y para crear un proyecto nuevo 17 Bot\u00f3n para abrir la consola serie. Desplegando podemos abrir serial plotter 4 Acceso a la informaci\u00f3n del proyecto referente a nombre, descripci\u00f3n, etc. 18 Actualizaci\u00f3n puerto. Muestra puerto cuando hay una placa conectada (/dev/ttyUSBn) 5 Acceso a los archivos adjuntos al proyecto 19 Captura de pantalla del programa sin fondo 6 Acceso a herramientas de edici\u00f3n de matrices de leds, pantallas LCD y OLED, Neopixel e informaci\u00f3n RTTTL 20 Espacio para guardar instrucciones y estructuras de programaci\u00f3n y reutilizarlas en el proyecto actual o en otro diferente 7 Bot\u00f3n para compartir el proyecto via correo electr\u00f3nico 21 Bot\u00f3n para maximizar el tama\u00f1o de los bloques 8 Nombre del proyecto con el icono de la placa seleccionada para programar 22 Bot\u00f3n para centrar los bloques 9 Desplegable para acceder a Connector, documentaci\u00f3n varia y librerias usadas por la aplicaci\u00f3n 23 Bot\u00f3n para ampliar el tama\u00f1o de los bloques 10 Idioma del IDE de arduinoblocks 24 Bot\u00f3n para reducir el tama\u00f1o de los bloques 11 Identificaci\u00f3n de la cuenta con la que hemos accedido 25 Papelera para descartar bloques no usados 12 Cerrar la sesi\u00f3n actual 26 Espacio de programaci\u00f3n 13 Botones deshacer y rehacer 27 Bloques de programaci\u00f3n organizados por categorias 14 Bot\u00f3n y un desplegable para guardar y exportar el proyecto 28 Desplegable para mostrar el c\u00f3digo del programa, descargarlo en formato .ino o descargar en formato .zip (se descargan el programa y las librerias <p></p>"},{"location":"UNO/contUNO/#programando-con-arduinoblocks","title":"Programando con arduinoblocks","text":"<p>Para poder conectar y programar la placa Keyestudio UNO con arduinoblocks, es necesario instalar \u201cAB-Connector\u201d para permitir la comunicaci\u00f3n entre el entorno arduinoblocks y la placa electr\u00f3nica.</p> <p>En \"Recursos\" de \"arduinoblocks\" tenemos todas las opciones de descarga y condiciones de instalaci\u00f3n de \u201cAB-Connector\u201d para los sistemas operativos soportados. Para el caso de Ubuntu nos indica:</p> <p> <p> AB-Connector</p> <p></p> <p>Una vez instalado lo podemos encontrar entre las aplicaciones:</p> <p> <p> AB-Connector</p> <p></p> <p>Al abrir AB-Connector, aparece este cuadro de di\u00e1logo que va mostrando informaci\u00f3n sobre la placa y arduinoblocks:</p> <p> <p> AB-Connector en ejecuci\u00f3n</p> <p></p> <p>Dejamos AB-Connector en ejecuci\u00f3n minimizado en segundo plano.</p> <p>1. En ArduinoBlocks, crea una cuenta pulsando en \u201cIniciar sesi\u00f3n\u201d y, posteriormente, en \u201cnuevo usuario\u201d:</p> <p> <p> Pantalla inicial arduinoblocks</p> <p></p> <p>2.  Al entrar en la plataforma te encontrar\u00e1s esta pantalla:</p> <p> <p> Sesi\u00f3n iniciada en arduinoblocks</p> <p></p> <p>3. Al hacer clic en \"Empezar un nuevo proyecto!\" aparece la siguiente pantalla para seleccionar el tipo de proyecto:</p> <p> <p> Nuevo proyecto</p> <p></p> <p>4. Para crear un nuevo proyecto personal, debes rellenar un formulario. Si utilizas la placa Keyestudio UNO, debes seleccionar UNO en Tipo de proyecto.</p> <p> <p> Tipo de proyecto</p> <p></p> <p>5. Una vez creado el proyecto, despu\u00e9s de haber cumplimentado su nombre y dem\u00e1s campos del formulario, se abre el entorno de programaci\u00f3n:</p> <p> <p> Proyecto creado</p> <p></p> <p>6. En la parte izquierda de esta pantalla, encontrar\u00e1s los bloques disponibles clasificados por diferentes categor\u00edas. Por ejemplo, en la siguiente imagen puedes ver los bloques de algunos de los sensores que se pueden controlar con la placa Keyestudio UNO.</p> <p> <p> Algunos bloques de sensores</p> <p></p> <p>7. Arrastra los bloques al espacio de programaci\u00f3n para programar tu placa. Por ejemplo, podemos programar el env\u00edo en bucle de un mensaje por puerto serie. El puerto serie, tambi\u00e9n conocido como puerto de comunicaciones serie o interfaz serie, es un tipo de conexi\u00f3n utilizada en ordenadores y dispositivos perif\u00e9ricos para la transferencia de datos. La caracter\u00edstica principal del puerto serie es que env\u00eda los datos en serie; es decir, bit a bit, a trav\u00e9s de un solo canal o hilo. Los bloques m\u00e1s importantes para utilizar el puerto serie son:</p> <p> <p> Bloques puerto serie</p> <p></p> <p>8. El programa de este ejemplo ser\u00eda as\u00ed:</p> <p> <p> Programa Hola mundo. Descargar</p> <p></p> <p>Dentro de la estructura \u201cInicializar\u201d colocamos el bloque de configuraci\u00f3n de la velocidad de transferencia de datos (\u201cbaudrate\u201d) del puerto serie a 9600. Y en el bucle principal, colocamos el bloque para enviar un mensaje en concreto, seleccionando que se realice un salto de l\u00ednea. Para que el mensaje no se muestre tan rapidamente hacemos que se reproduzca cada cierto tiempo.</p> <p>9. Una vez creado el programa, debes transferirlo (subirlo) a la placa. Para ello, sigue los siguientes pasos:</p> <ul> <li>Comprueba que AB-Connector est\u00e1 ejecuta\u0144dose.</li> <li>Conecta la placa al ordenador mediante un cable USB.</li> <li>Selecciona el puerto de comunicaci\u00f3n. Puedes conectar y desconectar el cable USB del ordenador para diferenciar cu\u00e1l es el puerto de comunicaci\u00f3n que utiliza la placa.</li> <li>Si no aparece el \"/dev/ttyACM\" directamente, pulsa en el icono de actualizaci\u00f3n. En entornos Linux, MacOS y Chromebook se muestra as\u00ed el nombre. En Windows se muestra como COM.</li> </ul> <p> <p> Establecer conexi\u00f3n USB</p> <p></p> <ul> <li>Pulsando en el bot\u00f3n \u201cSubir\u201d, carga el programa en la placa.</li> </ul> <p> <p> Subir el programa a la placa</p> <p></p> <p>Para poder visualizar el monitor serie y comprobar qu\u00e9 mensajes est\u00e1 enviando la placa al ordenador, debes abrirlo en tu entorno de programaci\u00f3n, pulsando el bot\u00f3n \u201cConsola\u201d:</p> <p> <p> Abrir consola serie</p> <p></p> <p>10. Se abrir\u00e1 la ventana siguiente:</p> <p> <p> Consola serie</p> <p></p> <p>11. Selecciona la tasa de baudios (velocidad de transmisi\u00f3n de datos) con la que has iniciado el puerto serie y despu\u00e9s haz clic en conectar. Ver\u00e1s el resultado en pantalla.</p> <p> <p> Consola serie recibiendo datos</p> <p></p>"},{"location":"UNO/contUNO/#arduino-ide","title":"Arduino IDE","text":"<p>Arduino IDE es un Entorno de Desarrollo Integrado multiplataforma (Linux, Windows y macOS) ideal para programar placas tipo Arduino y compatibles, como es el caso de la placa Keyestudio UNO, con un lenguaje de programaci\u00f3n basado en C/C++.</p> <p>IDE (Integrated Development Environment, traducido como Entorno Integrado de Desarrollo) incorpora un editor de c\u00f3digo que facilita la escritura de programas. Tambi\u00e9n dispone de numerosas bibliotecas y ejemplos que ayudan a la programaci\u00f3n.</p> <p>Permite compilar y subir los programas a la placa con tan s\u00f3lo un clic, visualizando el resultado a trav\u00e9s del monitor serie, por ejemplo.</p> <p>En el entorno de programaci\u00f3n se pueden distinguir las siguientes partes:</p>"},{"location":"UNO/contUNO/#descarga","title":"Descarga","text":"<p>Podemos descargarlo desde la p\u00e1gina de software de Arduino IDE 2.0 y en el momento de creaci\u00f3n de este apartado de la web nos ofrece la versi\u00f3n 2.3.2 adem\u00e1s de los enlaces al editor online, tal y como vemos en la figura siguiente.</p> <p> <p> Descargas</p> <p></p> <p>En esta p\u00e1gina tenemos disponibles las versiones Nightly y otras informaciones importantes como:</p> <ul> <li>La versi\u00f3n de escritorio no est\u00e1 disponible para Chromebook donde deberemos trabajar con el editor web de Arduino.</li> <li>Es posible programar las placas utilizando MicroPython. En la p\u00e1gina MicroPython with Arduino tenemos toda la informaci\u00f3n.</li> <li>Opciones de descarga de versiones anteriores del IDE.</li> <li>T\u00e9rminos de servicio</li> </ul> <p>Si tenemos alguna duda podemos seguir el tutorial en ingl\u00e9s de descarga e instalaci\u00f3n de Arduino IDE 2.0.</p>"},{"location":"UNO/contUNO/#ventana-principal-del-ide","title":"Ventana principal del IDE","text":"<p>En la figura siguiente vemos el aspecto que presenta el IDE en la versi\u00f3n 2.0.</p> <p> <p> Arduino IDE 2.0</p> <p></p> <p>A continuaci\u00f3n se describen de forma r\u00e1pida los apartados se\u00f1alados en la figura anterior.</p> <ol> <li>Verify/Upload (Verificar/Cargar): Para compilar y cargar el c\u00f3digo en la placa.</li> <li>Select board &amp; port (Seleccionar placa y puerto): En el desplegable se muestran las placas detectadas de forma autom\u00e1tica, junto con el puerto asignado.</li> <li>Open Serial Plotter (abrir trazador ser\u00ede): Abre la herramienta de graficado como una nueva ventana.</li> <li>Open Serial Monitor (abrir el monitor serie): abre la herramienta Serial Monitor, como una nueva pesta\u00f1a en la consola.</li> <li>Sketchbook (Carpeta de programas): es el directorio o carpeta donde se almacenan localmente los programas. Adem\u00e1s, desde aqu\u00ed se puede sincronizar con Arduino Cloud y tambi\u00e9n obtener los sketch del entorno online.</li> <li>Boards Manager (Administrador de placas): para explorar los paquetes de Arduino y de terceros que se pueden instalar. Por ejemplo, usar una placa MKR WiFi 1010 requiere tener instalado el paquete Arduino SAMD Boards.</li> <li>Library Manager (Ad https://docs.arduino.cc/software/ide-v2./img/teo-basica/soft/ministrador de librer\u00edas): Para navegar por las librer\u00edas propias de Arduino y las creadas por la comunidad.</li> <li>Debugger (Depurador): Para probar y depurar programas en tiempo real.</li> <li>Search (Buscar): b\u00fasqueda de palabras en el c\u00f3digo.</li> </ol>"},{"location":"UNO/contUNO/#caracteristicas-principales-del-ide-20","title":"Caracter\u00edsticas principales del IDE 2.0","text":"<ul> <li>Ajustar preferencias En la animaci\u00f3n de la figura siguiente vemos como acceder a la configuraci\u00f3n de las mismas y tambi\u00e9n como se realiza alg\u00fan ajuste adicional.</li> </ul> <p> <p> Preferencias IDE 2.0</p> <p></p> <ul> <li>La carpeta de programas Los programas o sketches de Arduino se guardan como .ino y deben almacenarse en una carpeta con el mismo nombre. Por ejemplo, un programa de nombre 'mi_programa.ino' debe almacenarse en una carpeta llamada 'mi_programa'. Generalmente se guardan en una carpeta de nombre 'Arduino' en la carpeta personal. En la animaci\u00f3n siguiente vemos como abrir y cerrar esta carpeta desde el bot\u00f3n de la barra lateral y como nos muestra el contenido</li> </ul> <p> <p> Carpeta de programas</p> <p></p> <ul> <li>Administrador de placas Con el Administrador de placas se pueden buscar e instalar paquetes o \"n\u00facleos\" para nuestras placas. Compilar y cargar un programa en una placa siempre requiere un paquete de la placa. Hay muchos paquetes de placa Arduino disponibles, como avr, samd, megaav y muchos m\u00e1s. Podemos decir que un \"n\u00facleo\" est\u00e1 escrito y dise\u00f1ado para microcontroladores espec\u00edficos y sabemos que las diferentes placas tienen micros de diferentes tipos. Por ejemplo, un Arduino UNO tiene un ATmega328P, que usa el n\u00facleo AVR, mientras que un Arduino Nano 33 IoT tiene un microcontrolador SAMD21, donde necesitamos usar el n\u00facleo SAMD. En definitiva, para poder usar una placa concreta debemos instalar su n\u00facleo espec\u00edfico. Al hacer clic en el bot\u00f3n de la barra lateral se nos abren todas las opciones disponibles y ne indica si est\u00e1n o no instalados y adem\u00e1s dispone de un buscador que permite localizar el n\u00facleo que necesitamos. Hay que tener presente que la instalaci\u00f3n de algunos de ellos puede tardar varios minutos. En la animaci\u00f3n vemos el funcionamiento de este bot\u00f3n.</li> </ul> <p> <p> Administrador de placas</p> <p></p> <ul> <li>Gestor de librer\u00edas Este bot\u00f3n nos permite buscar e instalar librer\u00edas, que son extensiones de la API de Arduino que facilitan el control de un servo, leer un sensor espec\u00edfico o utilizar un m\u00f3dulo WiFi. En la animaci\u00f3n vemos como utilizar este bot\u00f3n.</li> </ul> <p> <p> Gestor de librer\u00edas</p> <p></p> <ul> <li>Monitor serie Esta herramienta que habitualmente estaba en una ventana separada ahora se integra en el editor. La herramienta sirve para comunicarse con la placa o para depurar programas. Una ventaja de tener el Serial Monitor integrado con el editor es la posibilidad de tener m\u00faltiples monitores abiertos simult\u00e1neamente. En el editor antiguo, al cambiar el puerto/placa, cambiaba en todas las ventanas. Adem\u00e1s, est\u00e1bamos limitados a una ventana de Serial Monitor, un obst\u00e1culo que el IDE 2.0 elimina. En la animaci\u00f3n vemos el uso b\u00e1sico del mismo.</li> </ul> <p> <p> Monitor serie</p> <p></p> <p>Para obtener m\u00e1s informaci\u00f3n sobre Serial Monitor podemos visitar el Serial Monitor tutorial.</p> <ul> <li>Serial Plotter Nos permite visualizar datos utilizando gr\u00e1ficos permitiendo monitorizar varias variables de manera simultanea. Para ver mejor el funcionamiento de este elemento vamos a utilizar un potenci\u00f3metro conectado al pin anal\u00f3gico A3 junto con una variable est\u00e1tica y una aleatoria. El c\u00f3digo del ejemplo es:</li> </ul> <pre><code>int potenciometro;\nint aleatoria;\nint static_variable = 500;\n\nvoid setup() {\n  Serial.begin(9600);\n}\n\nvoid loop() {\npotenciometro = analogRead(A3);\naleatoria = random(0, 1000);\n  Serial.print(\"Potenciometro:\");\n  Serial.print(potenciometro);\n  Serial.print(\",\");\n  Serial.print(\"Valor aleatorio:\");\n  Serial.print(aleatoria);\n  Serial.print(\",\");\n  Serial.print(\"Variable estatica:\");\n  Serial.println(static_variable);\n}\n</code></pre> <p>En la animaci\u00f3n vemos como cargar el programa y el funcionamiento en la ventana del Serial Plotter.</p> <p> <p> Serial Plotter</p> <p></p> <ul> <li> <p>Debugger El depurador se utiliza para probar y depurar programas. B\u00e1sicamente lo que permite es navegar a trav\u00e9s de la ejecuci\u00f3n de un programa, lo que sirve para detectar fallos o errores de c\u00f3digo. El depurador solamente est\u00e1 disponible con las placas SAMD. Tenemos mas informaci\u00f3n en Debugging tutorial.</p> </li> <li> <p>Autocompletado Es una nueva caracter\u00edstica de la versi\u00f3n 2.0 muy bien equipada. Debemos tener presente que para que funcione debemos tener seleccionada la placa a utilizar. En la animaci\u00f3n siguiente vemos la herramienta funcionando.</p> </li> </ul> <p> <p> Autocompletado</p> <p></p>"},{"location":"UNO/contUNO/#programando-con-arduino-ide","title":"Programando con Arduino IDE","text":"<p>1. Para poder programar la placa Keyestudio UNO en el entorno Arduino IDE, es necesario que conectes la placa al ordenador con un cable USB y la selecciones en el desplegable \u201cSelecccione placa y puerto\u201d.</p> <p> <p> Seleccionar placa y puerto</p> <p></p> <p>2. Y selecciona la placa \u201cArduino UNO\u201d y el puerto adecuado en la ventana que se abre:</p> <p> <p> Seleccionados placa y puerto</p> <p></p> <p>3. Una vez configurado el entorno, vamos a programar el env\u00edo en bucle de un mensaje por puerto serie. Copiamos el c\u00f3digo del programa de arduinoblocks y quedar\u00eda as\u00ed:</p> <p> <p> Programa Hola mundo</p> <p></p> <p>Se ha cambiado el tiempo a un segundo para asegurarnos que el programa es diferente al de arduinoblocks. Este es el c\u00f3digo del programa listo para copiar:</p> <pre><code>unsigned long task_time_ms=0;\n\nvoid setup()\n{\n  // Inicar puerto serie a 9600 buadios\n    Serial.begin(9600);\n  // Espera a que se complete la transmision de datos serie\n    Serial.flush();\n    while(Serial.available()&gt;0)Serial.read();\n}\n\nvoid loop()\n{\n  // millis() retorna los milisegundos desde que se inicio el programa\n    if((millis()-task_time_ms)&gt;=1000){\n    task_time_ms=millis();\n    // Envia mensaje por puerto serie\n    Serial.println(String(\"Hola mundo\"));\n  }\n}\n</code></pre> <p>4. Dentro de la estructura \u201csetup()\u201d se a\u00f1ade la instrucci\u00f3n \u201cSerial.begin(9600);\u201d para configurar la velocidad de transferencia de datos (\u201cbaudrate\u201d) del puerto serie a 9600. En el bucle principal, el \u201cloop()\u201d, a\u00f1adimos la instrucci\u00f3n \"Serial.println();\" para enviar un mensaje. Cargamos el programa en la placa clicando el bot\u00f3n de carga:</p> <p> <p> Cargar el programa Hola mundo</p> <p></p> <p>5. Abrimos la consola serie para visualizar los datos que recibe el ordenador desde la placa mediante la comunicaci\u00f3n serie:</p> <p> <p> Programa Hola mundo en ejecuci\u00f3n</p> <p></p>"},{"location":"UNO/contUNO/#seguridad","title":"Seguridad","text":"<p>A la hora de utilizar la placa keyestudio UNO, es fundamental seguir unas pautas de seguridad para garantizar tanto el buen funcionamiento de la placa como la seguridad de los usuarios. A continuaci\u00f3n, se exponen varios consejos clave:</p> <ul> <li>Evita cortocircuitos: Hay que asegurarse de que la placa no est\u00e9 alimentada cuando se manipulan materiales y herramientas conductores de electricidad. Esto ayuda a prevenir cortocircuitos inesperados que podr\u00edan da\u00f1ar la placa o causar accidentes.</li> <li>Manipula la placa con cuidado: Los pines donde se conectan componentes diversos son delicados y pueden romperse o doblarse si se aplica una gran fuerza o palanca. Hay que ser especialmente prudente en la manipulaci\u00f3n y evitar ca\u00eddas o golpes que puedan afectar a la placa.</li> <li>Controla la temperatura: Es necesario tener en cuenta que la temperatura de la placa puede aumentar considerablemente durante el uso prolongado. Algunos componentes pueden calentarse y es importante evitar el contacto directo para prevenir quemaduras o da\u00f1os en la placa.</li> <li>Revisa regularmente los componentes: Es conveniente comprobar regularmente el estado de los componentes electr\u00f3nicos y las conexiones. Los conectores sueltos o desgastados pueden causar un mal funcionamiento de la placa o ser un riesgo de seguridad.</li> <li>Usa adecuadamente la alimentaci\u00f3n: Utiliza s\u00f3lo las fuentes de alimentaci\u00f3n recomendadas. Un voltaje incorrecto puede da\u00f1ar la placa o incluso ser peligroso, ya que puede producir sobrecalentamiento de componentes o cortocircuitos.</li> <li>Mant\u00e9n la placa en un entorno seco y limpio: La presencia de l\u00edquidos o polvo puede causar cortocircuitos o da\u00f1ar los componentes de la placa.</li> </ul> <p>Siguiendo estos consejos, podr\u00e1s disfrutar de una experiencia segura y enriquecedora con la placa programable.</p>"},{"location":"UNO/externos/","title":"Programar sensores externos","text":""},{"location":"UNO/externos/#actividades","title":"Actividades","text":"<p>A continuaci\u00f3n se relacionan las actividades desarrolladas con algunos de los tipos de sensores y actuadores que usualmente se suelen tener disponibles o que forman parte de proyectos interesantes.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"UNO/externos/#humedad-del-suelo","title":"Humedad del suelo","text":""},{"location":"UNO/externos/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Sensor de humedad del suelo (KS0049)</li> <li>Cable GVS o 3 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/externos/#procedimiento","title":"Procedimiento","text":"<p>1. Conecta el sensor de humedad de suelo a la placa utilizando un cable de tipo GSV o tres cables dupont hembra-hembra. El pin a utilizar ser\u00e1 el A0.</p> <p> <p> Conexionado</p> <p></p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC y S con S).</p> <p>Si utilizas un conector GSV ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>2. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks.</p> <p>3. Ve a ArduinoBlocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cUNO\u201d:</p> <p> <p> Proyecto KS_UNO_Humedad_suelo. Creaci\u00f3n</p> <p></p> <p>4. En la categoria de \"Comunicaciones\" busca \"Puerto Serie\" y coloca en \"Inicializar\" un bloque \"Iniciar baudios 9600\".</p> <p> <p> Proyecto KS_UNO_Humedad_suelo. Iniciar puerto serie</p> <p></p> <p>5. En \"Bucle\" sit\u00faa un bloque \"Enviar\" dejando activado el salto de l\u00ednea.</p> <p> <p> Proyecto KS_UNO_Humedad_suelo. Enviar puerto serie</p> <p></p> <p>6. En la categor\u00eda \u201cSensores\u201d, busca el sensor para medir la humedad del suelo (KS0049) y sit\u00faa el bloque correspondiente en el espacio vac\u00edo que hay en \u201cEnviar\u201d. Aparece como \"Sonda de humedad\" y la imagen del sensor. F\u00edjate que indica a qu\u00e9 pin se debe conectar el sensor. Puedes elegir el pin que desees de los que salen en el desplegable, teniendo en cuenta que el pin que selecciones en el bloque ser\u00e1 el que debes utilizar para realizar la conexi\u00f3n (en nuestro caso A0). Tambi\u00e9n puedes elegir entre ver la lectura en porcentaje (%) o en valor absoluto (0\u20261023). Pon tambi\u00e9n una espera de un segundo a continuaci\u00f3n despu\u00e9s del bloque enviar para evitar que haga las lecturas demasiado seguidas.</p> <p> <p> Proyecto KS_UNO_Humedad_suelo</p> <p></p> <p>7. Subimos el proyecto a la placa haciendo clic en el bot\u00f3n \"Subir\". Una vez compilado y subido correctamente el programa, haz clic en \"Consola\" y despu\u00e9s en \"Conectar\".</p> <p> <p> Proyecto KS_UNO_Humedad_suelo. Completo - Consola</p> <p></p> <p>Comenzar\u00e1s a ver valores medidos por el sensor en la consola o terminal serie.</p> <p>8. Tambi\u00e9n se pueden combinar bloques de texto, de la categoria \"Texto\", con las medidas efectuadas por el sensor. En el ejemplo siguiente se han realizados cambios al respecto:</p> <p> <p> Proyecto KS_UNO_Humedad_suelo_v2</p> <p></p> <p>La consola se ver\u00e1 ahora de la siguiente forma:</p> <p> <p> Proyecto KS_UNO_Humedad_suelo. Completo - Consola</p> <p></p>"},{"location":"UNO/externos/#sensor-de-luz-ambiente","title":"Sensor de luz ambiente","text":"<p>Una alternativa a la fotorresistencia muy sencillo de utilizar es el sensor de luz ambiental TEMT6000. Se supone que el TEMT6000 est\u00e1 adaptado a la sensibilidad del ojo humano, pero he comprobado que su rendimiento es malo en condiciones de poca luz.</p> <p>No obstante, funciona muy bien reaccionando a cambios muy peque\u00f1os en un ambiente de buena luminosidad. Debido a que est\u00e1 dise\u00f1ado para imitar el ojo humano, no reacciona bien a la luz IR o UV, as\u00ed que aseg\u00farate de tenerlo en cuenta cuando lo utilices en tu proyecto.</p>"},{"location":"UNO/externos/#material-necesario_1","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Sensor de luz ambiental TEMT6000</li> <li>Cable I2C o 4 cables dupont hembra-hembra</li> <li>Cable GVS o 3 cables dupont hembra-hembra</li> <li>Matriz de LED 8x8 I2C HT16K33 (KS0064)</li> <li>Matriz de LED 8x8 I2C HT16K33 direccionable (KS0396)</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/externos/#procedimiento_1","title":"Procedimiento","text":"<p>1. Conecta el sensor de humedad de luz ambiental al pin A0 utilizando un cable de tipo GSV o tres cables dupont hembra-hembra. Mediante un hub o expansor I2C conecta las dos matrices de 8x8 al puerto I2C de la placa.</p> <p> <p> Conexionado</p> <p></p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC y S con S).</p> <p>Si utilizas un conector GSV ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>2. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>3. Vamos a configurar \"Inicializar\" localizando y adaptando los bloques para tener dos matrices de 8x8 con dos direcciones diferentes, inicializar una variable donde almacenar los valores medidos por el sensor e iniciar el puerto serie.</p> <p> <p> Bloque Inicializar del proyecto KS_UNO_claro_oscuro</p> <p></p> <p>4. En \"Bucle\" vamos a hacer que en la variable se guarde la lectura del sensor mostrando el resultado por el puerto serie cada segundo. Si la luz ambiente es igual o est\u00e1 por debajo de un valor (lo adaptas a tu resultado de medida) va a significar oscuridad mostr\u00e1ndose una carita triste en la matriz 1 mientras en la matriz 2 se iluminan los 4 LEDs centrales. Si la luz ambiente es mayor que ese valor la matriz 2 mostrar\u00e1 una carita feliz mientras que en la matriz 1 se iluminan los 4 LEDs de las esquinas significando que hay bastante claridad.</p> <p> <p> Bloque Bucle del proyecto KS_UNO_claro_oscuro</p> <p></p> <p>5. El proyecto completo ser\u00e1:</p> <p> <p> Proyecto KS_UNO_claro_oscuro</p> <p></p> <p>6. Subimos el proyecto a la placa, conectamos la consola y vemos el valor que nos da el sensor (en mi caso la medida est\u00e1 en torno al 10%). Adaptamos el valor de la comparaci\u00f3n en el bucle y volvemos a subir el proyecto si es necesario. En la animaci\u00f3n podemos ver el funcionamiento del proyecto:</p> <p> <p> Proyecto KS_UNO_claro_oscuro. Funcionamiento</p> <p></p>"},{"location":"UNO/externos/#sensor-de-co2","title":"Sensor de CO2","text":"<p>El sensor de di\u00f3xido de carbono es un sensor de calidad del aire que utiliza el chip CCS811. Se trata de un sensor digital de gas en miniatura de potencia ultrabaja que puede detectar una amplia gama de compuestos org\u00e1nicos vol\u00e1tiles (COV), incluidos los niveles de di\u00f3xido de carbono equivalente (eCO2) y \u00f3xido met\u00e1lico (MOX). El di\u00f3xido de carbono equivalente (eCO2) se mide en un rango de 400 a 29206 ppm (partes por mill\u00f3n), y diversos compuestos org\u00e1nicos vol\u00e1tiles (TVOC) en un rango de 0 a 32768 ppb (partes por bill\u00f3n).</p> <p> <p> Sensor de CO2</p> <p></p> <p>En arduinoblocks est\u00e1 disponible un bloque para el sensor que devuelve el nivel de CO2 detectado tanto en ppm como en mg/m3 y el TVOC en ppb.</p> <p> <p> Bloque para sensor de CO2</p> <p></p>"},{"location":"UNO/externos/#material-necesario_2","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Sensor CCS811 Sensor de eCO2 (Di\u00f3xido de Carbono Equivalente) y TVOC conexi\u00f3n I2C (KS0457)</li> <li>Cable I2C o 4 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/externos/#procedimiento_2","title":"Procedimiento","text":"<p>1. Conecta el sensor de CO2 al conector I2C utilizando un cable de tipo I2C o cuatro cables dupont hembra-hembra.</p> <p> <p> Conexionado</p> <p></p> <p>Es muy importante conectar el pin WAKE a GND para el correcto funcionamiento del sensor</p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC, SDA con SDA y SCL con SCL).</p> <p>Si utilizas un conector I2C ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>2. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>3. Vamos a configurar \"Inicializar\" para trabajar con la consola serie. En el bucle vamos a inicializar las variables donde almacenar los valores medidos por el sensor en sus tres modos posibles. Enviaremos cada valor medidos a una l\u00ednea con un texto indicativo, su valor y la unidad de medida. El programa ser\u00e1 el siguiente:</p> <p> <p> Proyecto KS_UNO_CO2</p> <p></p> <p>4. Subimos el proyecto a la placa, conectamos la consola y vemos los valores medidos por el sensor.</p> <p> <p> Proyecto KS_UNO_CO2. Consola</p> <p></p> <p>Los valores que vemos en la gr\u00e1fica se han forzado para el ejemplo introduciendo el sensor en una nube de IPA (alcohol isoprop\u00edlico).</p>"},{"location":"UNO/externos/#acelerometro-de-tres-ejes","title":"Aceler\u00f3metro de tres ejes","text":"<p>El m\u00f3dulo ADXL345 es un aceler\u00f3metro MEMS (MicroelEctroMechanical Systems) o sistema microelectromec\u00e1nico de 3 ejes, con una resoluci\u00f3n (13 bits) de medici\u00f3n de hasta \u00b116g de fuerza gravitacional. Los datos de salida los entrega en formato digital en complemento a dos de 16 bits y se puede acceder a ellos a trav\u00e9s de una interfaz digital I2C.</p> <p>El ADXL345 es ideal para medir la aceleraci\u00f3n est\u00e1tica de la gravedad en aplicaciones de detecci\u00f3n de inclinaci\u00f3n, as\u00ed como la aceleraci\u00f3n din\u00e1mica resultante del movimiento o impacto.</p> <p> <p> Sensor aceler\u00f3metro de tres ejes ADXL345</p> <p></p> <p>En arduinoblocks est\u00e1 disponible un bloque para el sensor en el que se pueden seleccionar las opciones que vemos a continuaci\u00f3n:</p> <p> <p> Bloque para sensor ADXL345</p> <p></p> <p>Los conceptos que vemos en la imagen anterior se refieren a la rotaci\u00f3n del eje X (Roll) y la rotaci\u00f3n del eje Y (Pitch). Se ha prescindido del eje Z (Yaw). Para aprender mas sobre estos conceptos visita este enlace al blog de Luis Llamas. En la explicaci\u00f3n estos conceptos dada en la Wikipedia respecto a los Aircraft principal axes o ejes del avi\u00f3n se muestran gr\u00e1ficos y animaciones referentes a su significado. En la imagen siguiente se comparan los conceptos de movimientos angulares aplicados a una aeronave.</p> <p> <p> Movimientos angulares</p> <p></p>"},{"location":"UNO/externos/#material-necesario_3","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Sensor aceler\u00f3metro de tres ejes ADXL345 (Ks0012)</li> <li>Cable I2C o 4 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/externos/#procedimiento_3","title":"Procedimiento","text":"<p>1. Conecta el sensor de ADXL345 al conector I2C utilizando un cable de tipo I2C o cuatro cables dupont hembra-hembra.</p> <p> <p> Conexionado</p> <p></p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC, SDA con SDA y SCL con SCL).</p> <p>Si utilizas un conector I2C ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>2. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>3. En la entrada \"Funciones\" tenemos las opciones disponibles de creaci\u00f3n de funciones, sin retorno y con retorno de valor. Crear una funci\u00f3n es tan sencillo como arrastrar el bloque a la zona de programa, ponerle un nombre descriptivo y en su interior crear el programa que se ejecutar\u00e1 cada vez que la invoquemos. Para invocar a la funci\u00f3n se crea un bloque, que inicialmente no existe, con el nombre de la funci\u00f3n. Para el ejemplo que estamos resolviendo est\u00e9 men\u00fa quedar\u00e1 as\u00ed:</p> <p> <p> Proyecto KS_UNO_acelerometro. Funciones</p> <p></p> <p>4. Vamos a trabajar con la consola serie para mostrar los \u00e1ngulos de Pitch y Roll y con el plotter serie para mostrar graficamente las aceleraciones en los tres ejes. Adem\u00e1s, para que el c\u00f3digo quede mejor ordenado, vamos a crear funciones que realizar\u00e1n las tareas de leer el sensor, enviar los \u00e1ngulos a la consola y las aceleraciones al plotter. El programa quedar\u00e1 as\u00ed:</p> <p> <p> Proyecto KS_UNO_acelerometro</p> <p></p> <p>Ahora podemos ver de forma completa las funciones definidas y como son invocadas.</p> <p>5. Si subimos el programa tal cual est\u00e1 se van a mezclar los datos de consola y plotter ya que son enviados por el puerto serie todos. Arduinoblocks dispone de la posibilidad de activar y desactivar (comentar) bloques para poder hacer que formen, o no, parte del programa. En la animaci\u00f3n siguiente vemos como activar y desactivar bloques.</p> <p> <p> Proyecto KS_UNO_acelerometro. Activar/desactivar bloques</p> <p></p> <p>6. Desactivamos la llamada a la funci\u00f3n aceleraciones y subimos el proyecto a la placa. Comenzamos por enviar datos a la consola y vemos los valores medidos por el sensor gir\u00e1ndolo en alabeo y cabeceo.</p> <p> <p> Proyecto KS_UNO_acelerometro. Consola</p> <p></p> <p>7. Activamos la llamada a la funci\u00f3n aceleraciones y desactivamos la llamada a la funci\u00f3n \u00e1ngulos y subimos el proyecto a la placa. Comenzamos a enviar datos al plotter y vemos las gr\u00e1ficas de los valores medidos por el sensor movi\u00e9ndolo en la direcci\u00f3n de cada eje.</p> <p> <p> Proyecto KS_UNO_acelerometro. Plotter</p> <p></p> <p>Si necesitamos mas opciones de medida podemos recurrir al modelo Aceler\u00f3metro y Giroscopio MPU6050 que combina un giroscopio MEMS de 3 ejes con un aceler\u00f3metro MEMS de 3 ejes y un procesador DMP (Digital Motion Processor) interno que ejecuta c\u00e1lculos para combinar las mediciones de los sensores internos.</p>"},{"location":"UNO/keyestudio_UNO/","title":"Retos Keyestudio UNO","text":""},{"location":"UNO/keyestudio_UNO/#nivel-i-detector-de-movimiento","title":"NIVEL I. Detector de movimiento","text":"<p>En primer lugar, conecta la tira de leds Neopixel en uno de los pines GVS, por ejemplo el pin D2, de la placa Keyestudio UNO como en la siguiente imagen:</p> <p> <p> </p> <p></p> <p>Es necesario que el cable negro (GND) del sensor coincida con el pin negro (GND) de la placa Keyestudio UNO para que la conexi\u00f3n sea correcta.</p> <p>Para programar la tira de leds Neopixel, primero toma este bloque de programaci\u00f3n de la categor\u00eda Visualizaci\u00f3n - Neopixel</p> <p> <p> </p> <p></p> <p>Colocalo dentro del bloque \u201cInicializar\u201d e indica que hay 10 leds en la tira de leds Neopixel conectados al pin 2 de la placa Keyestudio UNO. El bloque \u201cInicializar\u201d deber\u00eda quedar as\u00ed:</p> <p> <p> </p> <p></p> <p>Seguidamente, toma el bloque de programaci\u00f3n condicional \"si / si no\" de la categor\u00eda \u201cL\u00f3gica\u201d y col\u00f3calo dentro del \u201cbucle\u201d principal. La estructura queda de la siguiente forma:</p> <p> <p> </p> <p></p> <p>Hecho esto, conecta el sensor de movimiento PIR en uno de los pines GVS, por ejemplo el pin D8, de la placa Keyestudio UNO como en la siguiente imagen:</p> <p> <p> </p> <p></p> <p>Coloca el bloque de programaci\u00f3n \u201cDetector de movimiento (PIR)\u201d de la categor\u00eda \"Sensores\" en la condici\u00f3n del bloque condicional. Indica que el sensor \u201clectura del sensor de movimiento PIR\u201d est\u00e1 conectado al pin 8. Col\u00f3calo dentro del bloque de programaci\u00f3n condicional \u201cs\u00ed\u201d para que cuando el sensor detecte un movimiento se ejecute una acci\u00f3n. Y si no detecta ninguna, se ejecute otra.</p> <p> <p> </p> <p></p> <p>Por \u00faltimo, y para cada caso, coloca un bloque de programaci\u00f3n \u201cContar con\u201d de la categor\u00eda \u201cControl\u201d para que se pongan todos los leds de la tira de Neopixel de un mismo color. Cambia el nombre de la variable \u201ci\u201d del contador por LEDs\u201d y col\u00f3cala dentro del bloque de programaci\u00f3n \u201cEstablecer pixel #\u201d. Indica que el contador vaya del n\u00famero 0 al 9 para que encienda los 10 leds de la tira de Neopixel. En caso de que se detecte movimiento, puedes programar que los leds Neopixel se enciendan de color rojo. Y si no se detecta, que se enciendan de color verde.</p> <p> <p> </p> <p></p> <p>Para que las luces se enciendan habr\u00e1 que a\u00f1adir el bloque \"Mostrar\" que encontraremos en la categor\u00eda Visualizaci\u00f3n - Neopixel. Lo a\u00f1adiremos despu\u00e9s de establecer de qu\u00e9 color queremos los pixels.</p> <p>El programa final quedar\u00e1 as\u00ed:</p> <p> <p> Descargar: NIVEL I. Detector de movimiento</p> <p></p>"},{"location":"UNO/keyestudio_UNO/#nivel-ii-control-de-humedad","title":"NIVEL II. Control de humedad","text":"<p>Lo primero de todo, crea una variable denominada Humedad desde el men\u00fa \"Variables\".</p> <p> <p> </p> <p></p> <p>Coloca el bloque de programaci\u00f3n \"Establecer Humedad\" de la categor\u00eda \"Variables\" dentro del bloque \"Inicializar\" para empezar el programa con un valor de la variable \"0\".</p> <p> <p> </p> <p></p> <p>Despu\u00e9s, conecta el sensor de humedad a la Keyestudio UNO, por ejemplo en el pin A5, ya que es un sensor anal\u00f3gico, como en la siguiente imagen. Es necesario que el cable negro (GND) del sensor coincida con el pin negro (GND) de la placa para que la conexi\u00f3n sea correcta.</p> <p> <p> </p> <p></p> <p>Y conecta la tira de leds Neopixel en uno de los pines GVS, por ejemplo el pin 4, de la placa Keyestudio UNO como en la siguiente imagen:</p> <p> <p> </p> <p></p> <p>Seguidamente, para iniciar la tira de leds Neopixel, configura los leds mediante este bloque de programaci\u00f3n de la categor\u00eda Visualizaci\u00f3n - Neopixel</p> <p> <p> </p> <p></p> <p>Col\u00f3calo dentro del bloque \u201cInicializar\u201d e indica el n\u00famero de leds Neopixel conectados al pin 4 de la placa Keyestudio UNO tienen 10 leds. El bloque \u201cInicializar\u201d deber\u00eda quedar as\u00ed tras los pasos dados:</p> <p> <p> </p> <p></p> <p>Coloca dentro del \"bucle\" principal el bloque de la variable creada con el bloque de programaci\u00f3n \"Sonda de humedad\" de la categor\u00eda \"Sensores\" indicando que est\u00e1 conectado al pin A5 y las unidades en %.</p> <p> <p> </p> <p></p> <p>Seguidamente, toma el bloque de programaci\u00f3n condicional \"si / si no\" de la categor\u00eda \u201cL\u00f3gica\u201d y col\u00f3calo dentro del \u201cbucle\u201d principal. La estructura queda de la siguiente forma:</p> <p> <p> </p> <p></p> <p>Pulsa en el s\u00edmbolo \u201c+\u201d para crear m\u00e1s condiciones:</p> <p> <p> </p> <p></p> <p>Despu\u00e9s, coloca un bloque de comparaci\u00f3n y el bloque booleano \u201cy\u201d de la categor\u00eda \"L\u00f3gica\" en la condici\u00f3n \"si\" y \"si no, si\" respectivamente. Uno de los elementos de la comparaci\u00f3n debe ser el bloque del valor de la variable \u201cHumedad\u201d y el otro, los valores de la humedad que queramos establecer, por ejemplo \u201c30\u201d y \u201c60\u201d. De esta forma, define el l\u00edmite inferior (30), el l\u00edmite superior (60) y el rango intermedio (entre 30 y 60).</p> <p> <p> </p> <p></p> <p>Por \u00faltimo, y para cada caso, coloca un bloque de programaci\u00f3n \u201cContar con\u201d de la categor\u00eda \u201cControl\u201d para que se pongan todos los leds de la tira de Neopixel de un mismo color. Cambia el nombre de la variable \u201ci\u201d del contador por \u201cLEDs\u201d y col\u00f3cala dentro del bloque de programaci\u00f3n \u201cEstablecer pixel #\u201d. Indica que el contador vaya del n\u00famero 0 al 7 para que encienda 8 leds de la tira de Neopixel.</p> <p>Para que las luces se enciendan habr\u00e1 que a\u00f1adir el bloque \u201cMostrar\u201d que encontraremos en la categor\u00eda Visualizaci\u00f3n - Neopixel. Lo a\u00f1adiremos despu\u00e9s de establecer de qu\u00e9 color queremos los pixels.</p> <p>El bloque condicional debe quedar as\u00ed:</p> <p> <p> </p> <p></p> <p>Por \u00faltimo, y para dar tiempo a la lectura del sensor, a\u00f1ade una pausa con el bloque de programaci\u00f3n \u201cEsperar (ms)\u201d.</p> <p>Ten en cuenta que el valor que debes escribir en este bloque indica un valor de tiempo con unidades en milisegundos. Por tanto, si queremos indicar una pausa de 1 segundo, es necesario escribir un valor de 1000 en el mismo.</p> <p>El programa completo queda as\u00ed:</p> <p> <p> Descargar: NIVEL II. Control de humedad</p> <p></p>"},{"location":"UNO/keyestudio_UNO/#nivel-iii-barrera-automatica","title":"NIVEL III. Barrera autom\u00e1tica","text":"<p>En este reto, crea un programa que levante una barrera accionada por el servomotor en funci\u00f3n de si detecta o no un objeto a cierta distancia en cent\u00edmetros gracias al sensor de ultrasonidos.</p> <p>Utiliza los siguientes bloques de programaci\u00f3n para realizar este reto:</p> <p> <p> </p> <p></p> <p>POSIBLE SOLUCI\u00d3N</p> <p>El primer paso que debes dar es conectar el sensor de ultrasonidos a la Keyestudio UNO. Este sensor tiene cuatro cables de conexi\u00f3n: uno de tierra GND, otro de voltaje VCC y dos de se\u00f1al (Trig y Echo). Por tanto, debes realizar la conexi\u00f3n a la Keyestudio UNO formando una \u201cL\u201d, tal y como se indica en la imagen. Indica cm como unidades de la lectura de distancia y los pines de se\u00f1al donde hayas conectado los cables de Trig (emisor) y Echo (receptor) en el bloque de programaci\u00f3n del sensor de ultrasonidos. Puedes conectarlos a los pines 2 y 3, por ejemplo, de la hilera de pines GVS como en la siguiente imagen:</p> <p> <p> </p> <p></p> <p>Tambi\u00e9n conecta el servomotor en uno de los pines GVS de la hilera de conexiones de la Keyestudio UNO, por ejemplo el pin 4.</p> <p> <p> </p> <p></p> <p>Preparados los componentes, es hora de realizar el programa. Dentro del \"bucle\" principal coloca el bloque de programaci\u00f3n \"si hacer\". Dentro de este condicional, a\u00f1ade el bloque de comparaci\u00f3n de la categor\u00eda l\u00f3gica. Uno de los elementos de la comparaci\u00f3n debe ser el bloque de lectura del sensor de ultrasonidos ya configurado y el otro, el valor de la distancia, que en este caso puede ser de 10 cent\u00edmetros, para detectar cu\u00e1ndo un objeto est\u00e1 cerca de la barrera. El bloque para escribir un valor num\u00e9rico se encuentra dentro de la categor\u00eda \u201cMatem\u00e1ticas\u201d. El programa en este punto deber\u00eda estar as\u00ed:</p> <p> <p> </p> <p></p> <p>A continuaci\u00f3n, de la categor\u00eda \u201cMotor - Servo\u201d selecciona el bloque de programaci\u00f3n \u201cServo\u201d. Col\u00f3calo dentro del bloque condicional \u201csi\u201d para que cuando se detecte una distancia menor de 10 cent\u00edmetros el servomotor haga un movimiento. Por ejemplo, programa que se mueva primero en la posici\u00f3n angular 90\u00ba. Indica que has conectado el servomotor al pin 4.</p> <p>En este momento el programa deber\u00eda estar as\u00ed:</p> <p> <p> </p> <p></p> <p>Sin embargo, es necesario devolver al servomotor a su posici\u00f3n inicial, por lo que hay que a\u00f1adir el bloque \u201cEsperar\u201d. Decide cu\u00e1l es el tiempo \u00f3ptimo a \"esperar\", normalmente se toma 1.000 milisegundos (1 segundo). Seguidamente, a\u00f1ade el bloque del servomotor que lo devuelve a su posici\u00f3n inicial. Por tanto, el programa del bucle principal queda de la siguiente manera:</p> <p> <p> </p> <p></p> <p>Para asegurar que el servomotor realice un movimiento de forma correcta, es necesario \u201creinicializarlo\u201d al iniciar el programa. Por eso, en el bloque \u201cInicializar\u201d, coloca el bloque de programaci\u00f3n del servomotor para que se inicie en la posici\u00f3n 0\u00ba.</p> <p> <p> </p> <p></p> <p>El programa completo de este reto queda as\u00ed:</p> <p> <p> Descargar: NIVEL III. Barrera autom\u00e1tica</p> <p></p>"},{"location":"UNO/keyestudio_UNO/#nivel-iv-contaminacion-acustica","title":"NIVEL IV. Contaminaci\u00f3n ac\u00fastica","text":"<p>Crea un programa capaz de emitir una alerta cuando detecte un nivel de sonido excesivo mediante el sensor de sonido, un LED verde y un LED rojo.</p> <p>Para empezar, conecta el sensor de sonido anal\u00f3gico a uno de los pines A0-A5 de la placa Keyestudio UNO. Por ejemplo, puedes conectar el cable GVS al pin A0. Es necesario que el cable negro (GND) del sensor de sonido coincida con el pin azul (GND) de la placa Keyestudio UNO.</p> <p> <p> </p> <p></p> <p>Conecta los leds a la hilera de pines de entradas y salidas digitales GVS. Por ejemplo, conecta los cables GVS del LED rojo en el pin P0 y el LED verde en el pin P1. Comprueba que el cable negro (GND) del LED coincida con el pin azul (GND) de la placa Keyestudio UNO.</p> <p> <p> </p> <p></p> <p>Inicia un nuevo programa en steamakerblocks a\u00f1adiendo el bloque de programaci\u00f3n condicional \"si / hacer / si no\" que encontrar\u00e1s en la categor\u00eda de \"L\u00f3gica\". Como el objetivo es que este condicional funcione en todo momento, deber\u00e1s introducirlo dentro del bloque \u201cBucle\u201d que aparece al iniciar un proyecto:</p> <p> <p> </p> <p></p> <p>A continuaci\u00f3n, debes introducir un comparador para medir el nivel de sonido del sensor y compararlo con un valor determinado, que ser\u00e1 el valor umbral. En la categor\u00eda \u201cL\u00f3gica\u201d arrastra el bloque de comparaci\u00f3n de valores num\u00e9ricos en el lado derecho del \u201cs\u00ed\u201d y cambia el s\u00edmbolo \u201c=\u201d (igual) por el de \u201c&lt;\u201d (menor que).</p> <p> <p> </p> <p></p> <p>En \u201cSensores\u201d arrastra el bloque \u201cNivel de sonido Pin A0 %\u201d y sit\u00faalo en el primer espacio del comparador. Despliega el campo donde aparece el porcentaje para dejarlo en de \"0..1023\".</p> <p>En \u201cMatem\u00e1ticas\u201d arrastra un bloque para a\u00f1adir un n\u00famero y sit\u00faalo despu\u00e9s del s\u00edmbolo \u201c&lt;\u201d (menor que) del comparador. Cambia el valor \u201c0\u201d por \u201c700\u201d, como ejemplo de umbral que determinemos (el sensor de sonido anal\u00f3gico proporciona valores entre 0 y 1023).</p> <p> <p> </p> <p></p> <p>Ahora define el comportamiento de los leds. Arrastra el bloque \"Led Pin 2 Estado ON\" que encontrar\u00e1s en \"Actuadores\" y sit\u00faalo en el lado derecho de \"hacer\". Dupl\u00edcalo, o arrastra de nuevo el bloque, y encajalo debajo del anterior. Para encender el LED verde y apagar el LED rojo (el valor del sensor no supera el umbral) deber\u00e1s poner el pin 2 en \u201cEstado OFF\u201d y el pin 3 en \u201cEstado ON\u201d en cada uno de los bloques dentro de \u201chacer\u201d.</p> <p>Duplica de nuevo los bloques y sit\u00faalos en el lado derecho del \u201csi no\u201d. Cambia los estados de los pines: ahora el LED rojo (pin 2) estar\u00e1 encendido (\u201cON\u201d) cuando el nivel de sonido supere el valor umbral y el LED verde (pin 3) estar\u00e1 apagado (\u201cOFF\u201d).</p> <p> <p> Descargar: NIVEL IV. Contaminaci\u00f3n ac\u00fastica</p> <p></p>"},{"location":"UNO/keyestudio_UNO/#nivel-v-trasvase-de-agua","title":"NIVEL V. Trasvase de agua","text":"<p>Consigue trasvasar agua de un vaso a otro mediante la bomba de agua y el rel\u00e9 utilizando un pulsador.</p> <p>Antes de empezar a programar es esencial que conectes adecuadamente el pulsador, el rel\u00e9 y la bomba de agua con la placa Keyestudio UNO.</p> <p>Primero, conecta el pulsador a la placa Keyestudio UNO mediante los pines GVS de la hilera de conexiones. Puedes utilizar, por ejemplo, el pin 2. Luego conecta el rel\u00e9 a la placa en la misma hilera. Puedes conectarlo al siguiente pin, el pin 3, por ejemplo. Comprueba que el cable negro (GND) del rel\u00e9 coincida con el pin azul (GND) de la Keyestudio UNO para garantizar una conexi\u00f3n correcta.</p> <p>A continuaci\u00f3n conecta uno de los cables de la bomba de agua a un pin GND de la placa Keyestudio UNO. El otro cable de la bomba debes conectarlo al conector central de salida del rel\u00e9. Para finalizar, quita el cabezal de pl\u00e1stico de un extremo de un cable hembra-hembra y con\u00e9ctalo desde el conector de salida del rel\u00e9 hasta un pin VCC de la placa Keyestudio UNO. Esto dejar\u00e1 el circuito en abierto y permitir\u00e1 que, al activarse el rel\u00e9, el circuito se cierre y, en consecuencia, la bomba se active.</p> <p> <p> </p> <p></p> <p>Inicia un nuevo programa en steamakerblocks a\u00f1adiendo el bloque de programaci\u00f3n condicional \"si / hacer / si no\" que encontrar\u00e1s en la categor\u00eda de \"L\u00f3gica\". Como el objetivo es que este condicional funcione en todo momento, deber\u00e1s introducirlo dentro del bloque \u201cBucle\u201d que aparece al iniciar un proyecto:</p> <p> <p> </p> <p></p> <p>A continuaci\u00f3n, debes introducir la condici\u00f3n a evaluar para ejecutar una acci\u00f3n u otra, que en este caso consiste en que si el pulsador est\u00e1 pulsado, se activa el rel\u00e9 y, por tanto, se pone en funcionamiento la bomba de agua, y si no lo est\u00e1, no funciona. Encontrar\u00e1s este bloque en el apartado \u201cSensores\u201d con el nombre de \u201cPulsador\u201d. Tienes que colocarlo en el conector justo al lado del \u201csi\u201d, y el programa quedar\u00e1 configurado de la siguiente manera:</p> <p> <p> </p> <p></p> <p>En este punto falta definir, por un lado, qu\u00e9 pasar\u00e1 cuando se pulse el pulsador, y por otro, qu\u00e9 pasar\u00e1 cuando se deje de pulsar. Toma el bloque de programaci\u00f3n para controlar el rel\u00e9 de la categor\u00eda \u201cActuadores\u201d, col\u00f3calo en cada caso del condicional. Indica que el rel\u00e9 est\u00e1 conectado al pin 3 y que si el pulsador est\u00e1 pulsado, el estado del rel\u00e9 debe estar en \u201cON\u201d, y si no lo est\u00e1, en \u201cOFF\u201d.</p> <p>El programa quedar\u00e1 configurado de la siguiente forma:</p> <p> <p> Descargar: NIVEL V. Trasvase de agua</p> <p></p>"},{"location":"UNO/lcd/","title":"Pantalla LCD 1602","text":"<p>Aqu\u00ed encontrar\u00e1s informaci\u00f3n e instrucciones para conectar y mostrar textos o im\u00e1genes en una pantalla de tipo LCD 1602.</p> <p>Para saber mas sobre la LCD 1602 puedes consultar Pantalla LCD 1602 I2C.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"UNO/lcd/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Pantalla LCD 1602 I2C</li> <li>Cable I2C o 4 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa ESP32 STEAMakers, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/lcd/#procedimiento","title":"Procedimiento","text":"<p>1. Comenzamos conectando la pantalla LCD a la placa a trav\u00e9s de los pines de comunicaci\u00f3n I2C seg\u00fan muestra la imagen siguiente:</p> <p> <p> Conexionado</p> <p></p> <p>Puedes hacer las conexiones con un cable I2C o utilizando cuatro cables dupont hembra-hembra.</p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC, SCL con SCL y SDA con SDA).</p> <p>Si utilizas un conector I2C ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>2. Sigue con la programaci\u00f3n con Arduinoblocks: Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks.</p> <p>3. Ve a ArduinoBlocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cUNO\u201d:</p> <p> <p> Proyecto KS_UNO_LCD. Creaci\u00f3n</p> <p></p> <p>4. Para utilizar la pantalla LCD, primero debes inicializarla. En el bloque \u201cInicializar\u201d, sit\u00faa un bloque \u201cLCD Iniciar I2C\u201d, que encontrar\u00e1s en la categor\u00eda \"Visualizaci\u00f3n/Pantalla LCD (I2C)\". Pon tambi\u00e9n el bloque \u201cLimpiar\u201d para asegurar que la pantalla no tenga nada escrito al inicio.</p> <p> <p> Proyecto KS_UNO_LCD. Inicializar</p> <p></p> <p>5. A continuaci\u00f3n, en el bloque \u201cBucle\u201d, sit\u00faa alguno de los bloques de visualizaci\u00f3n de la pantalla LCD, en funci\u00f3n de lo que desees mostrar. Comienza mostrando el texto \u201cHola\u201d, con el bloque \"LCD #1 Imprimir...\":</p> <p> <p> Proyecto KS_UNO_LCD. Hola</p> <p></p> <p>Haz clic en el bot\u00f3n \u201cSubir\u201d situado arriba a la derecha, verificando primero que el puerto seleccionado sea correcto:</p> <p> <p> Proyecto KS_UNO_LCD. Subir</p> <p></p> <p>6. Vamos a crear dos s\u00edmbolos propios, un mu\u00f1equito y una letra \"i\" pero acentuada. La definici\u00f3n del s\u00edmbolo la copiamos en un bloque \"LCD #1 Definir s\u00edmbolo...\" y le asignamos el n\u00famero 1 y al de la letra \"i\" le asignamos el n\u00famero 2. Estos bloques de definici\u00f3n se ponen en \"Inicializar\".</p> <p> <p> Proyecto KS_UNO_LCD.S\u00edmbolos</p> <p></p> <p>7. De la categor\u00eda Visualizaci\u00f3n/Pantalla LCD I2C, elige el bloque \u201cLCD #1 Imprimir\u2026\u201d y lo colocas un par de veces de manera que en uno aparezca el texto \"Hola desde\" en la fila 0 y en el otro \"Keyestudio UNO\" en la fila 1. Ahora, a\u00f1ade una espera de 2 segundos (2000 milisegundos). Cambia el valor a 2000. Para a\u00f1adir la espera de 2 segundos, ve a la categor\u00eda \u201cTiempo\u201d y elige el bloque \u201cEsperar 1000 milisegundos\u201d. Haz que se limpie la pantalla y que a continuaci\u00f3n se muestre la letra \"S\" en la fila 0 y columna 0. A continuaci\u00f3n, de la categor\u00eda Visualizaci\u00f3n/Pantalla LCD I2C, elige el bloque \u201cLCD #1 Imprimir\u2026 S\u00edmbolo\u2026\u201d y pon el n\u00famero correspondiente a la letra \"i\" ajustando la columna a 1. Ahora ponemos a partir de la columna 2 el resto del texto (\"mbolo\"). Ya solamente queda colocar en la fila uno la definici\u00f3n del s\u00edmbolo del mu\u00f1equito. Pon otra espera de 2 segundos. El c\u00f3digo completo de la programaci\u00f3n debe quedar as\u00ed:</p> <p> <p> Proyecto KS_UNO_LCD</p> <p></p>"},{"location":"UNO/lcd/#funcionamiento","title":"Funcionamiento","text":"<p>En la animaci\u00f3n podemos observar el programa en funcionamiento:</p> <p> <p> Proyecto KS_UNO_LCD</p> <p></p>"},{"location":"UNO/mando/","title":"Programar el mando a distancia","text":"<p>En esta ocasi\u00f3n vamos a trabajar con el Kit Imagina TdR STEAM basado en la placa tipo Arduino UNO en el que ya disponemos del mando y del sensor.</p> <p>Es conveniente repasar los contendiso explicados en Emisor y receptor de infrarrojos y en Placa TdR-STEAM y keyestudio UNO puesto que vamos a utilizar el mando y el sensor de ese conjunto.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"UNO/mando/#material-necesario","title":"Material necesario","text":"<ul> <li>Kit Imagina TdR STEAM basado en la placa tipo Arduino UNO</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/mando/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>2. Partimos de los componentes del kit ya conectados. Procede a crear una variable de tipo texto  entrando en la categoria \"Variables\". Debe ser de tipo texto porque el c\u00f3digo que se recibir\u00e1 del mando es un texto en formato hexadecimal.</p> <p> <p> Proyecto KS_UNO_control_remoto. Crear variable</p> <p> Proyecto KS_UNO_control_remoto. Variable creada</p> <p></p> <p>IMPORTANTE:</p> <p>El sensor funciona a 5V. comprueba que tienes el interruptor selector de voltaje en la posici\u00f3n correcta:</p> <p> <p></p> <p></p> <p>3. A partir de aqu\u00ed vamos a hacer dos ejemplos diferentes que, l\u00f3gicamente deberemos subir en cada caso a la placa para probar su funcionamiento.</p>"},{"location":"UNO/mando/#ejemplos","title":"Ejemplos","text":"<p>Ejemplo 1</p> <p>Vamos a realizar un programa en el que si pulsamos la tecla Ok del control remoto se nos encienda el diodo LED rojo. </p> <p> <p> Proyecto KS_UNOyTdRSTEAM_control_remoto. Ejemplo 1</p> <p></p> <p>Sabemos que el diodo IR est\u00e1 recibiendo un c\u00f3digo porque junto al mismo hay un diodo LED rojo que parpadea.</p> <p>Ejemplo 2</p> <p>Vamos a realizar un programa en el que si pulsamos la tecla flecha izquierda envie a la consola el mensaje \"&lt;-\" y se se ha pulsado la tecla derecha \"-&gt;\".</p> <p> <p> Proyecto KS_UNO_control_remoto. Ejemplo 2</p> <p></p> <p>IMPORTANTE:</p> <p>Puede que no te funcione porque que tengas seleccionado un valor incorrecto del modelo del mando en el bloque correspondiente. Si este fuera el caso, cambia al valor alternativo y vuelva a intentarlo.</p> <p> <p></p> <p></p>"},{"location":"UNO/oled/","title":"Pantalla OLED","text":"<p>Aqu\u00ed encontrar\u00e1s informaci\u00f3n e instrucciones para conectar y mostrar textos o im\u00e1genes en una pantalla de tipo OLED de 0.96\" de 128x64 pixels.</p> <p>Para saber mas sobre la OLED puedes consultar Pantalla OLED.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"UNO/oled/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Pantalla OLED 0.96\"</li> <li>Cable I2C o 4 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/oled/#procedimiento","title":"Procedimiento","text":"<p>1. Comenzamos conectando la pantalla OLED a la placa a trav\u00e9s de los pines de comunicaci\u00f3n I2C seg\u00fan muestra la imagen siguiente:</p> <p> <p> Conexionado</p> <p></p> <p>Puedes hacer las conexiones con un cable I2C o utilizando cuatro cables dupont hembra-hembra.</p> <p>CUIDADO</p> <p>Si utilizas cables dupont, controla que cada cable conecte los terminales correspondientes de la placa y de la pantalla (GND con GND, VCC con VCC, SCL con SCL y SDA con SDA).</p> <p>Si utilizas un conector I2C ten cuidado de respetar el orden de los pines, es decir, que las conexiones son las mismas que con cables individuales.</p> <p>2. Sigue con la programaci\u00f3n con ArduinoBlocks: Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con ArduinoBlocks.</p> <p>3. Ve a ArduinoBlocks, inicia sesi\u00f3n y comienza un nuevo proyecto del tipo \u201cUNO\u201d:</p> <p> <p> Proyecto KS_UNO_OLED. Creaci\u00f3n</p> <p></p> <p>4. Para utilizar la pantalla OLED, primero debes inicializarla. En el bloque \u201cInicializar\u201d, sit\u00faa un bloque \u201cOLED Iniciar I2C\u201d, que encontrar\u00e1s en la categor\u00eda \"Visualizaci\u00f3n/Pantalla OLED\". Pon tambi\u00e9n el bloque \u201cLimpiar\u201d para asegurar que la pantalla no tenga nada escrito al inicio.</p> <p> <p> Proyecto KS_UNO_OLED. Inicializar</p> <p></p> <p>5. A continuaci\u00f3n, en el bloque \u201cBucle\u201d, sit\u00faa alguno de los bloques de visualizaci\u00f3n de la pantalla OLED, en funci\u00f3n de lo que desees mostrar. Comienza mostrando el texto \u201cHola\u201d, con el bloque \u201cOLED #1 Text\u2026\u201d:</p> <p> <p> Proyecto KS_UNO_OLED. Hola</p> <p></p> <p>Haz clic en el bot\u00f3n \u201cSubir\u201d situado arriba a la derecha, verificando primero que el puerto seleccionado sea correcto:</p> <p> <p> Proyecto KS_UNO_OLED. Subir</p> <p></p> <p>6. Ahora, a\u00f1ade una espera de 2 segundos (2000 milisegundos), haz que se limpie la pantalla y que a continuaci\u00f3n se muestre una imagen. Para a\u00f1adir la espera de 2 segundos, ve a la categor\u00eda \u201cTiempo\u201d y elige el bloque \u201cEsperar 1000 milisegundos\u201d. Cambia el valor a 2000. A continuaci\u00f3n, de la categor\u00eda Visualizaci\u00f3n/Pantalla OLED, elige el bloque \u201cOLED #1 Bitmap\u2026\u201d y cargalo con una imagen. Poner otra espera de 2 segundos. El c\u00f3digo completo de la programaci\u00f3n debe quedar as\u00ed:</p> <p> <p> Proyecto KS_UNO_OLED</p> <p></p>"},{"location":"UNO/oled/#funcionamiento","title":"Funcionamiento","text":"<p>En la animaci\u00f3n podemos observar el programa en funcionamiento:</p> <p> <p> Proyecto KS_UNO_OLED</p> <p></p>"},{"location":"UNO/servos/","title":"Programar servomotores","text":"<p>Antes de nada se recomienda repasar los conceptos dados en Control de un servomotor y el uso de las listas de datos.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"UNO/servos/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Servomotor 9g negro con rotaci\u00f3n de 0 a 180 grados KS0194</li> <li>Pulsador t\u00e1ctil capacitivo (KS0031) o de bot\u00f3n (KS0029).</li> <li>Cable SVG o 3 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/servos/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>2. Conecta el servomotor a alguno de los pines digital de la placa (en el ejemplo utilizaremos el pin D4), teniendo en cuenta que el cable marr\u00f3n del servomotor corresponde a la G -tierra- (color azul de la placa), el cable rojo del servomotor corresponde a la V -voltaje- (color rojo de la placa) y el cable naranja del servomotor corresponde al S -se\u00f1al- (color amarillo de la placa).</p> <p> <p> Proyecto KS_UNO_servo_conecta</p> <p></p> <p>3. Conecta el pulsador tambi\u00e9n a un pin digital (D3 en mi caso) teniendo especial cuidado que el orden de los pines sea el correcto.</p> <p>4. A partir de aqu\u00ed vamos a hacer dos ejemplos diferentes que, l\u00f3gicamente deberemos subir en cada caso a la placa para probar su funcionamiento.</p>"},{"location":"UNO/servos/#ejemplos","title":"Ejemplos","text":"<p>Ejemplo 1</p> <p>Vamos a crear un programa en el que cada vez que pulsemos el bot\u00f3n el servo gire un \u00e1ngulo de 10 grados. Si no activamos el pulsador el servo permanecer\u00e1 en su posici\u00f3n actual. La posici\u00f3n inicial del servo ser\u00e1 en cero grados y si se alcanzan los 180 grados de giro retornar\u00e1 a su posici\u00f3n inicial.</p> <p> <p> Proyecto KS_UNO_servo. Ejemplo 1</p> <p></p> <p>En la animaci\u00f3n vemos el programa funcionando.</p> <p> <p> Proyecto KS_UNO_servo. Funcionamiento Ejemplo 1</p> <p></p> <p>Ejemplo 2</p> <p>Vamos a crear un programa en el que si no activamos el bot\u00f3n el servo se mover\u00e1 entre 0 y 180 grados a int\u00e9rvalos de un segundo. Si el bot\u00f3n se acciona el servo se mover\u00e1 entre las posiciones fijadas en una lista creada al efecto.</p> <p> <p> Proyecto KS_UNO_servo. Ejemplo 2</p> <p></p> <p>En la animaci\u00f3n vemos el programa funcionando.</p> <p> <p> Proyecto KS_UNO_servo. Funcionamiento Ejemplo 2</p> <p></p>"},{"location":"UNO/tdrsteam/","title":"Placa TdR-STEAM y keyestudio UNO","text":"<p>Una alternativa que considero aconsejable para iniciarse en la programaci\u00f3n con la placa Keyestudio UNO es acompa\u00f1arla del escudo TdR STEAM. Es mas, es por donde aconsejar\u00eda comenzar.</p> <p>En la web Retos con TdR-STEAM y keyestudio UNO tienes disponible toda una colecci\u00f3n de retos y actividades realizadas con este conjunto de placas y alg\u00fan hardware adicional.</p> <p>La mayor\u00eda de retos y actividades se dan solucionadas para facilitar el aprendizaje,  pero se reta al lector a solucionar cada caso por si mismo y solamente recurrir a la soluci\u00f3n cuando resulte imprescindible.</p> <p>La descripci\u00f3n completa de la placa la podemos encontrar en el apartado espec\u00edfico que encontramos en el \u00edndice horizontal de esta web.</p> <p>El escudo tiene el aspecto que vemos en la imagen siguiente:</p> <p> <p> </p> <p></p>"},{"location":"UNO/tira/","title":"Programar una tira de LEDs","text":"<p>Para saber mas sobre tiras de LEDs RGB direccionables puedes consultar la web Tiras y matrices de LEDs.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"UNO/tira/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Tira de 8 LEDs</li> <li>Cable SVG o 3 cables dupont hembra-hembra</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/tira/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>2. Conecta la tira de LEDs a alguno de los puertos digitales de la placa. En el ejemplo utilizamos el pin D13.</p> <p> <p> Proyecto KS_UNO_tiraLEDs_conecta</p> <p></p> <p>3. La tira de LEDs debe inicializarse. Para ello, ve a la categor\u00eda \u201cVisualizaci\u00f3n/NeoPixel\u201d y coloca el bloque \u201cIniciar GRB 800Khz\u2026\u201d. A continuaci\u00f3n, cambia el n\u00famero de p\u00edxeles al n\u00famero de pixeles de tu tira (8 en el ejemplo) y selecciona el pin al que has conectado la tira (en el ejemplo utilizamos el D13)</p> <p> <p> Proyecto KS_UNO_tiraLEDs_bloque_inicializar</p> <p></p> <p>A continuaci\u00f3n del bloque \u201cIniciar\u201d, coloca un bloque \u201cLimpiar\u201d, para asegurar que todos los LEDs est\u00e9n apagados cuando se inicie el programa.</p> <p>4. En esta misma categor\u00eda ver\u00e1s que hay varias opciones para trabajar con los LEDs de manera individual. Puedes establecer el color, el brillo, etc. Ten en cuenta que la numeraci\u00f3n comienza en \u201c0\u201d, por lo que los LEDs van desde el 0 hasta el 7.</p> <p> <p> Bloques de Neopixels</p> <p></p> <p>5. Si deseas iluminar un p\u00edxel en concreto de un color, s\u00f3lo tienes que situar el bloque \u201cEstablecer p\u00edxel #\u2026\u201d en el bloque \u201cBucle\u201d, indicar el n\u00famero del LED que deseas iluminar y a continuaci\u00f3n poner el bloque \u201cMostrar\u201d. A continuaci\u00f3n vemos como hacer parpadear en color rojo al LED 3.</p> <p> <p> Iluminar un pixel de un color</p> <p></p> <p>Puedes construir y subir el programa de la imagen anterior para probar su funcionamiento.</p> <p>6. Vamos a implementar como ejemplo un sem\u00e1foro. Haremos primero que los LEDs muestren el color rojo durante 2 segundos, a continuaci\u00f3n se apagar\u00e1n y se mostrar\u00e1n en color naranja durante 1 segundo. Por \u00faltimo, se apagar\u00e1n de nuevo y se mostrar\u00e1n de color verde durante 2 segundos, como si fuera un sem\u00e1foro. El encendido y apagado de todos los LEDs se resolver\u00e1 mediante bucles. Para empezar, de la categor\u00eda \"Control\", elije \"contar con...\" y establece el valor \"hasta\" en 7, dejando el resto como est\u00e1. Dentro del bucle, desde la categoria \u201cVisualizaci\u00f3n / NeoPixel\u201d, elije el bloque \u201cEstablecer p\u00edxel #\u201d, para definir el pixel a iluminar tras # debes poner la variable del bucle y define el color rojo. A continuaci\u00f3n, pon el bloque \u201cMostrar\u201d, seguido de una pausa de 2000 milisegundos (de la categor\u00eda \u201cTiempo\u201d). Para apagar los LEDs, repite el bucle de nuevo esta vez sin retardo y estableciendo el color negro, seguido del bloque \u201cMostrar\u201d. Los tiempos de espera se deben establecer fuera de los bucles para que todos los LEDs se enciendan al mismo tiempo. En caso contrario el retardo se producir\u00e1 en cada iteraci\u00f3n. Para que el cambio de color se aprecie a\u00fan mas podemos establecer un peque\u00f1o retardo tras el apagado. El programa completo es el siguiente:</p> <p> <p> Proyecto KS_UNO_tiraLEDs</p> <p></p>"},{"location":"UNO/ultrason/","title":"Programar el sensor de ultrasonidos","text":"<p>Antes de nada se recomienda repasar los conceptos dados en El sensor de ultrasonidos HC-SR04.</p> <p>Por seguridad</p> <p>Es muy conveniente tener la placa desprovista de cualquier tipo de alimentaci\u00f3n mientras realizamos el conexionado de elementos. En caso contrario se pueden producir despefectos irreversibles en cualquiera de los elementos.</p>"},{"location":"UNO/ultrason/#material-necesario","title":"Material necesario","text":"<ul> <li>Placa Keyestudio UNO</li> <li>Sensor de ultrasonidos HC-SR04</li> <li>Ordenador. Antes de empezar a utilizar la placa Keyestudio UNO, es necesario comprobar que nuestro dispositivo est\u00e9 listo para trabajar. Encontrar\u00e1s toda la informaci\u00f3n en Antes de.</li> </ul>"},{"location":"UNO/ultrason/#procedimiento","title":"Procedimiento","text":"<p>1. Ejecuta el programa AB-Connector. Recuerda que debe estar en ejecuci\u00f3n todo el rato mientras trabajas con Arduinoblocks. Iniciamos un nuevo proyecto de tipo \"UNO\".</p> <p>2. Conecta el sensor a pines digitales de la placa (en el ejemplo utilizaremos el pin D2 para Trigger y D3 para Echo). Adem\u00e1s tienes que conectar los pines de alimentaci\u00f3n teniendo especial cuidado de que VCC se conecta con V y Gnd con G.</p> <p> <p> Proyecto KS_UNO_ultrasonidos. Conexionado</p> <p></p> <p>Hemos conectado el pin \u201cTrig\u201d del sensor al pin D2 de la placa y el pin \u201cEcho\u201d al pin D3, para hacerlos coincidir con los que indica el bloque que vamos a utilizar en Arduinoblocks. Si quieres puedes utilizar otros pines para realizar las conexiones, haciendo los cambios correspondientes en el bloque en Arduinoblocks. </p> <p>IMPORTANTE:</p> <p>El sensor funciona a 5V. comprueba que tienes el interruptor selector de voltaje en la posici\u00f3n correcta:</p> <p> <p></p> <p></p> <p>3. Vamos a crear un programa en el que cada segundo se env\u00ede a la consola una composici\u00f3n de texto de la forma \"Distancia medida: xx.xx cm\". El programa puede ser como el siguiente:</p> <p> <p> Proyecto KS_UNO_ultrasonidos</p> <p></p> <p>La consola nos mostrar\u00e1 resultados de la forma siguiente:</p> <p> <p> Consola de proyecto KS_UNO_ultrasonidos</p> <p></p>"},{"location":"ayuda/ayuda/","title":"Ayuda","text":"<p>Esta es una secci\u00f3n de ayuda para iniciar una web con la plantilla y para cuando tengas problemas escribiendola. \u00dasalo como consulta mientras la est\u00e1s redactando (la web), pero recuerda comentarlo en el <code>mkdocs.yml</code> para que no aparezca en tu web.</p>"},{"location":"ayuda/ayuda/#resumen-del-proceso-a-seguir","title":"Resumen del proceso a seguir","text":"<p>Crear repositorio en la nube     \u2022 Le ponemos nombre y descripci\u00f3n     \u2022 Le a\u00f1adimos README.md.     \u2022 Le a\u00f1adimos Licencia MIT     \u2022 Le a\u00f1adimos .gitignore     \u2022 Arreglamos README.md y ponemos Acceso a contenidos con la direcci\u00f3n web que nos da en Settings \u2192 Pages     \u2022 Le a\u00f1adimos rama gh-pages Nos dirigimos al directorio en el que vamos a trabajar y hacemos      \u2022 $ git clone \u2026 (a\u00f1adimos la direcci\u00f3n https que obtenemos de Code) Copiamos de Plantilla:     \u2022 Carpeta docs     \u2022 mkdocs.yml     \u2022 Pipfile     \u2022 .gitignore     \u2022 requirements.txt     \u2022 LICENSE     \u2022 guia</p> <p>Tenemos que preparar el equipo para trabajar con la plantilla. Nos situamos en la carpeta con la que vamos a trabajar, abrimos una terminal y creamos el entorno virtual e instalamos todas las dependencias con:</p> <pre><code>\u2022 Creamos el entorno virtual: python3 -m venv env\n\u2022 Activamos el entorno virtual: source env/bin/activate\n\u2022 Instalamos las dependencias: pip install -r requirements.txt\n</code></pre> <p>Abrimos VSCode y configuramos mkdocs.yml para tener un \u00edndice operativo comentando todo lo pendiente.</p> <p>Trabajamos el directorio Miscelanea y sus archivos para dejarlo todo funcionando.</p> <pre><code>\u2022 Activar el entorno virtual si no est\u00e1 activado: source env/bin/activate\n\u2022 Correr el servidor: mkdocs serve. Si se genera el error -- ERROR   -  Config value 'plugins': The \"glightbox\" plugin is not installed \u2013 procedemos a instalar el plugin con \u2018pip install mkdocs-glightbox\u2019.\n</code></pre> <p>Cerrar Server para hacer el primer despliegue y comprobar que todo es correcto con: pipenv run mkdocs gh-deploy</p>"},{"location":"ayuda/ayuda/#aspecto-final-del-navegador","title":"Aspecto final del navegador","text":"<p><code>mkdocs.yml</code> -&gt; Debe quedar el punto 4 m\u00e1s o menos as\u00ed</p> <pre><code>...\n\n# 4. Navegaci\u00f3n\nnav:\n  - Manual de Sanp\u00a1:\n    - 1. Bloques, Scripts y Sprites: index.md\n    - 1.1. Sprites y paralelismo: 1/1_1.md\n    - 1.2. Anidamiento de Sprites. Anclajes y Partes: 1/1_2.md\n    - 1.3. Bloques informadores y expresiones: 1/1_3.md\n    - 1.4. Predicados y evaluaci\u00f3n condicional: 1/1_4.md\n    - 1.5. Variables: 1/1_5.md\n  - 2. Salvando y cargando proyectos y media:\n    ...\n\n#- Ayuda:\n    #- Chuleta: /ayuda/ayuda.md\n    #- Chuleta de Markdown: ayuda/markdown.md\n    #- Chuleta de Material Design: ayuda/material.md\n\n - Miscelanea:\n    - Autor: Miscelanea/about.md \n    - Licencias: Miscelanea/lic.md\n    - Webgrafia/Bibliograf\u00eda: Miscelanea/webgrafia.md\n    - Software utilizado: Miscelanea/soft.md\n\n...\n</code></pre> <p>Tienes una ayuda b\u00e1sica para desenvolverte con Markdown. Y otra para poder sacarle m\u00e1s partido al tema Material Design:</p> <ol> <li>Escribir Markdown</li> <li>Sacarle jugo al tema Material Design</li> </ol>"},{"location":"ayuda/ayuda/#guia-con-mi-formato-y-otras-cosas","title":"Guia con mi formato y otras cosas","text":"<p>Establecer color, tama\u00f1o y negrita con html:</p> <p>aa <p>Colores para los tres primeros niveles del \u00edndice:</p>"},{"location":"ayuda/ayuda/#nivel-indice-1","title":"Nivel indice 1","text":""},{"location":"ayuda/ayuda/#nivel-indice-2","title":"Nivel indice 2","text":""},{"location":"ayuda/ayuda/#nivel-indice-3","title":"Nivel indice 3","text":"<p>Idea base para im\u00e1gnes y gif animados:</p> <p> <p> aa</p> <p></p> <p>Idea b\u00e1sica para im\u00e1genes y gif mas acceso a programa, enlace, etc:</p> <p> <p> aa Aqui ponemos acceso a programa, enlace u otra cosa</p> <p></p> <p>Como crear un \u00edndice de enlaces internos con html</p> <p></p> <p>Entrada 1 Entrada 2 Entrada 3 Entrada 4</p> <p>[Volver](#item00 </p>"},{"location":"ayuda/markdown/","title":"Chuleta de Markdown","text":"<p>Esta es solo una chuleta de Markdown b\u00e1sico. En esta web tienes una referencia muy buena -&gt; Web de Markdown.</p> <p>Para escribir Markdown se recomienda usar como editor VSCode o VSCodium con las extensiones:</p> <ul> <li>Markdown All in One</li> <li>Markdownlint</li> </ul>"},{"location":"ayuda/markdown/#titulos","title":"T\u00edtulos","text":""},{"location":"ayuda/markdown/#esto-es-un-titulo-1-usar-solo-al-principio-del-fichero","title":"Esto es un t\u00edtulo 1 -&gt; Usar solo al principio del fichero","text":""},{"location":"ayuda/markdown/#esto-es-un-titulo-2-usar-para-dividir-en-secciones","title":"Esto es un t\u00edtulo 2 -&gt; Usar para dividir en secciones","text":""},{"location":"ayuda/markdown/#esto-es-un-titulo-3-usar-para-dividir-en-subsecciones","title":"Esto es un t\u00edtulo 3 -&gt; Usar para dividir en subsecciones","text":""},{"location":"ayuda/markdown/#esto-es-un-titulo-4-no-recomendado-su-uso","title":"Esto es un t\u00edtulo 4 -&gt; No recomendado su uso","text":""},{"location":"ayuda/markdown/#esto-es-un-titulo-5-no-recomendado-su-uso","title":"Esto es un t\u00edtulo 5 -&gt; No recomendado su uso","text":""},{"location":"ayuda/markdown/#esto-es-un-titulo-6-no-recomendado-su-uso","title":"Esto es un t\u00edtulo 6 -&gt; No recomendado su uso","text":""},{"location":"ayuda/markdown/#textos","title":"Textos","text":"<p>Texto en negrita. Texto en cursiva.  </p> <p>Para poner un salto de linea tienes que poner dos espacios en blanco despu\u00e9s del punto. Esta l\u00ednea est\u00e1 debajo. Pero esta sale seguido.</p> <p>O debes de poner una l\u00ednea vac\u00eda entre medias.</p>"},{"location":"ayuda/markdown/#enlaces","title":"Enlaces","text":"<p>As\u00ed se pone un enlace a una p\u00e1gina de Internet.</p> <p>As\u00ed se pone un enlace a una p\u00e1gina del propio taller.</p>"},{"location":"ayuda/markdown/#imagenes","title":"Im\u00e1genes","text":"<p>As\u00ed se pone una imagen desde Internet</p> <p></p> <p>Y as\u00ed se pone una imagen desde el propio taller</p> <p></p>"},{"location":"ayuda/markdown/#listas","title":"Listas","text":"<p>Listas sin orden con <code>*</code>, ejemplo:</p> <ul> <li>Esto es una lista</li> <li>Lista sin orden.</li> </ul> <p>Listas ordenadas con <code>1.</code>, ejemplo:</p> <ol> <li>Esto es una</li> <li>Lista ordenada</li> </ol>"},{"location":"ayuda/markdown/#citas","title":"Citas","text":"<p>Si quieres poner una cita tienes que usar <code>&gt;</code> delante del texto, ejemplo:</p> <p>Esto es una cita</p> <p>Esto es una cita anidada</p> <p>Esto es una cita doblemente anidada</p>"},{"location":"ayuda/markdown/#regla-horizontal","title":"Regla horizontal","text":"<p>Se hace para poner una l\u00ednea que divisa visualmente una secci\u00f3n de otra.</p> <p>Aqu\u00ed hay una.</p>"},{"location":"ayuda/markdown/#tablas","title":"Tablas","text":"<p>En este ejemplo tienes una tabla con 3 columnas:</p> <ul> <li>La primera tiene el texto fijado a la izquierda.</li> <li>La segunda tiene el texto fijado al centro.</li> <li>La tercera tiene el texto fijado a la derecha.</li> </ul> Texto a la izquierda Texto en el centro Texto en la derecha En un lugar de la mancha, de cuyo nombre no quiero acordarme, no ha mucho tiempo que vivia un hidalgo de los de lanza en astillero, adarga antigua, roc\u00edn flaco y galgo corredor..."},{"location":"ayuda/markdown/#lineas-de-codigo","title":"L\u00edneas de c\u00f3digo","text":"<p>Para poner c\u00f3digo en l\u00ednea, tienes que ponerlo entre las comillas `.</p> <p>Aqu\u00ed tienes <code>un ejemplo de c\u00f3digo</code> en l\u00ednea.</p> <p>Si quisieras poner un bloque de c\u00f3digo tienes que poner 3 comillas `, debajo el c\u00f3digo, y una \u00faltima l\u00ednea con otras 3 comillas. Puedes incluso espec\u00edficarle el lenguaje del c\u00f3digo para que te lo coloree. Ah\u00ed va un ejemplo en Python:</p> <pre><code>import antigravity\n\nprint('Hola mundo')\n</code></pre>"},{"location":"ayuda/material/","title":"Material Design","text":"<p>Esta chuleta es un copia-pega modificado de esta p\u00e1gina. B\u00e1sicamente es un Markdown espec\u00edfico para poder ser usado con el tema Material Design y sacarle m\u00e1s partido.</p>"},{"location":"ayuda/material/#enlaces","title":"Enlaces","text":"<p>Existe la posibilidad de utilizar referencias a enlaces que se definen posteriormente. En ese caso unicamente incluimos el n\u00famero de enlace. M\u00e1s adelante es necesario definir el enlace que corresponde con cada n\u00famero y, opcionalmente, un texto descriptivo.</p> <pre><code>:::markdown\nPodemos comprar un ordenador (Dell)[1] o (Apple)[2].\n\n[1]: http://dell.com/   \"Comprar en Dell\"\n[2]: http://apple.com/  \"Comprar en Apple\"\n</code></pre> <p>Podemos comprar un ordenador Dell o Apple.</p>"},{"location":"ayuda/material/#imagenes","title":"Imagenes","text":"<p>Tambi\u00e9n es posible utilizar referencias que es necesario definir posteriormente.</p> <pre><code>:::markdown\n![texto alternativo][id]\n\n[id]: /img/md-logo.png \"Titulo opcional\"\n</code></pre> <p></p>"},{"location":"ayuda/material/#secuencias-de-escape","title":"Secuencias de escape","text":"<p>Puede ocurrir que alguno de los caracteres especiales utilizados en markdown aparezcan de forma fortuita en el texto y originen efectos no deseados. Para evitarlo podemos utilizar las secuencias de escape para especificar que deseamos utilizar el caracter como texto sin que tenga ning\u00fan efecto colateral. Podemos utilizar el caracter '\\' junto con cualquiera de los siguientes para crear una secuencia de escape.</p> <pre><code>\\ backslash\n` backtick\n* asterisco\n_ underscore\n{} curly braces\n[] square brackets\n() parentheses\n# hash mark\n+ plus sign\n- minus sign (hyphen)\n. dot\n! exclamation mark\n</code></pre>"},{"location":"ayuda/material/#codigo","title":"C\u00f3digo","text":"<p>Para marcar texto como c\u00f3digo es necesario indentar cada l\u00ednea del bloque con cuatro espacios o una tabulaci\u00f3n. Si el c\u00f3digo va embebido en un p\u00e1rrafo, es neceario rodearlo por comillas simples invertidas. Consultar la secci\u00f3n de CodeHilite y de InlineHilite para funcionalidades extendidas.</p>"},{"location":"ayuda/material/#extensiones","title":"Extensiones","text":""},{"location":"ayuda/material/#admonition","title":"Admonition","text":"<p>Extensi\u00f3n incluida en la librer\u00eda est\u00e1ndar de Markdown que permite incluir contenido adicional en cajas de color con un t\u00edtulo y un icono. Por ejemplo para res\u00famenes, notas, consejos o avisos.</p> <pre><code>!!! note\n    Esto es un ejemplo de nota (note, seealso).\n</code></pre> <p>Note</p> <p>Esto es un ejemplo de nota (note, seealso).</p> <pre><code>!!! note \"Esta es una nota con t\u00edtulo\"\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n    Nulla et euismod nulla. Curabitur feugiat, tortor non\n    consequat finibus, justo purus auctor massa, nec semper\n    lorem quam in massa.\n</code></pre> <p>Esta es una nota con t\u00edtulo</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! note \"\"\n    Esta nota va sin t\u00edtulo.\n</code></pre> <p>Esta nota va sin t\u00edtulo.</p> <p>En vez de note es posible utilizar las siguientes etiquetas: summary, info, tip, success, question, warning, failure, danger, bug y quote.</p> <p>Summary</p> <p>Esto es un ejemplo de sumario (summary, tldr).</p> <p>Info</p> <p>Esto es un ejemplo de bloque informativo (info, todo).</p> <p>Tip</p> <p>Esto es un ejemplo de consejo o truco (tip, hint, important).</p> <p>Success</p> <p>Esto es un ejemplo de bloque de \u00e9xito (success, check, done).</p> <p>Question</p> <p>Esto es un ejemplo de pregunta (question, help, faq).</p> <p>Warning</p> <p>Esto es un ejemplo de precauci\u00f3n (warning, caution, attention).</p> <p>Failure</p> <p>Esto es un ejemplo de fallo (failure, fail, missing).</p> <p>Danger</p> <p>Esto es un ejemplo de peligro (danger, error).</p> <p>Bug</p> <p>Esto es un ejemplo de error (bug).</p> <p>Quote</p> <p>Esto es un ejemplo de cita (quote, cite).</p>"},{"location":"ayuda/material/#details","title":"Details","text":"<p>Para crear bloques colapsables que puedan ocultar su contenido.</p> <p>Ejemplo: <pre><code>??? \"Bloque cerrado. Abreme !!!\"\n    Ahora lo has abierto.\n</code></pre> Resultado:</p> Bloque cerrado. Abreme !!! <p>Ahora lo has abierto.</p> <p>Ejemplo: <pre><code>???+ \"Bloque abierto inicialmente\"\n\n    ??? \"Bloque dentro de otro bloque\"\n        Algo de contenido.\n</code></pre> Resultado:</p> Bloque abierto inicialmente Bloque dentro de otro bloque <p>Algo de contenido.</p> <p>Ejemplo: <pre><code>??? danger \"Bloque con tema de peligro\"\n    Algo de contenido.\n</code></pre> Resultado:</p> Bloque con tema de peligro <p>Algo de contenido.</p> Bloque con tema de precauci\u00f3n <p>Algo de contenido.</p> Bloque con tema de \u00e9xito <p>Algo de contenido.</p>"},{"location":"ayuda/material/#codehilite","title":"CodeHilite","text":"<p>Extensi\u00f3n incluida en la librer\u00eda est\u00e1ndar de Markdown que permite resaltar la sintaxis de los bloques de c\u00f3digo. Como lenguajes soportados est\u00e1n entre otros: markdown, python, c, cpp, csharp, html, javascript, JSON, XML.</p> <p>Ejemplo utilizando comillas simples.</p> <pre><code>``` python\nimport tensorflow as tf\n```\n</code></pre> <p>Resultado:</p> <pre><code>import tensorflow as tf\n</code></pre> <p>Ejemplo utilizando bloque tabulado con cuatro espacios:</p> <pre><code>    :::python\n    \"\"\" Bubble sort \"\"\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <p>Resultado:</p> <pre><code>:::python\n\"\"\" Bubble sort \"\"\"\ndef bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <p>Ejemplo utilizando bloque tabulado y n\u00fameros de l\u00ednea:</p> <pre><code>    #!python\n    \"\"\" Bubble sort \"\"\"\n    def bubble_sort(items):\n        for i in range(len(items)):\n            for j in range(len(items) - 1 - i):\n                if items[j] &gt; items[j + 1]:\n                    items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <p>Resultado:</p> <pre><code>#!python\n\"\"\" Bubble sort \"\"\"\ndef bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <p>Es posible resaltar l\u00edneas concretas de c\u00f3digo con hl_lines.</p> <pre><code>    #!python hl_lines=\"3 4\"\n</code></pre> <p>Resultado:</p> <pre><code>#!python hl_lines=\"3 4\"\n\"\"\" Bubble sort \"\"\"\ndef bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"ayuda/material/#inlinehilite","title":"InlineHilite","text":"<p>Permite embeber c\u00f3digo en el texto mediante <code>#!languaje code</code> o bien <code>:::languaje code</code> entre comillas simples inversas.</p> <p>Ejemplo: <pre><code>Aqui se presenta este c\u00f3digo `#!c #include &lt;stdio.h&gt;` embebido en el texto.\n</code></pre> Resultado:</p> <p>Aqui se presenta este c\u00f3digo <code>#include &lt;stdio.h&gt;</code> embebido en el texto.</p> <p>Ejemplo: <pre><code>Aqui se presenta este otro c\u00f3digo `:::c #include &lt;stdlib.h&gt;` embebido en el texto.\n</code></pre> Resultado:</p> <p>Aqui se presenta este otro c\u00f3digo <code>#include &lt;stdlib.h&gt;</code> embebido en el texto.</p> <p>Ejemplo: <pre><code>C\u00f3digo javascript: `#!js function pad(v){return ('0'+v).split('').reverse().splice(0,2).reverse().join('')}`.\n</code></pre> Resultado:</p> <p>C\u00f3digo javascript: <code>function pad(v){return ('0'+v).split('').reverse().splice(0,2).reverse().join('')}</code>.</p>"},{"location":"ayuda/material/#mark","title":"Mark","text":"<p>Permite marcar texto en amarillo fosforito.</p> <p>La anterior frase se ha generado as\u00ed: <pre><code>Permite marcar texto en ==amarillo fosforito==.\n</code></pre></p>"},{"location":"ayuda/material/#footnotes","title":"Footnotes","text":"<p>Otra extensi\u00f3n de la libreria est\u00e1ndar para incluir notas al pie de p\u00e1gina. Se inserta una referencia en el texto, la cual puede ser definida en cualquier parte del documento. La definici\u00f3n aparecer\u00e1 en el pie de p\u00e1gina. La referencia consiste en un sombrerete seguido de un identificador num\u00e9rico [1, 2, 3, ...] o bien de nombres [Cuartas et al. 2012].</p> <p>Ejemplo:</p> <pre><code>Lorem ipsum[^1] dolor sit amet, consectetur adipiscing elit.[^2]\n</code></pre> <p>Resultado:</p> <p>Lorem ipsum<sup>1</sup> dolor sit amet, consectetur adipiscing elit.<sup>2</sup></p> <p>La definici\u00f3n de los contenidos de la nota al pie puede realizarse en una \u00fanica l\u00ednea si el texto es corto:</p> <pre><code>[^1]: Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n</code></pre> <p>o bien en un bloque de texto indentado cuatro espacios, que comienze en la siguiente l\u00ednea de la etiqueta, si el texto es largo.</p> <pre><code>[^2]:\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod\n    nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor\n    massa, nec semper lorem quam in massa.\n</code></pre>"},{"location":"ayuda/material/#arithmatex-mathjax","title":"Arithmatex MathJax","text":"<p>Basado en MathJax. Permite introducir equaciones escritas en TeX dentro de bloques o en l\u00ednea con el texto. Ver este hilo para una r\u00e1pida referencia sobre la sintaxis TeX.</p> <p>Ejemplo: <pre><code>$$\\frac{n!}{k!(n-k)!} = \\binom{n}{k}$$\n\n$$\\sum_{i=0}^n i^2 = \\frac{(n^2+n)(2n+1)}{6}$$\n</code></pre> Resultado:</p> \\[\\frac{n!}{k!(n-k)!} = \\binom{n}{k}\\] \\[\\sum_{i=0}^n i^2 = \\frac{(n^2+n)(2n+1)}{6}\\] <p>Ejemplo: <pre><code>Lorem ipsum dolor sit amet: $p(x|y) = \\frac{p(y|x)p(x)}{p(y)}$\n</code></pre></p> <p>Resultado:</p> <p>Lorem ipsum dolor sit amet: \\(p(x|y) = \\frac{p(y|x)p(x)}{p(y)}\\)</p>"},{"location":"ayuda/material/#letras-griegas","title":"Letras griegas","text":"<p><code>$\\alpha, \\beta, ..., \\omega$</code></p> <p>\\(\\alpha, \\beta, ..., \\omega\\)</p> <p><code>$\\Gamma, \\Delta, ..., \\Omega$</code></p> <p>\\(\\Gamma, \\Delta, ..., \\Omega\\)</p>"},{"location":"ayuda/material/#superindices-y-subindices","title":"Superindices y subindices","text":"<p><code>$x_i^2  \\log_2 x$</code></p> <p>\\(x_i^2  \\log_2 x\\)</p>"},{"location":"ayuda/material/#grupos","title":"Grupos","text":"<p>Super\u00edndices, sub\u00edndices y otras operaciones aplican solamente al siguiente \"grupo\". Un \"grupo\" es un \u00fanico s\u00edmbolo o un cualquier f\u00f3rmula ubicada entre llaves {...}</p> <p><code>$10^10$</code></p> <p>\\(10^10\\)</p> <p><code>$10^{10}$</code></p> <p>\\(10^{10}\\)</p> <p><code>${x^y}^z$</code></p> <p>\\({x^y}^z\\)</p> <ol> <li> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u00a0\u21a9</p> </li> <li> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\u00a0\u21a9</p> </li> </ol>"},{"location":"cocube/broadcast/","title":"Eventos de transmisi\u00f3n o broadcast","text":""},{"location":"cocube/broadcast/#objetivo","title":"Objetivo","text":"<p>Programaci\u00f3n del robot CoCube para sincronizar procesos a trav\u00e9s de broadcast.</p>"},{"location":"cocube/broadcast/#materiales","title":"Materiales","text":"<p>Robot CoCube, pinza con servomotor y ordenador ejecutando el IDE de MicroBlocks.</p> <p> <p></p> <p></p>"},{"location":"cocube/broadcast/#programacion","title":"Programaci\u00f3n","text":"<p>Anteriormente, nos hemos referido principalmente a las estructuras secuenciales, donde el programa ejecuta cada instrucci\u00f3n paso a paso en un orden predeterminado. Sin embargo, en la pr\u00e1ctica, a menudo nos encontramos con situaciones en las que necesitamos ejecutar varias tareas al mismo tiempo. Aqu\u00ed es donde entra en juego la funci\u00f3n de transmisi\u00f3n (broadcast). En este caso, explicaremos c\u00f3mo la funci\u00f3n de difusi\u00f3n env\u00eda mensajes y c\u00f3mo utilizar este mecanismo para lograr la ejecuci\u00f3n paralela de dos partes de un programa.</p> <p>1. Conectar dispositivos: conecta el IDE de MicroBlocks al robot CoCube mediante medios cableados o inal\u00e1mbricos.</p> <p>2. Encuentra los bloques: Abre la opci\u00f3n \"Control\", busca los bloques \"al recibir\" y \"env\u00eda\" y arr\u00e1stralos al espacio de trabajo como se muestra en la imagen siguiente. La funci\u00f3n de transmisi\u00f3n se logra a trav\u00e9s de los dos bloques de construcci\u00f3n anteriores.</p> <p> <p></p> <p></p> <ul> <li>Ejecuci\u00f3n de programas: A trav\u00e9s de la funci\u00f3n de transmisi\u00f3n, es posible controlar el movimiento del robot CoCube y ejecutarlo en paralelo con la pantalla TFT. Haz los dos programas siguientes para experimentar la diferencia que ofrece la funci\u00f3n de transmisi\u00f3n.</li> </ul> <p> <p></p> <p></p> <p>A continuaci\u00f3n realizamos el programa de movimiento entre los puntos A y E utilizando el evento broadcast.</p> <p> <p> Descargar programa</p> <p></p> <p>El resultado es el siguiente:</p> <p> <p> </p>"},{"location":"cocube/broadcast/#reto-vehiculo-con-movimiento-y-sonido","title":"Reto: Veh\u00edculo con movimiento y sonido","text":"<p>Probablemente hayas visto un cami\u00f3n u otro veh\u00edculo que cuando est\u00e1 en funcionamiento, se mueve o hace algo mientras emite sonidos para alertar a los peatones cercanos y que se alejen. Intentemos simular el funcionamiento de un veh\u00edculo de este tipo.</p> <p>El programa ser\u00eda el siguiente:</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/com_UDP/","title":"Comunicaciones UDP","text":""},{"location":"cocube/com_UDP/#objetivo","title":"Objetivo","text":"<p>Programaci\u00f3n de al menos dos robots CoCube para enviar y recibir datos por UDP.</p> <p>Nos basamos en la adaptaci\u00f3n realizada en Control remoto por UDP que a su vez es una adaptaci\u00f3n de la entrada Remote control using UDP disponible en la MicroBlocks Wiki como una demostraci\u00f3n del uso de UDP en MicroBlocks.</p> <p>Aprenderemos a transmitir y recibir mensajes utilizando el Protocolo de Datagramas de Usuario (User Datagram Protocol o UDP).</p> <p>Dibujaremos y borraremos un cuadrado de color aleatorio en la pantalla TFT como respuesta a los correspondientes mensajes UDP enviados. En el caso de CoCube se asocia un cuadrado de 44x44 centrado en la primera fila (100,3) al pin de programaci\u00f3n por lo que veremos parpadear dicho cuadrado cuando se realizan operaciones que utilizan el pin. En el ejemplo usaremos el bloque de \"Salida\" denominado \"enciende LED integrado\" para controlar este elemento.</p> <p>En nuestro caso vamos a utilizar solamente robots CoCube para hacerlo, y estos tienen las caracter\u00edsticas necesarias para hacerlo:</p> <ul> <li>Soportan WiFi</li> <li>Disponen de botones</li> </ul>"},{"location":"cocube/com_UDP/#materiales","title":"Materiales","text":"<ul> <li>uno o m\u00e1s CoCube</li> <li>ordenador ejecutando el IDE de MicroBlocks.</li> <li>un tel\u00e9fono m\u00f3vil con Android (opcional).</li> </ul> <p>Si s\u00f3lo tienes un CoCube, puedes usarlo en combinaci\u00f3n con la APP del tel\u00e9fono m\u00f3vil con Android. En el peor de los casos, si no tienes placas disponibles, pero posees un tel\u00e9fono m\u00f3vil con Android puedes experimentar con este tutorial usando tu tel\u00e9fono.</p> <p>En cuanto a la disponibilidad de WiFi, puedes empezar utilizando el proporcionado por el router de tu casa.</p> <p>Tambi\u00e9n describiremos una forma en la que puedes crear tu propio HotSpot WiFi, que ser\u00e1  muy \u00fatil si planeas trabajar en un \u00e1rea sin servicio WiFi.</p> <p>HotSpot WiFi</p> <p>Un HotSpot WiFi es un lugar f\u00edsico donde los usuarios pueden conectar a internet de forma inal\u00e1mbrica dispositivos como tel\u00e9fonos m\u00f3viles o tablets.</p> <p> <p></p> <p></p>"},{"location":"cocube/com_UDP/#programacion","title":"Programaci\u00f3n","text":"<p>La idea es que todos los CoCube ejecuten exactamente el mismo programa y hagan exactamente lo mismo: encender y apagar el cuadrado asociado al LED de la placa al recibir mensajes UDP y enviar mensajes al pulsar alguno de los botones. Veamos el programa por partes:</p> <p>\\(\\blacktriangleright\\) Bloque al empezar: gestiona el inicio de sesi\u00f3n WiFi, muestra la direcci\u00f3n IP obtenida del router local e inicia el puerto UDP. A continuaci\u00f3n, el script entra en un bucle de recepci\u00f3n de mensajes y los muestra en el IDE.</p> <p> <p> </p> <p></p> <p>En caso de no configurar WiFi correctamente aparecer\u00e1 en el IDE el siguiente mensaje:</p> <p> <p> </p> <p></p> <p>\\(\\blacktriangleright\\) cuando bot\u00f3n A: el bloque env\u00eda un mensaje de difusi\u00f3n UDP con \"CUADRO\" como contenido. Si la IP es 255.255.255.255 el mensaje se envia a todas las placas que est\u00e9n en la red y si es una IP concreta el mensaje se envia a la placa con esa IP. El mensaje es enviado al soltar el bot\u00f3n.</p> <p> <p> </p> <p></p> <p>\\(\\blacktriangleright\\) Bloque BUFFER = CUADRO: act\u00faa sobre el mensaje CUADRO recibido y conmuta el estado del cuadrado asociado al LED integrado. Si estamos trabajando con al menos dos placas podemos observar como al pulsar el bot\u00f3n A en una placa aparece el mensaje en el IDE de este bloque en la otra y placa cambia de estado visible o no visible del citado cuadrado asociado al LED.</p> <p> <p> </p> <p></p> <p>\\(\\blacktriangleright\\) cuando bot\u00f3n B: el bloque env\u00eda un mensaje de difusi\u00f3n UDP con \"BORRA\" como contenido. Si la IP es 255.255.255.255 el mensaje se envia a todas las placas que est\u00e9n en la red y si es una IP concreta el mensaje se envia a la placa con esa IP. El mensaje es enviado al soltar el bot\u00f3n.</p> <p> <p> </p> <p></p> <p>\\(\\blacktriangleright\\) Bloque BUFFER = BORRA: act\u00faa sobre el mensaje BORRA recibido y apaga tanto el cuadrado asociado al LED integrado como el cuadrado dibujado.</p> <p> <p> </p> <p></p> <p>\\(\\blacktriangleright\\) Bloque envia paquete UDP...: El programa incluye un bloque de env\u00edo UDP separado que puedes utilizar para ejercer la opci\u00f3n de enviar un mensaje UDP a ti mismo o a otro dispositivo espec\u00edfico.</p> <p> <p> </p> <p></p> <p>Para ello, es necesario tomar nota de la direcci\u00f3n IP mostrada al inicio del programa y luego dirigir el mensaje a esa direcci\u00f3n espec\u00edfica para las respectivas placas de prueba.</p> <p>Si est\u00e1s utilizando la APP de Android, tendr\u00e1 su IP mostrada en la parte superior de la pantalla.</p> <p>El programa completo lo tienes en la imagen siguiente y en el enlace lo puedes descargar. No olvides configurar tus datos WiFi para que funcione correctamente.</p> <p> <p> Descargar programa</p> <p></p> <p>A continuaci\u00f3n podemos observar el funcionamiento entre dos CoCubes del programa y observar como se puede conmutar la visibilidad del cuadrado asociado al LED integrado.</p> <p> <p> </p> <p></p>"},{"location":"cocube/contCoCube/","title":"Antes de","text":"<p>Informaci\u00f3n basada en:</p> <ul> <li>CoCube</li> <li>Wiki CoCube</li> </ul> <p>Los contenidos que se exponen en este apartado son una adaptaci\u00f3n y ampliaci\u00f3n de los ofrecidos en los enlaces de referencia.</p>"},{"location":"cocube/contCoCube/#cocube","title":"CoCube","text":"<p>CoCube es una plataforma modular m\u00falti-robot de sobremesa para la educaci\u00f3n y la investigaci\u00f3n</p> <p>CoCube ha sido desarrollado por:  <p>Shuai Liang\\(^{(1,2,4)}\\), Songyi Zhu\\(^{(2,4)}\\), Zhonghan Tang\\(^{(2)}\\), Chenhui Li\\(^{(2)}\\), Wenjie Wu\\(^{(3)}\\), Jialing Han\\(^{(1)}\\), Zemin Lin\\(^{(4)}\\), Zhongrui You\\(^{(2)}\\), John Maloney\\(^{(3)}\\), Bernat Romagosa\\(^{(3)}\\), Bin Zhao\\(^{(2)}\\), Zhigang Wang\\(^{(2)}\\), Zhinan Zhang\\(^{(4)}\\), Xuelong Li\\(^{(2,5)}\\)</p> <p>\\(^{(1)}\\) Universidad de Fudan, , \\(^{(2)}\\) Laboratorio de IA de Shangh\u00e1i, , \\(^{(3)}\\)MicroBlocks, \\(^{(4)}\\) Universidad Jiao Tong de Shangh\u00e1i, \\(^{(5)}\\) Instituto de Inteligencia Artificial y China Telecom Corp Ltd.</p> <p> </p> <p></p> <p>Plataforma CoCube: El hardware incluye</p> <ul> <li>robots CoCube</li> <li>CoModules, que son m\u00f3dulos para ampliar la funcionalidad. Est\u00e1n basados en conectores con pines pogo accionados por resorte dotados de imanes que facilitan la conexi\u00f3n y desconexi\u00f3n. El nombre pogo se debe a su parecido con los palos de pogo o palos para saltar en una posici\u00f3n de pie con la ayuda de un resorte.</li> <li>CoMaps, que son mapas para la localizaci\u00f3n del robot en un tablero basados en el m\u00e9todo de posicionamiento que utiliza tecnologia de identificaci\u00f3n \u00f3ptica (OID).</li> <li>CoTags, que son etiquetas para la interacci\u00f3n.</li> </ul> <p>El software se desarrolla en la plataforma MicroBlocks y es compatible con m\u00faltiples APIs avanzadas.</p> <p> <p> </p> <p></p>"},{"location":"cocube/contCoCube/#ideas-basicas-de-sonido","title":"Ideas b\u00e1sicas de sonido","text":"<p>Antes de entrar en descripciones t\u00e9cnicas de componentes vamos a hablar un poco del sonido, sin entrar en profundidad, y como reproducirlo con un dispositivo que incorpore un zumbador pasivo.</p> <p>El buzzer, zumbador o altavoz es un transductor electroac\u00fastico (convierte una se\u00f1al el\u00e9ctrica en una onda de sonido) que produce un determinado zumbido o sonido. Existen de dos tipos:</p> <ul> <li>Pasivos: no disponen de electr\u00f3nica interna, por lo que tenemos que proporcionar una se\u00f1al el\u00e9ctrica para conseguir el sonido deseado.</li> <li>Activos: disponen de un oscilador interno, por lo que \u00fanicamente tenemos que alimentar el dispositivo para que se produzca el sonido.</li> </ul> <p>El zumbador que incorpora CoCube es de tipo pasivo.</p> <p>Uno de los par\u00e1metros que caracterizan a un sonido es su frecuencia de emisi\u00f3n, siendo la frecuencia el n\u00famero de veces que se repite por unidad de tiempo (segundo). La transmisi\u00f3n del sonido se realiza por ondas a trav\u00e9s en cualquier medio (s\u00f3lido, l\u00edquido o gaseoso) excepto en el vac\u00edo. La frecuencia de un sonido nos indica cuantos ciclos por segundo tiene una onda.</p> <p>En la imagen y la tabla siguientes vemos un dibujo con un fragmento de las teclas de un piano estando todo referido a una nota est\u00e1ndar, la nota \"La\" central que tiene una frecuencia de 440 Hz. Podemos ver la nota musical que reproduce, en las dos notaciones m\u00e1s comunes de los sonidos (Ingl\u00e9s: C D E F G A B, Alem\u00e1n: C D E F G A H, Espa\u00f1ol, italiano y franc\u00e9s: Do Re Mi Fa Sol La Si) y adem\u00e1s se encuentra la frecuencia que produce esa nota musical.</p> <p> <p> </p> <p></p> <p>Otro de los par\u00e1metros que caracterizan al sonido es su nivel y en sonido se caracteriza con los decibelios (dB) que es la forma de medir la intensidad del sonido. La percepci\u00f3n del sonido depende de factores como la intensidad, el tiempo que dura, las frecuencias o tonos y el entorno donde estamos. Vamos a introducir brevemente como medir la intensidad del sonido.</p> <p>Los decibelios (dB) son la unidad de medida de presi\u00f3n ac\u00fastica. Medimos presi\u00f3n, luego estamos midiendo una fuerza y mas concretamente una fuerza por unidad de superficie. Un sonido pierde intensidad seg\u00fan nos alejamos de la fuente y lo hace a un ritmo de unos 6 dB cada que vez que se duplica la distancia. Vemos un ejemplo: supongamos que escuchamos un sonido de 45 dB a una distancia de un metro, cuando nos pongamos a dos metros escucharemos 39 dB, cuando estemos a 4 metros, ser\u00e1 de 33 dB y cuando estemos a 8 metros, de 27 dB.</p> <p>La escala de medida en dB no es lineal, es logaritmica porque representa mejor la forma en que sentimos los cambios de la intensidad del sonido con nuestro oido. Algunos datos para reflexionar sobre el ruido:</p> <ul> <li>El sonido se vuelve da\u00f1ino para el ser humano a partir de los 75 dB.</li> <li>Alrededor de los 120 dB causa dolor. Una exposici\u00f3n de dos horas a 100 dB necesita un d\u00eda completo para que el oido compense la exposici\u00f3n.</li> <li>Sonido en torno a 180 dB pueden ocasionar la muerte.</li> </ul> <p>En la tabla vemos algunos ejemplos del d\u00eda a d\u00eda:</p> <p> nivel de sonido Percepci\u00f3n Situaci\u00f3n 0 dB Muy bajo Nivel de audici\u00f3n humano 10 a 30 dB Nivel bajo Conversaci\u00f3n tranquila. Biblioteca 30 a 50 dB Nivel bajo Conversaci\u00f3n normal. Motor frigorifico. Agua saliendo del grifo 55 a 75 dB Nivel considerable Aspirador. Calle con trafico denso. Despertador. Batidora 75 a 100 dB Nivel alto Sensaci\u00f3n molesta. Atasco de tr\u00e1fico. Sirena de policia 100 a 120 dB Muy alto Taladro/claxon/concierto R&amp;R = 120 dB. Interior discoteca = 110 dB mas de 120 dB Dolor Avi\u00f3n despegando a 25 metros. Petardo a un metro <p></p> <p>Una equivalencia que nos puede ayudar a familiarizarnos con esta unidad es la tabla de equivalencias entre potencias y dBm (decibelios milivatio):</p> <p> P (mW) dBm P (mW) dBm P (mW) dBm P (mW) dBm 1 0 16 12 250 24 4 W 36 1.3 1 20 13 315 25 5 W 37 1.6 2 25 14 400 26 6 W 38 2 3 32 15 500 27 8 W 39 2.5 4 40 16 630 28 10 W 40 3.2 5 50 17 800 29 13 W 41 4 6 64 18  1 W 30 16 W 42 5 7 80 19 1.3 W 31 20 W 43 6 8 100 20 1.6 W 32 25 W 44 8 9 125 21 2 W 33 32 W 45 10 10 158 22 2.5 W 34 40 W 46 13 11 200 23 3 W 35 50 W 47 <p> </p> <p>Si observamos cuidadosamente la tabla veremos que la potencia se duplica o divide por dos, seg\u00fan recorramos la tabla, cada 3 dB.</p>"},{"location":"cocube/contCoCube/#zumbador-pasivo","title":"Zumbador pasivo","text":"<p>Un zumbador o buzzer pasivo no es mas que un peque\u00f1o altavoz que nos sirve para convertir una se\u00f1al el\u00e9ctrica en una onda de sonido. Son dispositivos que no disponen de ning\u00fan tipo de electr\u00f3nica interna, por lo que tenemos que proporcionar una se\u00f1al el\u00e9ctrica para conseguir el sonido deseado.</p> <p>Normalmente (como componente) estos dispositivos se incluyen en un m\u00f3dulo que incorpora un transistor y una resistencia de polarizaci\u00f3n del mismo para hacer funcionar al altavoz que act\u00faa como carga.</p> <p>Un buzzer se basa en un transductor piezoel\u00e9ctrico que es capaz de variar su volumen con el paso de la corriente el\u00e9ctrica, fen\u00f3meno que se aprovecha para hacer vibrar la membrana del altavoz. Esquem\u00e1ticamente vemos esto en la figura siguiente:</p> <p> <p> </p> <p></p> <p>Un zumbador pasivo requiere para su funcionamiento una se\u00f1al de tipo PWM para poder indicarle la frecuencia y la duraci\u00f3n de la se\u00f1al.</p> <p>El aspecto de un buzzer cl\u00e1sico visto por ambos lados nos ayudar\u00e1 a distinguirlo del activo.</p> <p> <p> </p> <p></p>"},{"location":"cocube/contCoCube/#zumbador-activo","title":"Zumbador activo","text":"<p>Este tipo de zumbador incluye un oscilador que genera una frecuencia audible fija y que se conoce como zumbador pasivo y,  en realidad, es el que de forma correcta se puede denominar como zumbador. Este es mucho mas sencillo de usar ya que basta con conectarlo a un pin digital y cuando pongamos a nivel alto este pin el zumbador generar\u00e1 su zumbido caracter\u00edstico durante el tiempo que establezcamos. Con este tipo de zumbador no se pueden generar melod\u00edas.</p> <p>Cuando est\u00e1 nuevo se distingue del zumbador pasivo o altavoz por la pegatina de protecci\u00f3n que lo acompa\u00f1a, pero esta hay que quitarla para oir el zumbido y sin ella es dif\u00edcil distinguir un tipo del otro, salvo por su reverso. Es aconsejable marcar alguno de los dos cuando podemos distinguirlos, sobre todo si van a ir montados sobre una PCB. Una buena idea puede ser utilizar la propia pegatina en el lateral del mismo para distinguirlo a primera vista.</p> <p>Un zumbador activo produce un tono audible fijo con tan solo aplicarle tensi\u00f3n.</p> <p>El aspecto por ambos lados de uno t\u00edpico nos ayudar\u00e1 a distinguirlo del pasivo.</p> <p> <p> </p> <p></p>"},{"location":"cocube/introCC/","title":"Introducci\u00f3n","text":"<p>CoCube es un robot educativo escritorio que incorpora inteligencia artificial, desarrollado conjuntamente por un equipo de estudiantes de m\u00e1ster y doctorado de las universidades Shangh\u00e1i Jiao Tong y Fudan, con el objetivo de acercar la inteligencia artificial a los j\u00f3venes y crear una plataforma creativa llena de interactividad, logros y diversi\u00f3n. CoCube estimula la curiosidad y la creatividad de los estudiantes al involucrarlos en el dise\u00f1o de robots de IA, desde la programaci\u00f3n simple hasta la construcci\u00f3n de sistemas interactivos complejos, y les ayuda a convertir sus ideas e inspiraciones en realidad.</p>"},{"location":"cocube/introCC/#aspectos-destacados","title":"Aspectos destacados","text":"<ul> <li>CoCube es un robot de escritorio muy peque\u00f1o que integra comunicaci\u00f3n inal\u00e1mbrica, pantalla, interacci\u00f3n por voz y otras funciones. Incorpora una bater\u00eda de larga duraci\u00f3n que le permite moverse con flexibilidad. Su programaci\u00f3n es sencilla y se puede disfrutar en cualquier momento y lugar.</li> </ul> <p> <p> </p> <p></p> <ul> <li>CoCube cuenta con comunicaci\u00f3n inal\u00e1mbrica, pantalla LCD de 240x240 px0, movimientos precisos a trav\u00e9s de sus ruedas, bot\u00f3n de encendido y apagado, altavoz para emitir sonidos, dos botones, un LED indicador de carga (rojo) o de encendido (verde), un conector magn\u00e9tico para m\u00f3dulos de expansi\u00f3n y posicionamiento exacto mediante camara.</li> </ul> <p> <p> </p> <p></p> <ul> <li>Gracias a su interfaz magn\u00e9tica frontal, CoCube puede expandirse con m\u00f3dulos de detecci\u00f3n, actuadores, visualizaci\u00f3n e inteligencia artificial. El conector es de tipo plug and play, por lo que permite satisfacer muchas necesidades creativas y personalizadas.</li> </ul> <p> <p> </p> <p></p> <ul> <li>El robot CoCube puede ubicarse con precisi\u00f3n en mapas CoMaps, lo que brinda grandes posibilidades para el control preciso de un robot y la colaboraci\u00f3n en grupos de robots. Esto permite experimentar con el trabajo en equipo y la programaci\u00f3n creativa.</li> </ul> <p> <p> </p> <p></p> <ul> <li>CoMaps utiliza tecnolog\u00eda de identificaci\u00f3n \u00f3ptica (OID) para crear mapas de codificaci\u00f3n por micropuntos que se pueden imprimir en papel normal, lo que proporciona a los robots CoCube capacidades de posicionamiento de alta precisi\u00f3n y f\u00e1ciles de implementar.</li> </ul> <p> <p> </p> <p></p> <ul> <li>El robot CoCube se puede programar mediante la plataforma de programaci\u00f3n gr\u00e1fica MicroBlocks, que ya se ha descrito en la secci\u00f3n ESP32 micro:STEAMakers. MicroBlocks admite programaci\u00f3n interactiva, depuraci\u00f3n en tiempo real y conexi\u00f3n y desconexi\u00f3n en cualquier momento, lo que permite el funcionamiento aut\u00f3nomo. El sistema utiliza MicroBlocks para el desarrollo de firmware y bibliotecas de bloques, con interfaces de comunicaci\u00f3n para APIs avanzadas que permiten realizar tareas m\u00e1s complejas.</li> </ul> <p> <p> </p> <p></p>"},{"location":"cocube/introCC/#especificaciones-tecnicas","title":"Especificaciones t\u00e9cnicas","text":""},{"location":"cocube/introCC/#robot-cocube","title":"Robot CoCube","text":"<p> <p> </p> Especificaci\u00f3n Par\u00e1metro Microcontrolador ESP32 Xtensa\u00ae 32-bit LX6 Procesadores de n\u00facleo simple/dual WiFi 802.11 b/g/n (2.4Ghz) Bluetooth Bluetooth V4.2 BR/EDR norma BLE Movimiento Chasis diferencial de doble v\u00eda con una velocidad m\u00e1xima de movimiento de 50 unidades/s Posicionamiento Velocidad de fotogramas elevada, posicionamiento exacto a nivel milim\u00e9trico y resoluci\u00f3n angular de 1\u00b0 Pantalla TFT Pantalla a color de 1.54 pulgadas y resoluci\u00f3n de 240x240 Botones El bot\u00f3n de encendido se encuentra en la parte inferior y debe mantenerse presionado durante 3 segundos para encenderlo, mientras que los botones A y B se encuentra en la parte trasera del chasis Zumbador Pasivo Interfaz magn\u00e9tica Interfaz de 4 pines de sujeci\u00f3n magn\u00e9tica (I2C + I/O + UART),5V / 600mA Bateria de litio 7.4V / 450mAh Tensi\u00f3n de carga Interfaz tipo C, 5V / 1.2A Duraci\u00f3n bater\u00eda Sin l\u00edmite en el modo de programaci\u00f3n por cable, aproximadamente 2 horas en el modo de programaci\u00f3n inal\u00e1mbrica por Bluetooth, aproximadamente 1 hora en el modo Wi-Fi Dimensiones 45 \u00d7 45 \u00d7 38 mm Peso 63g <p></p>"},{"location":"cocube/introCC/#mapas-de-ubicacion-comaps","title":"Mapas de ubicaci\u00f3n CoMaps","text":"<p>Los robots CoCube pueden obtener ubicaciones y \u00e1ngulos precisos en los mapas CoMaps.</p> <p>Para un CoMap est\u00e1ndar, el tama\u00f1o total es de aproximadamente un formato A3 y est\u00e1 dise\u00f1ado con variedad de temas, como laberintos, circuitos para conducci\u00f3n, f\u00fatbol, etc.</p> <p> <p></p> <p></p> <p>Las coordenadas de la esquina superior izquierda del mapa son (0,0), las coordenadas de la esquina inferior derecha son (300,200), el eje X va de izquierda a derecha (0 ~ 300) y el eje Y va de arriba a abajo (0 ~ 200).</p> <p>El robot est\u00e1 orientado 0 grados en la direcci\u00f3n positiva del eje Y y 180 grados cuando est\u00e1 orientado en la direcci\u00f3n negativa del mismo eje. Adem\u00e1s, el \u00e1ngulo de rotaci\u00f3n aumenta en sentido contrario a las agujas del reloj.</p> <p>Las l\u00edneas punteadas se imprimen en el mapa cada 50 unidades, lo que permite localizar r\u00e1pidamente la ubicaci\u00f3n de las coordenadas.</p> <p>Los mapas de ubicaci\u00f3n de CoMaps admiten costuras extendidas para un tama\u00f1o mayor del rango de posicionamiento.</p> <p>Para obtener m\u00e1s informaci\u00f3n sobre los mapas de ubicaci\u00f3n de CoMaps o los requisitos de personalizaci\u00f3n de mapas grandes, consulta con el equipo de CoCube.</p>"},{"location":"cocube/introCC/#modulo-de-expansion-comodules","title":"M\u00f3dulo de expansi\u00f3n CoModules","text":"<p>El robot CoCube se puede ampliar f\u00e1cilmente a trav\u00e9s de conectores magn\u00e9ticos con diferentes m\u00f3dulos. Actualmente, se admiten los siguientes:</p> <p> M\u00f3dulo Imagen Funciones y aplicaciones Pinza servo Las pinzas se pueden dotar de piezas de agarre de silicona para que sean antidelizantes.Aplicable a logistica y escenarios de competici\u00f3n ToF (tiempo de vuelo) Mediante la emisi\u00f3n de un l\u00e1ser infrarrojo, mide el tiempo que tarda la luz en llegar a un objeto y reflejarse, y as\u00ed obtiene datos precisos sobre la distancia. Tiene una excelente adaptabilidad a la luz y no se ve afectado por la reflectividad del objetivo, por lo que funciona de manera estable en diversas condiciones de iluminaci\u00f3n y escenarios de uso Panel WS2812 Se trata de una matriz de 6x8 LEDs RGB controlables individualmente y con una amplia variedad de colores y efectos din\u00e1micos. Se puede programar y controlar f\u00e1cilmente a trav\u00e9s de un microcontrolador o un controlador dedicado y permite el ajuste p\u00edxel a p\u00edxel para un rendimiento \u00f3ptimo Reconocimiento de gestos Para el reconocimiento de gestos en un espacio tridimensional, lo que permite el control interactivo con un robot Visi\u00f3n artificial Con procesados K210 de 64 bits RISC-V integra algoritmos de visi\u00f3n como reconocimiento de color, de tarjetas, de caras, AprilTag (etiquetas visuales), c\u00f3digos QR, que facilitan la creaci\u00f3n de aplicaciones con visi\u00f3n artificial <p></p>"},{"location":"cocube/introCC/#plataforma-grafica-de-programacion","title":"Plataforma gr\u00e1fica de programaci\u00f3n","text":"<p>En cuanto a la arquitectura de software, el objetivo de CoCube es ofrecer una experiencia de programaci\u00f3n f\u00e1cil de usar, manteniendo la flexibilidad y escalabilidad para soportar su hardware modular. El sistema utiliza MicroBlocks para el desarrollo del firmware y bibliotecas de bloques, con interfaces de comunicaci\u00f3n para APIs avanzadas que permitan realizar tareas.</p> <p>Basado en la plataforma MicroBlocks, CoCube se puede programar directamente en el navegador sin necesidad de descargarlo ni instalarlo.</p> <p>MicroBlocks es un lenguaje de programaci\u00f3n gr\u00e1fico para \"computaci\u00f3n f\u00edsica\" inspirado en Scratch.</p> <ul> <li>P\u00e1gina principal de MicroBlocks</li> </ul> <p> <p></p> <p></p> <ul> <li>P\u00e1gina de MicroBlocks con libreria CoCube y dependencias</li> </ul> <p> <p></p> <p></p> <p>Nota:</p> <p>La plataforma MicroBlocks es actualmente compatible con Windows, MacOS y Linux.</p>"},{"location":"cocube/introCC/#conexion-de-cocube","title":"Conexi\u00f3n de CoCube","text":"<p>En MicroBlocks hay dos formas de conectar un dispositivo CoCube, siendo recomendable la conectividad inal\u00e1mbrica.</p> <p>1. Conexi\u00f3n inal\u00e1mbrica</p> <ul> <li>Desde un navegador Chromium, Chrome o Edge abre la interfaz de MicroBlocks.</li> <li>Asegurate de que la funci\u00f3n Bluetooth del ordenador est\u00e9 activada.</li> <li>Manten presionado el interruptor (se encuentra en la parte inferior del robot) durante tres segundos para encenderlo. Despu\u00e9s de encenderlo, se mostrar\u00e1n tres caracteres en la pantalla que representan el n\u00famero de BLE.</li> </ul> <p>Habilitar permisos BLE en Linux</p> <ul> <li>Teclea chrome://flags/ en la barra de navegaci\u00f3n.</li> <li>Busca Bluetooth Use the new permissions backend for Web Bluetooth y configuralo como habilitado. Debes reiniciar el navegador.</li> </ul> <p> <p></p> <p></p> <ul> <li>En la configuraci\u00f3n Bluetooth del ordenador empareja el dispositivo detectado.</li> </ul> <p> <p></p> <p></p> <ul> <li>Haz clic en el icono \"USB Conecta\" en la parte superior derecha de interfaz de MicroBlocks y toca en Conexi\u00f3n inal\u00e1mbrica (BLE).</li> <li>En circunstancias normales, se pueden reconocer las palabras \"MicroBlocks XXX\" o \"CoCube XXX\", siendo XXX es las tres letras muestra el robot cuando se enciende.</li> </ul> <p> <p></p> <p></p> <p>2. Conexi\u00f3n por cable</p> <ul> <li>Navegadores recomendados: Chromium, Chrome y Edge, donde hay que tener abierta la interfaz MicroBlocks-CoCube de programaci\u00f3n.</li> <li>Conecta el ordenador a CoCube con un cable USB.</li> <li>Manten presionado el interruptor durante 3 segundos (el bot\u00f3n del interruptor se encuentra en la parte inferior del robot) para encender el robot CoCube.</li> <li>Haz clic en el icono \"USB Conecta\" en la parte superior derecha de la interfaz de MicroBlocks y escoge la conexi\u00f3n por cable.</li> <li>En circunstancias normales, se puede identificar el puerto serie con el que emparejarse.</li> </ul>"},{"location":"cocube/introCC/#actualizar-firmware-de-cocube","title":"Actualizar firmware de CoCube","text":"<p>Cuando uses el dispositivo por primera vez, actualiza el firmware m\u00e1s reciente de tu CoCube para obtener la mejor experiencia.</p> <ul> <li>Conecta mediante cable el robot CoCube.</li> <li>Accede a la configuraci\u00f3n del IDE de MicroBlocks, haz clic en \"Actualizar el firmware de la placa\", selecciona \"CoCube\" de la lista y selecciona el puerto correspondiente.</li> </ul> <p> <p></p> <p></p> <p> </p> <p>El proceso de actualizaci\u00f3n tarda aproximadamente un minuto, durante el cual debes mantener el IDE de MicroBlocks en pantalla. No hagas nada m\u00e1s durante este tiempo. De lo contrario, es posible que la actualizaci\u00f3n del firmware falle, por lo que, si esto ocurre, deber\u00e1s volver a actualizar.</p>"},{"location":"cocube/introCC/#bloques-de-la-libreria-cocube","title":"Bloques de la libreria CoCube","text":"<p>A continuaci\u00f3n se describen brevemente:</p> Bloque Funci\u00f3n Mueve 'adelante/Atr\u00e1s' a la velocidad dada durante el tiempo establecido Gira 'a la izquierda/a la derecha' a la velocidad dada durante el tiempo establecido Mueve 'adelante/Atr\u00e1s' a la velocidad dada Gira 'a la izquierda/a la derecha' a la velocidad dada Configura la velocidad de cada rueda Frena el movimiento de los motores Detiene el movimiento de los motores Muestra marcador ArUco\\(^*\\) en pantalla (\\(^*\\) A continuaci\u00f3n de Bloques) Muestra imagen AprilTag\\(^*\\) en pantalla (\\(^*\\) A continuaci\u00f3n de Bloques) Activa/desactiva la iluminaci\u00f3n de fondo de la pantalla Devuelve el porcentaje de carga de la bateria Devuelve el valor de la coordenada X de la posici\u00f3n del robot Devuelve el valor de la coordenada Y de la posici\u00f3n del robot Devuelve la orientaci\u00f3n o direcci\u00f3n de la posici\u00f3n del robot Mueve 'adelante/Atr\u00e1s' a la velocidad dada los pasos establecidos Gira 'a la izquierda/a la derecha' a la velocidad dada los grados establecidos Gira el \u00e1ngulo dado a la velocidad indicada Gira a la velocidad dada para orientarse hac\u00eda el punto del mapa dado Mueve a la velocidad dada hasta el punto del mapa dado Detecta si el robot est\u00e1 sobre una superficie sensible CoMap o CoTag Devuelve el identificador de la tarjeta sobre la que est\u00e1 el robot"},{"location":"cocube/introCC/#bloques-de-la-libreria-de-modulos-externos-de-cocube","title":"Bloques de la libreria de m\u00f3dulos externos de CoCube","text":"<p>A continuaci\u00f3n se describen brevemente:</p> Bloque Funci\u00f3n Abre la pinza Cierra la pinza Establece los grados de apertura de la pinza Inicializa la tira de 48 LEDs direccionables Establece el color de todos los LEDs Pone a negro (apaga) todos los LEDs Activa el pin como entrada e indica que el sensor VL53L0X est\u00e1 conectado Devuelve la distancia en mm medida por el sensor VL53L0X Activa el pin como entrada e indica que el sensor paj7620 est\u00e1 conectado Devuelve la lectura efectuada por el sensor de gestos Activa la alimentaci\u00f3n del m\u00f3dulo colocado en el conector de expansi\u00f3n"},{"location":"cocube/introCC/#marcador-aruco","title":"Marcador ArUco","text":"<p>Los marcadores ArUco utilizan un sistema de codificaci\u00f3n binaria consistente en una matriz cuadrada de diferentes tama\u00f1os (4x4, 5x5, 6x6 o 7x7). Los bloques negros representan un \"1\" y los blancos un \"0\", formando cada c\u00f3digo un patr\u00f3n bidimensional de bloques blancos y negros que se puede leer utilizando un sistema de visi\u00f3n. El patr\u00f3n codifica un n\u00famero \u00fanico (ID) que identifica al marcador.</p> <p>Los marcadores se organizan en diccionarios que contienen un n\u00famero fijo de marcadores. Por ejemplo, el m\u00f3dulo aruco de OpenCV cuenta con un total de 25 diccionarios predefinidos de marcadores . Todos los marcadores de un diccionario contienen el mismo n\u00famero de bloques o bits (4\u00d74, 5\u00d75, 6\u00d76 o 7\u00d77), y cada diccionario contiene un n\u00famero fijo de marcadores (50, 100, 250 o 1000).</p> <p>La estructura de un marcador ArUco se forma con un borde negro y una cuadricula interna que contiene el patr\u00f3n binario que representa un identificador. En la imagen vemos marcadores ArUco de 4x4, 5x5, 6x6 y 7x7.</p> <p> <p></p> <p></p> <p>Estos marcadores son una herramienta cuyos ejemplos de uso son: en realidad aumentada, superponiendo im\u00e1genes virtuales sobre un marcador real para crear experiencias interactivas; en localizaci\u00f3n de robots, permitiendo a los mismo localizar objetos o posiciones espec\u00edficas en un entorno o en seguimiento de objetos, donde pueden utilizarse para rastrear la posici\u00f3n y orientaci\u00f3n de objetos en tiempo real.</p> <p>Existen p\u00e1ginas donde se pueden generar y descargar hojas de marcadores ArUco:</p> <ul> <li>P\u00e1gina de Bence Fodor (Fodi)</li> <li>Generador online de marcadores ArUco arucosheetgen de Fodi forked desde okalachev/arucogen.</li> </ul> <p>En la imagen vemos un ejemplo de uso:</p> <p> <p> </p> <p></p>"},{"location":"cocube/introCC/#marcador-apriltag","title":"Marcador AprilTag","text":"<p>Los AprilTag son marcadores visuales para detecci\u00f3n e identificaci\u00f3n mediante sistemas de visi\u00f3n artificial desarrollados por investigadores de la universidad de Michigan.</p> <p>Tecnicamente su dise\u00f1o fiducial y sistema de codificaci\u00f3n se basan en lexicografia. El sistema se describe en los art\u00edculos enlazados en la web anterior.</p> <p>Conceptualmente son similares a los c\u00f3digos QR pero dise\u00f1ados para cargas de datos mucho mas peque\u00f1as (entre 4 y 12 bits), lo que permite una detecci\u00f3n mejor a mayor distancia. Est\u00e1n dise\u00f1ados para calcular su posici\u00f3n 3D precisa respecto a la c\u00e1mara.</p> <p>Se utilizan como marcadores fiduciales en rob\u00f3tica y otras aplicaciones.</p> <p>Un marcador fiducial o solamente fiducial es un objeto colocado en el campo de visi\u00f3n de un sistema de im\u00e1genes que aparece en la imagen producida, para su uso como punto de referencia o medida.</p> <p>Su nombre procede del laboratorio de rob\u00f3tica \"April\" de la Universidad de Michigan, siendo AprilTag una biblioteca y algoritmo que permite a un sistema identificar caracter\u00edsticas en hasta seis grados de libertad.</p> <p>Se clasifican en las siguientes familias:</p> <p> <p> </p> <p></p> <p>En la tabla siguiente vemos datos referentes a estas familias:</p> Familia Ancho total Ancho del cuadrado Factor de relleneo N\u00famero de etiquetas 16H5 8 6 0.75 30 21H7 redonda 9 5 0.55 38 25H9 9 7 0.78 35 36H11 10 8 0.8 587 41H12 Est\u00e1ndar 9 5 0.56 2115 48H12 Personalizada 10 6 0.6 42211 49H12 redonda 11 5 0.45 65535 52H13 Est\u00e1ndar 10 6 0.6 48714 <p>Es m\u00e1s complicado de utilizar que el sistema ArUco pero es mas adecuado para aplicaciones donde es necesaria velocidad y robustez.</p> <p>Una referencia base la encontramos en AprilTags: Why Robotics Invented Its Own QR Code.</p>"},{"location":"cocube/lcd/","title":"Progamaci\u00f3n de la pantalla LCD","text":""},{"location":"cocube/lcd/#objetivo","title":"Objetivo","text":"<p>Programar la pantalla LCD del robot CoCube.</p>"},{"location":"cocube/lcd/#materiales","title":"Materiales","text":"<p>Robot CoCube y ordenador ejecutando el IDE de MicroBlocks.</p> <p> <p></p> <p></p>"},{"location":"cocube/lcd/#programacion","title":"Programaci\u00f3n","text":"<p>El robot CoCube est\u00e1 equipado con una pantalla LCD a color que permite presentar el contenido de diferentes maneras. La forma m\u00e1s b\u00e1sica de mostrarlo es mediante una matriz de 5\u00d75 cuadrados. Para encender y conectar CoCube, sigue estos pasos:</p> <ol> <li>Conectar dispositivos: conecta el IDE de MicroBlocks al robot CoCube mediante cable USB o por medios inal\u00e1mbricos.</li> <li>Encuentra los bloques: localiza el bloque de visualizaci\u00f3n en la biblioteca de bloques de pantalla LED y arr\u00e1strelo al espacio de trabajo.</li> <li>Para ejecutar el programa: haz clic con el bot\u00f3n izquierdo en el bloque. Cuando se enciende un halo verde alrededor de los bloques, significa que el programa se ha ejecutado con \u00e9xito y se puede observar en la pantalla LCD del robot CoCube una cara sonriente.</li> <li>Mostrar y borrar: para borrar el patr\u00f3n de la pantalla actual, puedes usar el bloque Borrar pantalla. Para ello, haz clic en el bloque Borrar pantalla directamente en el \u00e1rea del bloque o arr\u00e1stralo al espacio de trabajo y clica sobre el; as\u00ed, todo en la pantalla se borrar\u00e1.</li> </ol> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/lcd/#reto-luces-cambiantes","title":"Reto: Luces cambiantes","text":"<p>En la biblioteca \"Pantalla LED\", hay bloques con los que puedes controlar cada LED por separado, mediante los bloques \"enciende xy\" y \"apaga xy\". \u00a1intenta escribir un programa que haga que cambien los LEDs!</p> <p>Puedes intentar cambiar el tiempo de espera para controlar la velocidad o usar \"bloques  sombrero\", por ejemplo, \"cuando se presiona el bot\u00f3n\", para establecer un color de pantalla diferente para los LEDs.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/movimientos/","title":"Movimientos","text":""},{"location":"cocube/movimientos/#objetivo","title":"Objetivo","text":"<p>Programe el robot CoCube para que ejecute los movimientos b\u00e1sicos.</p>"},{"location":"cocube/movimientos/#materiales","title":"Materiales","text":"<p>Robot CoCube y ordenador ejecutando el IDE de MicroBlocks.</p> <p> <p></p> <p></p>"},{"location":"cocube/movimientos/#programacion","title":"Programaci\u00f3n","text":"<p>Para encender y conectar CoCube, sigue estos pasos:</p> <ol> <li>Conectar dispositivos: conecta el IDE de MicroBlocks al robot CoCube a trav\u00e9s de Bluetooth.</li> <li>Movimientos b\u00e1sicos: se trata de controlar el robot para que se mueva hacia adelante, hacia la izquierda, hacia la derecha y hacia atr\u00e1s. En la biblioteca de bloques \"CoCube\", arrastra los dos primeros bloques relacionados con el control del motor. Estos bloques controlan la direcci\u00f3n, la velocidad y la duraci\u00f3n del movimiento del robot CoCube.</li> </ol> <p> <p> Descargar programa</p> <p></p> <p>3. Frenar y detener: \u00a1Escribe el siguiente c\u00f3digo para comprobar la diferencia entre \"freno de motor\" y \"parada de motor\"! El \"freno de motor\" detendr\u00e1 el robot un tiempo, mientras que la \"parada del motor\" simplemente elimina la alimentaci\u00f3n del motor, por lo que el robot CoCube continuar\u00e1 desliz\u00e1ndose hacia adelante durante una corta distancia debido a la inercia. Puede haber ciertas tareas en las que necesite utilizar uno u otro de estos bloques de parada.</p> <p> <p> Descargar programa</p> <p></p> <p>Observamos perfectamente como el robot se desvia un poco y los dos diferentes puntos de detenci\u00f3n del mismo seg\u00fan se de una orden u otra.</p>"},{"location":"cocube/movimientos/#movimiento-circular","title":"Movimiento circular","text":"<p>El chasis del robot CoCube tiene forma c\u00fabica pensada para moverse en tableros tipo pista. Al controlar de manera diferente la velocidad de las ruedas izquierda y derecha, se pueden simularse una mayor variedad de trayectorias de movimiento, como hacer que el robot CoCube gire en c\u00edrculos.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/movimientos/#reto-trayectoria-cuadrada","title":"Reto: Trayectoria cuadrada","text":"<p>Utiliza los bloques de control del motor para controlar el CoCube y completar una trayectoria cuadrada. Puedes medir el tiempo que tarda en girar el robot hacia la izquierda a una velocidad de 30 un \u00e1ngulo determinado y girar 90 grados con mayor precisi\u00f3n.</p> <p> <p> Descargar programa</p> <p></p> <p>Si dejas que el robot ejecute el programa durante un tiempo y eres observador, seguramente ver\u00e1s que el error acumulado por el CoCube girando a la izquierda aumenta, y que la trayectoria del cuadrado se distorsionar\u00e1 gradualmente. \u00bfC\u00f3mo podemos conseguir movimientos m\u00e1s precisos? La respuesta a la pregunta la veremos posteriormente utilizando una alfombrilla de posicionamiento.</p>"},{"location":"cocube/pinza/","title":"Servo con pinza","text":""},{"location":"cocube/pinza/#objetivo","title":"Objetivo","text":"<p>El robot CoCube se puede utilizar junto con m\u00f3dulos externos para implementar funciones m\u00e1s complejas. En esta secci\u00f3n se explica c\u00f3mo programar el uso del m\u00f3dulo del servo con pinza de agarre.</p>"},{"location":"cocube/pinza/#materiales","title":"Materiales","text":"<p>Robot CoCube, pinza con servomotor y ordenador ejecutando el IDE de MicroBlocks.</p> <p> <p></p> <p></p>"},{"location":"cocube/pinza/#programacion","title":"Programaci\u00f3n","text":"<p>1. Conectar dispositivos: conecta el IDE de MicroBlocks al robot CoCube mediante medios cableados o inal\u00e1mbricos. A continuaci\u00f3n, conecta la servopinza al robot CoCube.</p> <p>2. Cargar libreria de m\u00f3dulos externos: haz clic en a\u00f1adir libreria, escoge la opci\u00f3n \"Robots\" y en la nueva ventana \"CoCube Module\".</p> <p> <p></p> <p></p> <ul> <li> <p>Bloques para la pinza: Haz clic en \"CoCube Module\" en la biblioteca de bloques de la izquierda y arrastra los tres bloques que afectan a la pinza \"abre la pinza\", \"cierra la pinza\" y \"pon la pinza a (0 a 70 grados)\" al espacio de trabajo.</p> </li> <li> <p>Ejecuta el bloque de cierre: Haz clic con el bot\u00f3n izquierdo en el bloque \"abre la pinza\" o \"cierra la pinza\", cuando se ilumine un halo verde alrededor del bloque, significa que el programa se ha ejecutado con \u00e9xito y puedes ver la pinza abri\u00e9ndose o cerr\u00e1ndose. Rellena el espacio para \u00e1ngulo con un n\u00famero de 0 a 70 en el bloque \"pon la pinza a (0 a 70 grados)\" y la pinza girar\u00e1 hasta colocarse en el \u00e1ngulo correspondiente.</p> </li> </ul> <p>En el ejemplo siguiente vemos este funcionamiento.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/pinza/#reto-mover-un-objeto-entre-dos-puntos-con-cocube","title":"Reto: Mover un objeto entre dos puntos con CoCube","text":"<p>Utilizar Cocube para que sujete un objeto entre sus pinzas y lo mueva desde una localizaci\u00f3n inicial hasta el punto E del mapa del laberinto.</p> <p>El programa ser\u00eda el siguiente:</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/posicionamiento/","title":"Posicionamiento","text":""},{"location":"cocube/posicionamiento/#objetivo","title":"Objetivo","text":"<p>El objetivo es programar el robot CoCube para que aprenda la funci\u00f3n de posicionamiento por coordenadas de la alfombrilla de posicionamiento y el movimiento direccional punto a punto del robot, y comprender las funciones de salida en MicroBlocks durante este proceso.</p>"},{"location":"cocube/posicionamiento/#materiales","title":"Materiales","text":"<p>Robot CoCube, ordenador ejecutando el IDE de MicroBlocks y CoMap.</p> <p> <p></p> <p></p>"},{"location":"cocube/posicionamiento/#programacion","title":"Programaci\u00f3n","text":""},{"location":"cocube/posicionamiento/#conociendo-los-mapas-de-ubicacion","title":"Conociendo los mapas de ubicaci\u00f3n","text":"<p>CoMaps proporciona a los robots CoCube capacidades de posicionamiento muy precisas.</p> <p>Vamos a trabajar con el mapa de ubicaci\u00f3n tem\u00e1tica Maze Challenge (Reto del laberinto).</p> <p> <p></p> <p></p> <p>Observando el CoMap de cerca podemos indicar:</p> <ul> <li>Las coordenadas de la esquina superior izquierda del mapa son (0,0), las de la esquina inferior derecha son (300,200), el eje X aumenta de izquierda a derecha desde 0 hasta 300 y el eje Y aumenta de arriba a abajo desde 0 hasta 200.</li> <li>El robot est\u00e1 orientado 0 grados en la direcci\u00f3n positiva del eje Y y 180 grados cuando est\u00e1 orientado en la direcci\u00f3n negativa del eje Y, y el \u00e1ngulo de rotaci\u00f3n aumenta en sentido contrario a las agujas del reloj.</li> <li>Hay l\u00edneas discontinuas impresas en el mapa cada 50 unidades, lo que puede ayudar a localizar r\u00e1pidamente la ubicaci\u00f3n de las coordenadas.</li> </ul>"},{"location":"cocube/posicionamiento/#haz-que-cocube-diga-su-posicion","title":"Haz que CoCube diga su posici\u00f3n","text":"<p>\u00bfC\u00f3mo puedo obtener la posici\u00f3n y el \u00e1ngulo precisos de la situaci\u00f3n del robot CoCube en el mapa de CoMaps?</p> <p>1. Conecta el dispositivo: conecta el IDE de Microblocks al robot CoCube a trav\u00e9s de una conexi\u00f3n Bluetooth y col\u00f3calo en la plataforma de posicionamiento.</p> <p>2. Utiliza los bloques \"di\".</p> <ul> <li>Abre la libreria \"Salida\", arrastre el bloque \"di 123\" y haz clic en \"Ejecutar\". Ver\u00e1s que en el IDE de MicroBlocks aparece una peque\u00f1a burbuja en la esquina superior derecha del bloque que indica \"123\".</li> <li>\u00a1Eso es lo que hace el bloque \"di_\"! En lugar de dejar que el robot CoCube realmente hable, te mostrar\u00e1 algo en el IDE de MicroBlocks.</li> </ul> <p> <p></p> <p></p> <ul> <li>Si quieres decir dos cosas al mismo tiempo, simplemente haz clic en el peque\u00f1o tri\u00e1ngulo a la derecha del bloque \"di_\" y escribe el contenido que deseas generar en el nuevo campo de entrada.</li> <li>Tambi\u00e9n puedes rellenarlos con bloques de la biblioteca de bloques \"Operadores\", y CoCube enviar\u00e1 el resultado final al IDE de MicroBlocks.</li> </ul> <p> <p></p> <p></p> <ul> <li>Mostrar coordenadas con CoCube. Arrastre los bloques \"Posici\u00f3n X\", \"Posici\u00f3n Y\" y \"\u00c1ngulo de direcci\u00f3n\" de la biblioteca de bloques CoCube y col\u00f3calos en el bloque \"di_\". Haz clic en el bloque para indicar las coordenadas del CoCube en su posici\u00f3n actual.</li> </ul> <p> <p></p> <p></p> <ul> <li>Para obtener las coordenadas y los \u00e1ngulos del CoCube en tiempo real, se puede anidar el bloque \"di__\" en un bloque \"por siempre\".</li> </ul> <p> <p> Descargar programa</p> <p></p> <p>Observamos como se actualizan los datos con el movimiento del CoCube por el CoMap.</p> <p>Tambi\u00e9n podemos utilizar el bloque \"a\u00f1ade al gr\u00e1fico\" de la categoria \"Salida\" y ver las coordenadas en un gr\u00e1fico.</p> <p>3. Gr\u00e1ficado de la posici\u00f3n de CoCube:</p> <ul> <li>Conecta el dispositivo: conecta el IDE de Microblocks al robot CoCube a trav\u00e9s de una conexi\u00f3n Bluetooth y col\u00f3calo en la plataforma de posicionamiento.</li> <li>Usando los bloques \"a\u00f1ade al gr\u00e1fico\" modificamos el programa para que sea como el siguiente. Para obtener las gr\u00e1ficas, haz clic en el icono situado en la parte superior derecha del IDE de MicroBlocks. Las curvas roja, verde y azul representan los valores de la posici\u00f3n X, la posici\u00f3n Y y el \u00e1ngulo del robot CoCube, respectivamente.</li> </ul> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/posicionamiento/#movimiento-preciso","title":"Movimiento preciso","text":"<p>Retomamos el ejemplo de trazar una trayectoria cuadrada con CoCube. Pero ahora vamos a utilizar bloques de movimiento por pasos para indica a los motores paso a paso del robot el n\u00famero exacto de pasos que deben dar.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/posicionamiento/#reto-movimiento-a-b-c-d-e","title":"Reto: Movimiento A-B-C-D-E","text":"<p>Se trata de utilizar los bloques que devuelven coordenadas junto a los bloques de movimiento para hacer que CoCube se desplace desde el punto A hasta el punto E pasando por los puntos B, C y D y orientandose en cada caso hacia la posici\u00f3n en la que la celda del laberinto est\u00e1 abierta antes de seguir su ruta.</p> <p>El programa es el siguiente:</p> <p> <p> Descargar programa</p> <p></p> <p>En el video podemos observar los movimientos del robot. La posici\u00f3n inicial del robot puede ser cualquiera siempre que est\u00e9 sobre el CoMap.</p> <p> <p></p> <p>Si por alg\u00fan motivo CoCube se sit\u00faa fuera del mapa de posicionamiento nos lo indicar\u00e1 mediante el mensaje destacado a continuaci\u00f3n.</p> <p> <p> </p> <p></p>"},{"location":"cocube/posicionamiento/#reto-resolver-el-laberinto","title":"Reto: Resolver el laberinto","text":"<p>Utiliza los bloques que devuelven coordenadas y la funci\u00f3n de movimiento paso a paso del mapa de posicionamiento para navegar desde la entrada hasta la salida del laberinto. Es decir, desde (150,15) hasta (150,185).</p> <p>El programa es el siguiente:</p> <p> <p> Descargar programa</p> <p></p> <p>En el video podemos observar los movimientos del robot. La posici\u00f3n inicial del robot puede ser cualquiera siempre que est\u00e9 sobre el CoMap.</p> <p> <p></p> <p>En la resoluci\u00f3n del laberinto observamos que CoCube se mueve demasiado r\u00e1pido y no reliza los giros de manera suave. Puedes probar a reducir la velocidad de movimiento a \u00e1ngulos mas precisos tras cada localizaci\u00f3n.</p>"},{"location":"cocube/remoto_wifi/","title":"Control remoto mediante APP","text":""},{"location":"cocube/remoto_wifi/#objetivo","title":"Objetivo","text":"<p>Simplemente se realiza una adaptaci\u00f3n del tutorial Integraci\u00f3n de MicroBlocks y APP Inventor WEBsocket para utilizar la aplicaci\u00f3n crada con MIT APP INVENTOR.</p>"},{"location":"cocube/remoto_wifi/#materiales","title":"Materiales","text":"<ul> <li>un CoCube</li> <li>ordenador ejecutando el IDE de MicroBlocks.</li> <li>CoMap Driving Challenge</li> <li>un tel\u00e9fono m\u00f3vil con Android.</li> </ul> <p> <p></p> <p></p>"},{"location":"cocube/remoto_wifi/#programacion","title":"Programaci\u00f3n","text":"<p>Los programas en MicroBlocks y la aplicaci\u00f3n para Android se realizan siguiendo el tutorial expresado al principio por lo que unicamente exponemos el funcionamiento en el video siguiente:</p> <p> <p></p>"},{"location":"cocube/sentry2_color/","title":"Reconocimiento de color con Sentry2","text":""},{"location":"cocube/sentry2_color/#objetivo","title":"Objetivo","text":"<p>Utilizar la funci\u00f3n de reconocimiento de bloques de color del sensor de visi\u00f3n artificial Sentry2 y utilizar el CoCube para seguir el movimiento de un cilindro.</p>"},{"location":"cocube/sentry2_color/#materiales","title":"Materiales","text":"<p>Robot CoCube, pinza con servomotor y ordenador ejecutando el IDE de MicroBlocks.</p> <p> <p></p> <p></p>"},{"location":"cocube/sentry2_color/#informacion-de-algoritmos-de-sentry2","title":"Informaci\u00f3n de algoritmos de Sentry2","text":""},{"location":"cocube/sentry2_color/#introduccion","title":"Introducci\u00f3n","text":"<p> <p> </p> <p></p> <p>El usuario especifica uno o m\u00e1s colores para detectar si hay manchas de ese color en la imagen, devolviendo sus coordenadas y tama\u00f1o. Admite la detecci\u00f3n multicolor y multibloque, y las etiquetas de clasificaci\u00f3n de colores son las mismas que las del reconocimiento de colores.</p>"},{"location":"cocube/sentry2_color/#configurar-parametros","title":"Configurar par\u00e1metros","text":"<p>Los usuarios deben especificar las etiquetas de color que se van a detectar, pudiendo detectarse hasta seis colores simult\u00e1neamente, aunque la velocidad disminuir\u00e1. Los usuarios tambi\u00e9n pueden filtrar las manchas m\u00e1s peque\u00f1as que el ancho m\u00ednimo w y la altura m\u00ednima h especificados para reducir los falsos positivos.</p> <p>Al configurar los registros a trav\u00e9s del controlador principal, es necesario establecer los siguientes par\u00e1metros:</p> Par\u00e1metro Significado 1 Ninguno 2 Ninguno 3 Ancho m\u00ednimo 'w' de los puntos v\u00e1lidos 4 Alto m\u00ednimo 'h' de los puntos v\u00e1lidos 5 Etiquetas de clasificaci\u00f3n de colores 1~6. Uso especial: al escribir un valor de color RGB565 superior a 6 en el par\u00e1metro 5, se pueden identificar colores espec\u00edficos, por ejemplo, escribiendo 0xFB00 para el color naranja y 0xA11E para el color morado <p>NOTA:</p> <p>El RGB565 es un RGB de 16 bits que utiliza una paleta de colores de 32\u00d764\u00d732 = 65.536 colores en lugar de los 256x256x256 del RGB. Normalmente, se asignan 5 bits para los componentes rojo y azul (32 niveles cada uno) y 6 bits para el componente verde (64 niveles), debido a la mayor sensibilidad del ojo humano a este color.</p> <p>En la interfaz de usuario, hay varios par\u00e1metros preestablecidos que se pueden usar:</p> <ul> <li>Rendimiento del algoritmo. De acuerdo con los diferentes requisitos de la aplicaci\u00f3n, hay 3 opciones para elegir el rendimiento adecuado del algoritmo, que son \"Sensible (Sensitive)\", \"Equilibrado (Balanced)\" y \"Preciso (Accurate)\".</li> </ul> <p>En el modo sensible, la velocidad de reconocimiento es r\u00e1pida y la frecuencia de fotogramas es alta. En el modo preciso, se pueden detectar manchas distantes, pero la velocidad disminuir\u00e1. El valor predeterminado es un rendimiento equilibrado.</p> <p>Especial: En el modo preciso, se obtiene un buen reconocimiento y seguimiento de las manchas, pero solo se puede reconocer una mancha.</p> <ul> <li>N\u00famero m\u00e1ximo de pruebas simult\u00e1neas. El n\u00famero m\u00e1ximo de detecciones para un solo color admite 1 ~ 5 salidas.</li> </ul> <p>Cuando se establece en 1, solo se devuelve el mejor resultado. Si hay varias manchas en la imagen, se devuelve la m\u00e1s grande. Si los tama\u00f1os son similares, se da prioridad a la que se encuentra en la esquina superior izquierda.</p> <p>Cuando se establece en un valor superior a 1, el n\u00famero de manchas devueltas no superar\u00e1 este valor.</p> <ul> <li>Tama\u00f1o del bloque de color m\u00ednimo. Si hay peque\u00f1os parches del mismo color en el fondo, puedes filtrarlos estableciendo un valor m\u00ednimo razonable.</li> </ul> <p>Los valores predeterminados en el sistema de coordenadas absolutas son: 2x2, 4x4, 8x8, 16x16, 32x32, 64x64, 128x128 p\u00edxeles.</p> <p>Los valores predeterminados en el sistema de coordenadas porcentuales son: 1x1, 2x3, 3x4, 6x8, 9x12, 21x28, 42x56 %.</p> <ul> <li>Colores a inspeccionar. Se proporciona en forma de bot\u00f3n para que el usuario lo seleccione. Cuando se habilita un color, se muestra un peque\u00f1o icono con forma de ojo; si no est\u00e1 habilitado, se muestra un icono con forma de ojo tachado. Se pueden habilitar uno o m\u00e1s colores simult\u00e1neamente.</li> </ul> <p> <p> </p> <p></p> <p>Una vez que se reconoce el bloque de color especificado, se marcar\u00e1 en la interfaz de usuario y mostrar\u00e1 su ubicaci\u00f3n, tama\u00f1o, etiqueta de clasificaci\u00f3n, nombre y otra informaci\u00f3n.</p> <p>Cuando se leen los registros a trav\u00e9s del maestro, se devuelven los siguientes datos:</p> Par\u00e1metro Significado 1 Coordenada X del centro del bloque de color 2 Coordenada Y del centro del bloque de color 3 Ancho del bloque 'w' 4 Alto del bloque 'h' 5 Etiquetas de clasificaci\u00f3n de colores"},{"location":"cocube/sentry2_color/#consejos-de-uso","title":"Consejos de uso","text":"<ol> <li>Cuando se determina que es necesario rastrear un \u00fanico objeto, como detectar una carretera blanca o seguir una pelota, se puede establecer el n\u00famero de n\u00famero de bloques de color en 1 para mejorar la velocidad y reducir los falsos positivos.</li> <li>El uso de un \u00e1rea de reconocimiento m\u00e1s peque\u00f1a y un modo de rendimiento preciso permite ver objetos m\u00e1s lejanos.</li> <li>Al reconocer grandes \u00e1reas de manchas de color, la velocidad de fotogramas disminuir\u00e1 significativamente. En este caso, se debe utilizar el modo sensible.</li> <li>Cuando hay una mancha de color en la imagen, es necesario bloquear la funci\u00f3n de balance de blancos.</li> </ol>"},{"location":"cocube/sentry2_color/#explicacion-de-los-bloques-necesarios","title":"Explicaci\u00f3n de los bloques necesarios","text":"<ul> <li>Inicializaci\u00f3n de Sentry2 Es un par\u00e1metro opcional que determina la direcci\u00f3n I2C del dispositivo. El valor por defecto es 96 (0x60) de entre el rango v\u00e1lido que va desde 96 (0x60) hasta 99 (0x63).</li> </ul> <p>Antes de poder usar Sentry2, debes inicializarla mediante el bloque de la imagen, que por lo general, se coloca debajo de un bloque tipo sombrero \"al empezar\".</p> <p> <p> </p> <p></p> <ul> <li>Modo configuraci\u00f3n de Sentry2</li> </ul> <p> <p> </p> <p></p> <p>Para este caso hay que establecer el modo en 'blob', es decir, el modo de detecci\u00f3n de bloques de color.</p> <ul> <li>Resultados de las pruebas de Sentry2</li> </ul> <p> <p> </p> <p></p> <p>Este bloque debe utilizarse para activar la detecci\u00f3n antes de obtener resultados.</p> <p>El resultado devuelto es el n\u00famero de resultados identificados por el algoritmo 'blob' actual.</p> <p>El n\u00famero de resultados se ver\u00e1 afectado por la configuraci\u00f3n de par\u00e1metros del algoritmo correspondiente.</p> <ul> <li>Sentry2 detecci\u00f3n de los atributos del objeto</li> </ul> <p> <p> </p> <p></p> <p>Devuelve las propiedades del identificador del objeto detectado, incluida la coordenada x central del bloque de color, la coordenada y del centro del bloque de color, el ancho del bloque de color w, la altura del bloque de color h y la etiqueta de clasificaci\u00f3n de color.</p> <p>Las etiquetas de clasificaci\u00f3n por colores van del 1 al 5, y representan el negro, el blanco, el rojo, el verde y el azul, respectivamente.</p>"},{"location":"cocube/sentry2_color/#programacion","title":"Programaci\u00f3n","text":""},{"location":"cocube/sonidos/","title":"Sonidos","text":""},{"location":"cocube/sonidos/#objetivo","title":"Objetivo","text":"<p>Programar el robot CoCube para que reproduzaca sonidos y melodias.</p>"},{"location":"cocube/sonidos/#materiales","title":"Materiales","text":"<p>Robot CoCube y ordenador ejecutando el IDE de MicroBlocks.</p> <p> <p></p> <p></p>"},{"location":"cocube/sonidos/#programacion","title":"Programaci\u00f3n","text":"<p>El robot CoCube est\u00e1 equipado con un zumbador que se puede programar para emitir sonidos de diferentes tonos y ajustar la duraci\u00f3n del tono y el intervalo de tiempo para completar la composici\u00f3n y la reproducci\u00f3n.</p> <p>1. Conectar dispositivos: conecta el IDE de MicroBlocks al robot CoCube mediante medios cableados o inal\u00e1mbricos.</p> <p>2. Localiza los bloques: busca el bloque \"toca la frecuencia 261 durante 500 ms\" en la liberia \"Tonos\" y arr\u00e1stralo al espacio de trabajo.</p> <p>3. Ejecutar el programa: haz clic con el bot\u00f3n izquierdo en el bloque. Cuando se enciende un halo verde alrededor de los bloques, significa que el programa se est\u00e1 ejecutado con \u00e9xito y se puede escuchar el zumbador del robot CoCube, el sonido cesar\u00e1 transcurridos 0,5 segundos.</p> <p>4. Ajusta el tono: cambia el n\u00famero de tonos y la duraci\u00f3n para obtener sonidos de diferentes tonos.</p> <p>5. Notas musicales: a continuaci\u00f3n tenemos un conjunto de frecuencias de notas y su correspondencia de frecuencia en una determinada octava: Do (260), Re (290), Mi (330), Fa (350), Sol (392), La (440) y Si (494).</p> <p>Es muy conveniente consultar lo referente a sonido en el apartado \"Antes de\" dado al principio.</p> <p>Arrastra varios bloques y modifica la frecuencia y la duraci\u00f3n de cada uno para completar una melodia.</p> <p>6. Detener el sonido: Para detener el sonido del zumbador, utiliza el bloque \"det\u00e9n el sonido\". Simplemente haz clic en el bloque en el \u00e1rea de bloques o arr\u00e1stralo al \u00e1rea de trabajo y haz clic en \u00e9l, y CoCube dejar\u00e1 de reproducir el sonido inmediatamente.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/sonidos/#funciones-avanzadas-de-sonido","title":"Funciones avanzadas de sonido","text":"<p>Es muy tedioso tener que buscar el contraste entre notas y frecuencias t\u00fa mismo. \u00bfHay alguna manera m\u00e1s f\u00e1cil? En MicroBlocks se ofrecen dos m\u00e9todos sencillos.</p>"},{"location":"cocube/sonidos/#notas","title":"Notas","text":"<p>En m\u00fasica, las notas c, d, e, f, g, a y b se pueden usar para representar Do-Re-Mi-Fa-Sol-Si. Un sostenido (\u266f) eleva el tono en un semitono, y las octavas (0, 1, 2\u2026) indican tonos graves, medios, agudos, etc.</p> <p> <p> </p> <p></p> <p>El programa siguiente es un intento de reproducci\u00f3n de una parte del Himno de la alegria.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/sonidos/#melodias-midi","title":"Melodias MIDI","text":"<p>En un teclado MIDI, el n\u00famero de nota MIDI corresponde al tono de la m\u00fasica y se utiliza principalmente en la producci\u00f3n de m\u00fasica digital y la comunicaci\u00f3n entre instrumentos musicales.</p> <p>MIDI (Musical Instrument Digital Interface) se traduce por \"Interfaz Digital de Instrumentos Musicales\".</p> <p>Por ejemplo, 60 representa el do central del piano, 61 representa si bemol y 62 representa do.</p> <p>El programa siguiente crea un efecto musical:</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/sonidos/#politonos","title":"Politonos","text":"<p>El formato RTTTL (del ingl\u00e9s, Ring Tone Text Transfer Language) fue desarrollado por Nokia para codificar tonos de llamada a tel\u00e9fonos m\u00f3viles. El formato RTTTL es una cadena dividida en tres secciones: encabezado (nombre o t\u00edtulo), valor predeterminado y datos. Por ejemplo, la siguiente cadena de texto se corresponde con la Intro de Donkey Kong:</p> <p>d=4,o=5,b=140:8a#,8p,8d6,16p,16f.6,16g.6,16f.6,8a#,8p,8d6,16p,16f.6,16g.6,16f.6,8a#,8p,8d6,16p,16f.6,16g.6,16f.6,8a#,8p,8d6,16p,16f.6,16g.6,16f.6</p> <p>A\u00f1adimos la libreria \"Politonos\" a nuestro entorno y nos encontramos con los siguientes bloques:</p> <ul> <li>. Reproduce la cadena de tono de llamada indicada.</li> <li>. Devuelve el nombre del tono de llamada que se est\u00e1 reproduciendo actualmente.</li> </ul> <p>Para reproducir una melodia simplemente la copiamos en el bloque <code>toca el politono</code>.</p> <p>Existen p\u00e1ginas de donde se pueden descargar tonos, o incluso podemos hacerlo nosotros mismos. A continuaci\u00f3n ponemos algunos enlaces:</p> <ul> <li>RTTTL Ringtone Downloads de Picaxe.</li> <li>Colecciones de ArcadeTones clasificados por temas.</li> <li>Archivo NokringTunes.txt que contiene m\u00e1s de once mil melod\u00edas en formato Nokring.</li> </ul> <p>Una vez descargado lo abrimos y buscamos la melodia para copiar y pegar en el bloque.</p> <p>Informaci\u00f3n complementaria</p> <p>Ya hemos visto como a\u00f1adir la librer\u00eda politonos, enlaces para obtenerlos y el uso de los mismos en MicroBlocks, pero vamos a profundizar un poco mas sobre el tema.</p> <p>El formato RTTTL es una cadena dividida en tres partes: nombre, valor por defecto y datos.</p> <ul> <li>nombre. Es una cadena que describe el nombre del tono de llamada. En principio su longitud m\u00e1xima es de 10 caracteres y no puede contener el signo de dos puntos (:).</li> <li>valor por defecto. Lo forman un conjunto de valores separados por comas que son los que deben cumplirse durane la ejecuci\u00f3n del tono de llamada. Cada valor es una clave a la que se asigna con una igualdad un valor, siendo los nombre posibles: D (duraci\u00f3n), o (octava) y B (ritmo o tempo)</li> <li>datos. Es un conjunto de cadenas de caracteres separadas por comas, estando cada cadena formada por una duraci\u00f3n, un tono, una octava y opcionalmente puntos que aumentan la duraci\u00f3n de la nota a la mitad.</li> </ul> <p>Un ejemplo de tono RTTTL puede ser:</p> <p><code>Abba - Money Money Money: d=4,o=5,b=112:8e7,8e7,8e7,8e7,8e7,8e7,16e6,16a6,16c7,16e7,8d#7,8d#7,8d#7,8d#7,8d#7,8d#7,16f6,16a6,16c7,16d#7,d7,8c7,8a6,8c7,c7,2a6,32a6,32c7,32e7,8a7</code></p> <p>donde se pueden distinguir facilmente las tres partes separadas por dos puntos (:):</p> <ul> <li>nombre. Abba - Money Money Money.</li> <li>valor por defecto. d=4,o=5,b=112 (d = duraci\u00f3n; o = octava y b = tempo o ritmo). Mas adelante se describen mejor estos conceptos.</li> <li>datos. Las notas separadas por comas y formadas por una duraci\u00f3n, una nota [a (La), b (Si), c (Do), d (Re), e (Mi), f (Fa) o g (Sol)] y la indicaci\u00f3n de la octava, que si no se indica se aplica el valor predeterminado.</li> </ul> <p>La duraci\u00f3n de las notas es:</p> <ul> <li>1 - nota entera</li> <li>2 - media nota</li> <li>4 - cuarto de nota</li> <li>8 - octavo de nota (octava)</li> <li>16 - dieciseisavo de nota</li> <li>32 - treintaidosavo de nota</li> </ul> <p>Los tonos pueden ser:</p> <ul> <li>P \u2013 descanso o pausa</li> <li>A \u2013 A (La)</li> <li>A# \u2013 A\u266f B\u266d (La#/Si\u266d)</li> <li>B \u2013 B/C\u266d (Si/Do\u266d)</li> <li>C \u2013 C (Do)</li> <li>C# \u2013 C\u266f/D\u266d (Do\u266f/Re\u266d)</li> <li>D \u2013 D (Re)</li> <li>D# \u2013 D\u266f/E\u266d (Re\u266f/Mi\u266d)</li> <li>E \u2013 E/F\u266d (Mi/Fa\u266d)</li> <li>F \u2013 F/E\u266f (Fa/Mi\u266f)</li> <li>F# \u2013 F\u266f/G\u266d (Fa\u266f/Sol\u266d)</li> <li>G \u2013 G (Sol)</li> <li>G# \u2013 G\u266f/A\u266d (Sol\u266f/La\u266d)</li> </ul> <p>En el formato RTTTL se permiten octavas comenzando desde la A por debajo del do medio y subiendo cuatro octavas. Esto se debe a la imposibilidad de los tel\u00e9fonos m\u00f3viles para reproducir ciertos tonos de forma audible. Las octavas est\u00e1n numeradas desde el tono m\u00e1s bajo hasta el tono m\u00e1s alto de 4 a 7. La octava debe dejarse fuera de la notaci\u00f3n en el caso de un descanso o pausa en el patr\u00f3n.</p> <p>En el ejemplo siguiente suena un politono u otro dependiendo del bot\u00f3n que pulsemos en CoCube.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/sonidos/#reto-reproducir-cancion-con-cocube","title":"Reto: Reproducir canci\u00f3n con CoCube","text":"<p>Utilizar Cocube para reproducir \"Twinkle, Twinkle, Little Star\" (Estrellita d\u00f3nde est\u00e1s).</p> <p>El programa ser\u00eda el siguiente:</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"cocube/teclado/","title":"Control por eventos de teclado","text":""},{"location":"cocube/teclado/#objetivo","title":"Objetivo","text":"<p>Programaci\u00f3n del robot CoCube para ser controlado desde un teclado.</p>"},{"location":"cocube/teclado/#materiales","title":"Materiales","text":"<p>Robot CoCube, pinza con servomotor y ordenador ejecutando el IDE de MicroBlocks.</p> <p> <p></p> <p></p>"},{"location":"cocube/teclado/#programacion","title":"Programaci\u00f3n","text":"<p>Se trata de utilizar las se\u00f1ales de un teclado f\u00edsico u online para controlar el robot CoCube mediante la pulsaci\u00f3n de teclas, logrando as\u00ed el control remoto del mismo.</p> <p>Para el funcionamiento con teclado f\u00edsico se requieren ciertas condiciones que es necesario aclarar. En el caso que nos ocupa se utiliza un CoCube con nombre EMK, un teclado Cherry conectado por Bluetooth a un ordenador en el que se ejecuta Linux.</p> <p>Aviso:</p> <p>Las pruebas que siguen a continuaci\u00f3n se han realizado utilizando MicroBlocks v2.0.55 con Firmware v336. El IDE utilizado es versi\u00f3n pilot online.</p> <p>1. Conexionee con ordenador: la primera condici\u00f3n es que ambos dispositivos est\u00e9n conectado con el ordenador via Bluetooth:</p> <p> <p></p> <p></p> <p>2. Activar o desactivar BLE: si es necesario activa la opci\u00f3n de la imagen siguiente.</p> <p> <p></p> <p></p> <p>3. Conectar dispositivos: conecta el IDE de MicroBlocks al robot CoCube mediante medios inal\u00e1mbricos. Coloca el m\u00f3dulo servo con pinza en el robot CoCube.</p> <p>4. Acceso a web teclado: entra en la p\u00e1gina https://keyboard.cocube.fun/ para controlar el robot desde esa web. Conecta el teclado online con el dispositivo CoCube.</p> <p> <p></p> <p></p> <p>5. Personalizaci\u00f3n de teclas: Puedes personalizar las teclas para implementar el control mediante teclado. En prinicpio crea un programa que utilice los bloques \"al recibir\" y \"di\" y \"\u00faltimo mensaje\" para ver los nombres de los eventos del teclado al pulsar y soltar cualquier tecla. Estos nombre ser\u00e1n los que utilicemos en un programa posterior. El programa es el siguiente:</p> <p> <p> Arrastra im\u00e1gen al IDE de MicroBlocks para cargar el programa</p> <p></p> <p>A continuaci\u00f3n vemos su funcionamiento con el teclado online.</p> <p> <p></p> <p></p>"},{"location":"cocube/teclado/#reto-control-de-cocube-mediante-teclado","title":"Reto: Control de CoCube mediante teclado","text":"<p>Carga el programa de ejemplo que encontrar\u00e1s en:</p> <p>Archivos -&gt; Abre -&gt; Ejemplos -&gt; Por placa -&gt; CoCube -&gt; CoCube KeyBoard Control</p> <p> <p></p> <p></p> <p>Partiendo del ejemplo de referencia que aparece en la Wiki, se realiza una personalizaci\u00f3n de las teclas, quedando el programa como se ve en la imagen siguiente:</p> <p> <p> Descargar programa</p> <p></p> <p>A continuaci\u00f3n vemos el funcionamiento del programa reflejado en el gif animado sobre el teclado online. La pulsaci\u00f3n de teclas se refleja en la parte inferior derecha.</p> <p> <p> </p> <p></p>"},{"location":"cocube/teclado/#reto-recogedor-de-objetos","title":"Reto: Recogedor de objetos","text":"<p>Sitados dos objetos en los puntos C y E del CoMaps laberinto, CoCube se orientar\u00e1 hacia cada punto (primero el C) se dirigir\u00e1 al mismo con la pinza del servo abierta, la cerrar\u00e1 y trasladar\u00e1 el objeto recogido fuera del tablero por la zona de entrada al laberinto. Una vez sacado el primer objeto har\u00e1 lo mismo con el segundo y finalmente se trasladar\u00e1 al punto A quedando con una orientaci\u00f3n de cero grados.</p> <p>El programa ser\u00eda el siguiente:</p> <p> <p> Descargar programa</p> <p></p> <p>El funcionamiento lo vemos a continuaci\u00f3n:</p> <p> <p></p>"},{"location":"microSTEAMakers/Boardie/","title":"Boardie:un tablero virtual para MicroBlocks","text":""},{"location":"microSTEAMakers/Boardie/#introduccion","title":"Introducci\u00f3n","text":"<p>Lo que tenemos a continuaci\u00f3n es una traducci\u00f3n de algunas de las partes de la la entrada en el blog de MicroBlocks de 7 de diciembre de 2022 titulado Boardie: A Virtual Board for MicroBlocks por Bernat Romagosa, MicroBlocks. Adem\u00e1s se agregan ejemplos de utilizaci\u00f3n b\u00e1sicos.</p> <p>\u00bfC\u00f3mo dar a alguien una introducci\u00f3n pr\u00e1ctica a MicroBlocks si no tiene una placa microcontrolada?</p> <p>Es un problema que nos hemos encontrado muchas veces al presentar MicroBlocks en talleres virtuales durante los \u00faltimos a\u00f1os. Tambi\u00e9n es un problema al que se enfrentan los profesores que no tienen suficientes placas para todos los alumnos de su clase.</p> <p>Aparece Boardie, una placa virtual para MicroBlocks que permite probar MicroBlocks directamente en el navegador.</p> <p> <p> Boardie</p> <p></p> <p>El objetivo de Boardie es presentar MicroBlocks a las personas que est\u00e1n pensando en la computaci\u00f3n f\u00edsica pero que a\u00fan no tienen una placa. Queremos ayudarles a ver que codificar un microcontrolador es f\u00e1cil y divertido, y animarles a sumergirse en la computaci\u00f3n f\u00edsica real.</p>"},{"location":"microSTEAMakers/Boardie/#lo-que-no-es-boardie","title":"Lo que no es Boardie","text":"<p>Boardie no pretende sustituir a un microcontrolador real. La magia de la computaci\u00f3n f\u00edsica radica en su capacidad para interactuar con el mundo f\u00edsico: percibir fen\u00f3menos f\u00edsicos como la luz, el sonido y la temperatura y controlar cosas como luces, motores y aparatos el\u00e9ctricos.</p> <p>Boardie no intenta simular sensores f\u00edsicos ni dispositivos de salida. Aunque no es dif\u00edcil simularlos -por ejemplo, los deslizadores pueden utilizarse como entradas de sensores virtuales y las im\u00e1genes animadas pueden mostrar motores y servos virtuales-, creemos que eso no es lo importante.</p> <p>Queremos que la gente experimente la magia, y el aprendizaje resultante, de hacer computaci\u00f3n f\u00edsica en el mundo f\u00edsico real.</p>"},{"location":"microSTEAMakers/Boardie/#lo-que-es-boardie","title":"Lo que es Boardie","text":"<p>Boardie es una placa virtual que hace algunas de las cosas que los microcontroladores reales pueden hacer. Tiene dos botones programables, como un micro:bit o una micro:STEAMakers, y puede emular la pantalla LED 5x5 del micro:bit o la pantalla TFT de 240x240 p\u00edxeles del Adafruit Clue. Puede emitir pitidos y reproducir melod\u00edas, y soporta un sencillo sistema de archivos. Por \u00faltimo, soporta la misma librer\u00eda cliente HTTP de MicroBlocks que funciona en placas con WiFi.</p>"},{"location":"microSTEAMakers/Boardie/#uso-de-boardie","title":"Uso de Boardie","text":"<p>Boardie se ejecuta en la aplicaci\u00f3n web de MicroBlocks en microblocks.fun/run. Como no requiere WebSerial, puede ejecutarse en Safari y Firefox, as\u00ed como en Chrome y Edge. Boardie no es compatible con las aplicaciones independientes de MicroBlocks.</p> <p>Boardie se inicia haciendo clic en el icono USB y seleccionando abrir Boardie. Cuando Boardie est\u00e1 abierto, MicroBlocks est\u00e1 conectado a \u00e9l y puedes programar e interactuar con \u00e9l de la misma manera que lo har\u00edas con un dispositivo f\u00edsico real.</p> <p>MicroBlocks s\u00f3lo puede conectarse a una placa a la vez. As\u00ed que, como Boardie es una placa virtual, tendr\u00e1 que desconectar Boardie antes de conectar MicroBlocks a una placa f\u00edsica. Utilice el comando de desconexi\u00f3n en el men\u00fa l icono USB o el interruptor de encendido de Boardie para desconectar. Boardie desaparece cuando se desconecta.</p> <p>A continuaci\u00f3n vemos como conectarnos con Boardie partiendo de una placa ESP32 micro:STEAMakers ya conectada y como volver a la situaci\u00f3n anterior.</p> <p> <p> Conexi\u00f3n con Boardie</p> <p></p>"},{"location":"microSTEAMakers/Boardie/#especificaciones-de-boardie","title":"Especificaciones de Boardie","text":"<p>Para los m\u00e1s t\u00e9cnicos, aqu\u00ed est\u00e1n las especificaciones t\u00e9cnicas de esta placa virtual: </p> <ul> <li>RAM: 65kB</li> <li>Almacenamiento de archivos: ~5MB</li> <li>Entradas: Botones A y B, m\u00e1s un bot\u00f3n combinado A+B, pantalla t\u00e1ctil</li> <li>Salidas: TFT de 240x240px y 24 bits, altavoz</li> <li>Capacidades de red: Cliente HTTP</li> </ul>"},{"location":"microSTEAMakers/Boardie/#ejemplos","title":"Ejemplos","text":""},{"location":"microSTEAMakers/Boardie/#latidos","title":"Latidos","text":"<p>Un sencillo ejemplo micro:bit ejecut\u00e1ndose en Boardie, el proyecto Latidos:</p> <p> <p> Latidos Descargar el programa</p> <p></p> <p>Al hacer clic, y mientras se mantiene pulsado, en el bot\u00f3n A de Boardie se ejecuta el programa.</p> <p>Cuando el dispositivo Boardie tiene el foco, tambi\u00e9n puedes utilizar las teclas de flecha izquierda y derecha o las teclas A y B del teclado para activar los botones. Esta funci\u00f3n es \u00fatil para los juegos.</p>"},{"location":"microSTEAMakers/Boardie/#politono-y-textos","title":"Politono y textos","text":"<p>Otro sencillo ejemplo micro:bit ejecut\u00e1ndose en Boardie en el que suena un politono en los altavoces del sistema y se muestran textos en la pantalla:</p> <p> <p> Politono y textos Descargar el programa</p> <p></p>"},{"location":"microSTEAMakers/Boardie/#dibujos","title":"Dibujos","text":"<p>Un ejemplo en el que se dibujan figuras y vectores de diferentes colores:</p> <p> <p> Dibujos Descargar el programa</p> <p></p>"},{"location":"microSTEAMakers/app_ble/","title":"Aplicaciones con BLE","text":""},{"location":"microSTEAMakers/app_ble/#libreria-ble-scanner","title":"Libreria BLE Scanner","text":"<p>Vamos a describir los bloques de la libreria para finalmente ver un ejemplo de uso.</p>"},{"location":"microSTEAMakers/app_ble/#scan-received","title":"scan received","text":"<p>Este bloque se utiliza para detectar avisos BLE. Cuando se detecta una exploraci\u00f3n, la variable interna  se rellena con toda la informaci\u00f3n BLE relevante. Todos los dem\u00e1s bloques de la biblioteca extraen partes de la informaci\u00f3n BLE del contenido de esta variable.</p>"},{"location":"microSTEAMakers/app_ble/#rssi","title":"RSSI","text":"<p>RSSI son las siglas en ingl\u00e9s de Indicador de Intensidad de Se\u00f1al Recibida. Es la intensidad de la se\u00f1al tal y como se ve en el dispositivo receptor, por ejemplo, un smartphone. La intensidad de la se\u00f1al depende de la distancia y del valor de la potencia de emisi\u00f3n. Con la m\u00e1xima potencia de emisi\u00f3n (+4 dBm), el RSSI oscila entre -26 (unos pocos cent\u00edmetros) y -100 (40-50 m de distancia).  Esta informaci\u00f3n puede utilizarse para calcular la distancia entre el dispositivo emisor y el dispositivo receptor. Un ejemplo de ello puede verse en la imagen Dispositivos emparejados y resultado BLE Scanner de la secci\u00f3n \"Libreria BLE Scanner\" del apartado \"Gu\u00eda de MicroBlocks\", donde la aplicaci\u00f3n BLE Scanner muestra las distancias reales de los dispositivos detectados.</p>"},{"location":"microSTEAMakers/app_ble/#address","title":"address","text":"<p>Una direcci\u00f3n Bluetooth, a veces denominada direcci\u00f3n MAC Bluetooth, es un valor de 48 bits que identifica de forma exclusiva un dispositivo Bluetooth.</p> <p>Una direcci\u00f3n p\u00fablica de dispositivo es un identificador \u00fanico global de 48 bits, que consta de dos campos:</p> <ul> <li>Los 24 bits m\u00e1s significativos se denominan Identificador \u00danico Organizativo, y su finalidad es identificar a cada empresa. Es administrado por la Autoridad de Registro del IEEE.</li> <li>Los 24 bits menos significativos son asignados por la empresa, y sirven para identificar cada dispositivo.</li> </ul>"},{"location":"microSTEAMakers/app_ble/#address-type","title":"address type","text":"<p>Existen dos tipos principales de direcciones Bluetooth: p\u00fablicas y aleatorias.</p> <p>Una direcci\u00f3n p\u00fablica Bluetooth es una direcci\u00f3n fija global que debe registrarse en el IEEE. Esta direcci\u00f3n nunca cambia y se garantiza que es \u00fanica para un dispositivo Bluetooth.</p> <p>Las direcciones aleatorias son m\u00e1s populares que las p\u00fablicas, ya que no requieren registro en el IEEE. Una direcci\u00f3n aleatoria es un identificador que est\u00e1</p> <ul> <li>programado en el dispositivo o</li> <li>generado en tiempo de ejecuci\u00f3n (dependiendo del subtipo).</li> </ul> <p>Direcci\u00f3n est\u00e1tica aleatoria</p> <p>Este tipo espec\u00edfico de direcci\u00f3n Bluetooth es una alternativa popular a las direcciones p\u00fablicas, ya que su uso no conlleva ning\u00fan coste.</p> <p>Las direcciones est\u00e1ticas aleatorias pueden utilizarse de dos maneras:</p> <ul> <li>Puede ser asignada y fijada para toda la vida del dispositivo.</li> <li>Puede cambiarse en el arranque. Sin embargo, no se puede cambiar durante el tiempo de ejecuci\u00f3n.</li> </ul> <p>Una Direcci\u00f3n de Dispositivo Aleatoria es una caracter\u00edstica de privacidad del protocolo BLE, y ayuda a prevenir el rastreo de un dispositivo.</p>"},{"location":"microSTEAMakers/app_ble/#device-name","title":"device name","text":"<p>Dado que ser\u00eda bastante dif\u00edcil para un usuario identificar un dispositivo utilizando s\u00f3lo su direcci\u00f3n, BLE proporciona la propiedad Nombre de dispositivo, que es un nombre amigable utilizado para etiquetar un dispositivo.</p> <p>Las especificaciones BLE definen el nombre del dispositivo como un campo de 20 bytes. Sin embargo, debido a las limitaciones de longitud de los paquetes, a menudo puede ser necesario utilizar un nombre m\u00e1s corto.</p> <p>Existen dos tipos de nombre para BLE:</p> <ul> <li>Nombre local completo: tipo 9</li> <li>Nombre local abreviado: tipo 8</li> </ul>"},{"location":"microSTEAMakers/app_ble/#hastype","title":"hasType","text":"<p>Este bloque se utiliza internamente para escanear el paquete BLE y ver si contiene un nombre del tipo deseado.</p>"},{"location":"microSTEAMakers/app_ble/#ejemplo","title":"Ejemplo","text":"<p>Este programa est\u00e1 basado en el programa de ejemplo proporcionado en el Fichero/Abre/Ejemplos/Red/BLE Scanner Demo. Se ha mejorado para mostrar toda la informaci\u00f3n encontrada, as\u00ed como una lista de todos los dispositivos detectados al final.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"microSTEAMakers/app_ble/#comunicacion-ble-bidireccional-basica","title":"Comunicaci\u00f3n BLE bidireccional b\u00e1sica","text":"<p>Veamos algunos ejemplos de uso de Bluetooth para comunicarnos con la placa desde un m\u00f3vil. Utilizaremos la APP Serial Bluetooth Terminal descrita en la entrada \"Comunicaciones Bluetooth\" de la opci\u00f3n \"Principal\" del men\u00fa.</p> <p>Importante</p> <p>Para que el programa creado en MicroBlocks se guarde en la placa es necesario tener establecida la conexi\u00f3n entre el IDE y la placa. Cuando queremos transmitir datos entre la APP y la placa debemos establecer la conexi\u00f3n entre ambas y para ello no podemos tener establecida la conexi\u00f3n entre el IDE y la placa. No es posible tener dos conexiones establecidas con la misma placa. Si se da esta circunstancia cuando tratemos de establecer la conexi\u00f3n esta se perder\u00e1 de manera inmediata.</p> <p> <p> Comunicaci\u00f3n APP a placa perdida </p> <p></p> <p>Desde MicroBlocks creamos y llevamos a la placa el siguiente programa:</p> <p> <p> Descargar programa</p> <p></p> <p>El programa realiza un desplazamiento de la cadena de texto recibida en la pantalla de la micro:STEAMakers y envia la cadena que se muestra al pulsar el bot\u00f3n A. El intercambio de mensajes se realiza desde la APP citada.</p> <p>Con la APP abierta y la conexi\u00f3n realizada enviamos el mensaje que vemos en la captura.</p> <p> <p> Comunicaci\u00f3n APP a placa </p> <p></p> <p>Tras pulsar el bot\u00f3n de enviar el mensaje comienza a aparecer en la pantalla.</p> <p> <p> Comunicaci\u00f3n placa a APP </p> <p></p> <p>Si ahora pulsamos el bot\u00f3n de la placa en la APP se recibe e mensaje que esta envia:</p> <p> <p> Comunicaci\u00f3n placa a APP </p> <p></p>"},{"location":"microSTEAMakers/app_ble/#comunicacion-ble-radio","title":"Comunicaci\u00f3n BLE Radio","text":"<p>Esta libreria permite intercambiar mensajes de forma sencilla entre placas compatibles con Bluetooth Low Energy (BLE).</p> <p>Es una libreria similar a la libreria 'Radio', pero los mensajes se env\u00edan a trav\u00e9s de notificaciones BLE en lugar del sistema Nordic de radio. \"Nordic Radio System\" se refiere a un sistema de comunicaciones por radio desarrollado por Nordic Semiconductor, una empresa noruega especializada en soluciones de conectividad inal\u00e1mbrica de bajo consumo. En Nordic,nRF-Radio est\u00e1 disponible la documentaci\u00f3n t\u00e9cnica de estos dispositivos.</p> <p>Un mensaje puede contener una cadena, un n\u00famero o ambos. Los mensajes son recibidos por todas las placas del mismo grupo de radio BLE que el remitente. Los bloques siguientes se especializan en esta tarea.</p> <p> <p> Bloques BLE Radio para enviar mensajes </p> <p></p> <p>Existe tambi\u00e9n bloques para determinar si se ha recibido un mensaje a trav\u00e9s de BLE y el tipo de mensaje recibido.</p> <p> <p> Bloques BLE Radio para saber si se han recibido mensajes </p> <p></p> <p>La comunicaci\u00f3n entre dispositivos solamente es posible si se encuientran en el mismo grupo BLE, lo que se establece con el bloque siguiente:</p> <p> <p> Bloque para fijar el grupo BLE </p> <p></p>"},{"location":"microSTEAMakers/app_ble/#ejemplo-comunicacion-basica-por-ble-radio","title":"Ejemplo comunicaci\u00f3n b\u00e1sica por BLE Radio","text":"<p>Un ejemplo sencillo de envio de un n\u00famero al azar entre 0 y 9 al pulsar el bot\u00f3n A y de una letra, la B, al pulsar el bot\u00f3n B. El dato recibido se muestra en la otra placa.</p> <p>En la imagen siguiente tenemos el programa emisor.</p> <p> <p> Programa emisor BLE </p> <p></p> <p>A continuaci\u00f3n vemos el programa receptor:</p> <p> <p> Programa receptor BLE </p> <p></p> <p>Ejecutando un programa en una placa con BLE y el otro en otra que tenga los botones A y B como la micro:STEAMakers se puede ver el funcionamiento del ejemplo.</p>"},{"location":"microSTEAMakers/app_ble/#ejemplo-con-textos-y-numeros","title":"Ejemplo con textos y n\u00fameros","text":"<p>Se trata de crear un ejemplo en el que desde una placa micro:STEAMakers se env\u00eda el valor de luminosidad medido por la misma al pulsar el bot\u00f3n A y el de la temperatura medida por el sensor onboard cuando se pulsa el bot\u00f3n B. En ambos casos la informaci\u00f3n se envia con un par \"texto - n\u00famero\" y en la recepci\u00f3n se determina cual se ha enviado determinando el texto del \u00faltimo mensaje recibido y en funci\u00f3n de ello mostrar\u00e1 un valor u otro.</p> <p>El programa del emisor es muy sencillo, como vemos en la imagen siguiente:</p> <p> <p> Programa emisor BLE de dos datos </p> <p></p> <p>El programa receptor tampoco es muy complicado. Mientras no se reciban mensajes BLE en pantalla se estar\u00e1 mostrando una interrogaci\u00f3n de color rojo, mientras que los mensajes recibidos se muestran en color verde.</p> <p> <p> Programa receptor BLE de dos datos </p> <p></p> <p>A continuaci\u00f3n se puede observar el funcionamiento del sistema entre dos placas.</p> <p> <p> Programa emisor/receptor BLE de dos datos </p> <p></p>"},{"location":"microSTEAMakers/ble_inventor/","title":"Extensi\u00f3n BluetoothLE de App Inventor","text":""},{"location":"microSTEAMakers/ble_inventor/#enlaces","title":"Enlaces","text":"<p>MicroBlocks BLE Extension versi\u00f3n 1</p> <ul> <li>fun.microblocks.microblocks.aix</li> </ul>"},{"location":"microSTEAMakers/ble_inventor/#introduccion","title":"Introducci\u00f3n","text":"<p>Para a\u00f1adir funcionalidad Bluetooth Low Energy (BLE) a nuestras aplicaciones creadas con MIT App Inventor tenemos disponible como recurso oficial la extensi\u00f3n BluetoothLE.</p> <p>Una vez descargada e importada la versi\u00f3n 20240822 es posible acceder a la informaci\u00f3n (en ingl\u00e9s) de los bloques que utiliza la extensi\u00f3n a trav\u00e9s del enlace que vemos en la imagen siguiente:</p> <p> <p> Enlace a informaci\u00f3n bloques extensi\u00f3n</p> <p></p> <p>La idea es crear aplicaciones para m\u00f3viles o tablet que puedan comunicar con nuestra placa micro:STEAMakers hasta 100 metros de distancia.</p> <p>Las aplicaciones las creamos en App Inventor.</p>"},{"location":"microSTEAMakers/ble_inventor/#conectar-app","title":"Conectar App","text":"<p>IMPORTANTE</p> <p>Los sistemas con tecnolog\u00eda Bluetooth 4.0+ o BLE se componen de dos elementos: una baliza o Beacon, encargada de enviar las se\u00f1ales, y un dispositivo que recibe y procesa estas se\u00f1ales.</p> <p>No es necesario emparejar el Beacon, ya que utiliza el canal de transmisi\u00f3n Bluetooth para transmitir se\u00f1ales.</p> <p>Un Beacon solo usa el canal de transmisi\u00f3n, por lo que no hay pasos de conexi\u00f3n relacionados con BLE, algo que concuerda con el significado literal de baliza. El dispositivo Beacon env\u00eda paquetes de datos en un cierto intervalo de tiempo, y los datos enviados pueden ser obtenidos por un dispositivo maestro como un tel\u00e9fono m\u00f3vil.</p> <p>Debemos asegurarnos que Bluetooth est\u00e1 activado:</p> <p>1. Bluetooth encendido Comprueba en la configuraci\u00f3n de tu m\u00f3vil o tablet y asegurate de que Bluetooth est\u00e1 encendido. 2. Sin emparejar No emparejes las micro:STEAMakers. Puedes ignorar los ajustes de emparejamiento Bluetooth de tu dispositivo. Conectaremos la micro:STEAMakers a la aplicaci\u00f3n en modo \"sin emparejamiento\", por lo que este paso es innecesario.</p> <p> <p> Bluetooth encendido e ignorar emparejamiento</p> <p></p> <p>3. Permisos de ubicaci\u00f3n Hay que habilitar el permiso de acceso a la ubicaci\u00f3n en el tel\u00e9fono o tablet. Para acceder a Bluetooth es necesario que el dispositivo tenga activados los permisos de localizaci\u00f3n en los ajustes de la App. La raz\u00f3n es que algunos dispositivos Bluetooth proporcionan una ubicaci\u00f3n a nuestro dispositivo. Busca en la configuraci\u00f3n en tu dispositivo.</p> <p> <p> Permisos acceso a ubicaci\u00f3n</p> <p></p> <p>4. Testear el c\u00f3digo Para ver lo que hace el c\u00f3digo, hay que cargar el c\u00f3digo de App Inventor Companion en el tel\u00e9fono o tablet. El c\u00f3digo de inicio puede tardar un tiempo en cargarse, as\u00ed que \u00a1ten paciencia!</p> <p> <p> Testear el c\u00f3digo</p> <p></p> <p>Hay que tener un c\u00f3digo apropiado subido a la micro:STEAMakers si queremos interactuar con la App.</p>"},{"location":"microSTEAMakers/ble_inventor/#ejemplos","title":"Ejemplos","text":"<p>Tomando como base los contenidos de The Internet of Things: Data Acquisition and Analysis a los que nos conduce el enlace que encontramos en la extensi\u00f3n BluetoothLE.</p> <p>A tener en cuenta</p> <p>Si vamos a trabajar en un lugar en el que habr\u00e1 varias placas que pueden comunicarse entre si debemos previamente etiquetar cada una con su nombre \u00fanico.</p> <p>Recomendamos escribir el nombre en un trozo de cinta de carrocero o pintor y pegarlo a la micro:STEAMakers. Esto permite a los usuarios encontrar su placa cuando utilicen las Apps.</p>"},{"location":"microSTEAMakers/ble_inventor/#establecer-conexion","title":"Establecer conexi\u00f3n","text":"<p>Para probar esta App no har\u00e1 falta tener ning\u00fan programa cargado en la micro:STEAMakers porque solamente vamos a conectar y desconectar la App con el Bluetooth de la placa. Si ser\u00e1 necesario, logicamente, tener alimentada la placa micro:STEAMakers.</p> <p>El dise\u00f1o de la App tiene el aspecto de la imagen siguiente y bajo su t\u00edtulo tenemos el enlace de descarga de EstablecerConexion.aia.</p> <p> <p> Descargar EstablecerConexion.aia</p> <p></p> <p>Seguimos el siguiente procedimiento:</p> <p>1. Descarga la App EstablecerConexion.aia</p> <ul> <li>El c\u00f3digo permite conectarse r\u00e1pidamente la App con la micro:STEAMakers.</li> <li>Localiza el archivo (EstablecerConexion.aia) descargado.</li> <li>Abre App Inventor AI2 Designer y Editor de Bloques http://ai2.appinventor.mit.edu.</li> </ul> <p>2. Haz clic en \u201cProjects\u201d</p> <p> <p> Abrir Projects </p> <p></p> <p>3. Haz clic en la entrada \u201cImport project (.aia) from my computer\u201d</p> <p> <p> Elije la entrada \u201cImport project (.aia) from my computer\u201d </p> <p></p> <p>4. Importa el archivo de inicio</p> <ul> <li>Haz clic en Seleccionar archivo.</li> </ul> <p> <p> Haz clic en Seleccionar archivo </p> <p></p> <ul> <li>Escoge el archivo descargado EstablecerConexion.aia.</li> </ul> <p> <p> Escoge el archivo descargado </p> <p></p> <ul> <li>El archivo inicialmente debe tener este aspecto en Designer:</li> </ul> <p> <p> Aspecto en modo dise\u00f1o </p> <p></p> <p>5. Bluetooth activado</p> <ul> <li>Comprueba en la configuraci\u00f3n de tu m\u00f3vil o tablet y asegurate de que Bluetooth est\u00e1 encendido.</li> <li>No emparejes las micro:STEAMakers. Puedes ignorar los ajustes de emparejamiento Bluetooth de tu dispositivo. Conectaremos la micro:STEAMakers a la aplicaci\u00f3n en modo \"sin emparejamiento\", por lo que este paso es innecesario.</li> </ul> <p> <p> Bluetooth encendido e ignorar emparejamiento</p> <p></p> <p>6. Permisos de ubicaci\u00f3n Hay que habilitar el permiso de acceso a la ubicaci\u00f3n en el tel\u00e9fono o tablet. Para acceder a Bluetooth es necesario que el dispositivo tenga activados los permisos de localizaci\u00f3n en los ajustes de la App. La raz\u00f3n es que algunos dispositivos Bluetooth proporcionan una ubicaci\u00f3n a nuestro dispositivo. Busca en la configuraci\u00f3n en tu dispositivo.</p> <p> <p> Permisos acceso a ubicaci\u00f3n</p> <p></p> <p>7. Testear el c\u00f3digo Para ver lo que hace el c\u00f3digo, hay que cargar el c\u00f3digo de App Inventor Companion en el tel\u00e9fono o tablet. El c\u00f3digo de inicio puede tardar un tiempo en cargarse, as\u00ed que \u00a1ten paciencia!</p> <ul> <li>Elije AI Companion</li> </ul> <p> <p> Testear el c\u00f3digo</p> <p></p> <ul> <li>Escanea el QR o introduce el c\u00f3digo que ves en la pantalla del ordenador en MIT App Inventor</li> </ul> <p> <p> Testear el c\u00f3digo</p> <p></p> <ul> <li>Deber\u00edas ver una aplicaci\u00f3n como la de la imagen en la ventana de pruebas en vivo de tu dispositivo. \u00a1Sigue leyendo antes de pulsar Explorar!</li> </ul> <p> <p> Testear el c\u00f3digo</p> <p></p> <p>8. Alimenta la placa</p> <p>Conecta la micro:STEAMakers mediante un cable USB o a trav\u00e9s del conector de alimentaci\u00f3n externa. Asegurate de que la luz posterior de alimentaci\u00f3n est\u00e1 encendida.</p> <p> <p> Alimenta la placa</p> <p></p> <p>9. Utiliza la aplicaci\u00f3n para buscar dispositivos Bluetooth</p> <ul> <li>Pulsa Explorar en la app para buscar dispositivos Bluetooth cercanos.</li> </ul> <p> <p> Pulsa Explorar en la app para buscar dispositivos Bluetooth cercanos</p> <p></p> <p>10. Comprueba el listado</p> <p>Deber\u00edas ver una lista de todos los dispositivos Bluetooth cercanos - algunos de ellos podr\u00edan ser los auriculares o alg\u00fan otro gadget cercano. El esc\u00e1ner trabaja r\u00e1pidamente, pero deber\u00edas ver un elemento que diga \"MicroBlocks XXX\". Pulsa el bot\u00f3n \u00abDetener exploraci\u00f3n para congelar la lista.</p> <p> <p> Comprobar lista y detener exploraci\u00f3n</p> <p></p> <p>11. Clic en el nombre de tu placa y despu\u00e9s en Conectar</p> <p> <p> Detener exploraci\u00f3n, seleccionar placa y conectar</p> <p></p> <p>12. \u00c9xito</p> <ul> <li>Ahora, hay una conexi\u00f3n inal\u00e1mbrica entre la aplicaci\u00f3n y la micro:STEAMakers,</li> <li>La aplicaci\u00f3n debe mostrar la etiqueta con fondo verde Conectado en la parte superior,</li> <li>El bot\u00f3n Conectar ha cambiado su texto a Desconectar.</li> </ul> <p> <p> Conexi\u00f3n establecida</p> <p></p> <ul> <li>Practica desconectando y conectando la placa desde la aplicaci\u00f3n. Tambi\u00e9n puedes desconectarla quitando la alimentaci\u00f3n o el bot\u00f3n Reset.</li> </ul> <p>RECONEXI\u00d3N:</p> <p>Si la micro:STEAMakers se desconecta del Bluetooth y no puede reconectarse, presiona el bot\u00f3n Reset en la placa.</p> <p>Utiliza los botones Explorar/Conectar de la aplicaci\u00f3n para volver a conectar la micro:STEAMakers.</p> <p>Si cambias el c\u00f3digo en App Inventor mientras AI Companion y micro:STEAMakers est\u00e1n conectados, los cambios aparecer\u00e1n sin problemas o la aplicaci\u00f3n se desconectar\u00e1 y la micro:STEAMakers pensar\u00e1 que todav\u00eda est\u00e1 conectada. En este caso, reseteamos la placa, como se ha indicado antes. </p> <p>Aunque el ejemplo funciona correctamente no parece la mejor forma de realizar la conexi\u00f3n y desconexi\u00f3n y tampoco resulta demasiado \u00fatil ver todos los dispositivos al alcance de la App ya que el nombre del nuestro podemos saberlo a priori. Tambi\u00e9n es muy probable que si intentamos enviar y/o recibir datos nos den errores.</p>"},{"location":"microSTEAMakers/ble_inventor/#establecer-conexion-mejorado","title":"Establecer conexi\u00f3n mejorado","text":"<p>Vamos a ver una forma mas sencilla de resolver la conexi\u00f3n, aprovechando el ejemplo tambi\u00e9n para enviar datos desde la App y as\u00ed comprobar que la conexi\u00f3n funciona.</p> <p>Versi\u00f3n piloto de Microblocks</p> <p>En esta ocasi\u00f3n trabajaremos con una versi\u00f3n piloto en la que podemos encontrar la libreria micro:STEAMakers en la entrada \"WorkinProgress\".</p> <p> <p> Librerias WorkinProgress</p> <p></p> <p>La idea es comprobar que la conexi\u00f3n funciona haciendo que la micro:STEAMakers responda con cambios cuando se le indique desde la aplicaci\u00f3n.</p> <p>Para poder enviar mensajes desde la App a la micro:STEAMakers con un programa realizado con MicroBlocks vamos a necesitar a\u00f1adir una extensi\u00f3n en App Inventor, la MicroBlocks BLE Extension. Las explicaciones sobre esta extensi\u00f3n las tenemos en el apartado MicroBlocks + App Inventor + BLE siguiente.</p> <p>Para mejorar el ejemplo anterior a\u00f1adiremos tambien \"Tools Extension\", una colecci\u00f3n de herramientas que no necesitan permisos adicionales y que se puede descargar desde la web de Pura Vida Apps. Utilizo esta extensi\u00f3n para mantener la pantalla activa mientras el microcontrolador permanece conectado. A continuaci\u00f3n se exponen los t\u00e9rminos y condiciones que aparecen en la web de la extensi\u00f3n mediante una imagen capturada de dicha web:</p> <p> <p> Captura de la web Pura Vida Apps</p> <p></p> <p>A continuaci\u00f3n se pone una traducci\u00f3n libre de esta captura:</p> <p>T\u00e9rminos y Condiciones</p> <ul> <li>\u00a1Divi\u00e9rtete y utiliza esta extensi\u00f3n en tus proyectos de App Inventor! \u00a1Pura Vida!</li> <li>EL SOFTWARE SE PROPORCIONA \"TAL CUAL\", SIN GARANT\u00cdA DE NING\u00daN TIPO, EXPRESA O IMPL\u00cdCITA, INCLUIDAS, ENTRE OTRAS, LAS GARANT\u00cdAS DE COMERCIABILIDAD, IDONEIDAD PARA UN FIN DETERMINADO Y NO INFRACCI\u00d3N. EN NING\u00daN CASO LOS AUTORES O LOS TITULARES DE LOS DERECHOS DE AUTOR SER\u00c1N RESPONSABLES DE NINGUNA RECLAMACI\u00d3N, DA\u00d1O U OTRA RESPONSABILIDAD, YA SEA EN UNA ACCI\u00d3N CONTRACTUAL, EXTRACONTRACTUAL O DE OTRO TIPO, QUE SURJA DE, O EST\u00c9 RELACIONADA CON EL SOFTWARE O EL USO U OTRAS OPERACIONES CON EL SOFTWARE.</li> <li>Este es el \u00fanico lugar autorizado para descargar esta extensi\u00f3n. No est\u00e1 permitido alojar esta extensi\u00f3n en otro lugar y ofrecerla para que otros la descarguen, ya sea en otro sitio web o market place o similar. La raz\u00f3n es que todo el mundo deber\u00eda tener la oportunidad de donar algo en caso de que le guste mi trabajo. Se le permite proporcionar un enlace a este sitio, para que otros puedan descargar la extensi\u00f3n. Aqu\u00ed encontrar\u00e1 siempre la versi\u00f3n m\u00e1s actualizada, incluyendo documentaci\u00f3n y ejemplos de uso. Gracias por su comprensi\u00f3n.</li> </ul> <p>Por las razones expresadas en estos \"T\u00e9rminos y Condiciones\" aqu\u00ed solamente se facilita el enlace a la web del autor.</p> <p>El dise\u00f1o de la App tiene el aspecto de la imagen siguiente y bajo su t\u00edtulo tenemos el enlace de descarga de EstablecerConexionMejorado.aia.</p> <p> <p> Descargar EstablecerConexionMejorado.aia</p> <p></p> <p>Observamos que los mensajes enviados son: <code>prueba</code> y <code>apaga</code>.</p> <p>Seguimos el mismo procedimiento y en las mismas condiciones que hemos visto en el ejemplo anterior.</p> <p>Una vez escaneado el QR de AI Companion debemos ver la aplicaci\u00f3n de la imagen, donde observamos que:</p> <ul> <li>Nos avisa que no distingue may\u00fasculas y min\u00fasculas.</li> <li>Solicita el BLE id de la placa (ISJ en nuestro caso) para poder conectar.</li> <li>El bot\u00f3n se usar\u00e1 para conectar y desconectar la App con la placa.</li> <li>Inicialmente los botones est\u00e1n visibles pero posteriormente desaparecer\u00e1n si estamos desconectados de la placa.</li> </ul> <p> <p> Pantalla inicial</p> <p></p> <p>Introducimos el BLE id y pulsamos en el bot\u00f3n \"Conectar/Desconectar\". El bot\u00f3n se pone de color verde indicando que la conexi\u00f3n est\u00e1 establecida correctamente. Ya podemos proceder a pulsar alguno de los botones inferiores y observar el funcionamiento de la App controlando la micro:STEAMakers.</p> <p> <p> Conexi\u00f3n establecida</p> <p></p> <p>Si ahora pulsamos de nuevo el bot\u00f3n \"Conectar/Desconectar\" la App se desconecta de la placa y los botones de mensajes desaparecen, no volviendo a estar visibles hasta que no se restablezca la conexi\u00f3n.</p> <p> <p> Desconexi\u00f3n</p> <p></p> <p>Por otra parte necesitamos programar la placa con un firmware que se encargue de recibir los datos enviados desde la App y realizar las tareas que programemos. El programa en MicroBlocks va a guardar en una variable el \u00faltimo mensaje recibido (depender\u00e1 del bot\u00f3n pulsado en la App) y si este es \"prueba\" mostrar\u00e1 un s\u00edmbolo de check en la pantalla en color verde. Si el mensaje recibido es \"apaga\" apagar\u00e1 todos los LEDs RGB.</p> <p> <p> Descargar EstablecerConexionMejorado.ubp</p> <p></p> <p>Para que el programa est\u00e9 en la placa necesitamos establecer conexi\u00f3n entre el IDE de MicroBlocks y la misma, pero es MUY IMPORTANTE que cuando finalicemos esta tarea desconectemos la placa del IDE o no podremos establecer la conexi\u00f3n desde la App. Recordemos que no est\u00e1n permitidas dos conexiones con la misma placa.</p> <p>En la animaci\u00f3n siguiente podemos observar el funcionamiento del sistema completo.</p> <p> <p> Funcionamiento de EstablecerConexionMejorado</p> <p></p>"},{"location":"microSTEAMakers/contmicroSM/","title":"Antes de","text":"<p>comenzar a utilizar la placa ESP32 microSTEAMakers, tienes que comprobar que tu ordenador tenga instalados los controladores necesarios. Por ello es aconsejable estudiar antes de nada los contenidos de este apartado.</p> <p>Vas a encontrar toda la informaci\u00f3n que necesites en la web ESP32-microSTEAMakers y todos los enlaces que en la misma se proponen.</p>"},{"location":"microSTEAMakers/contmicroSM/#descripcion","title":"Descripci\u00f3n","text":"<p> <p> Placa ESP32 microSTEAMakers</p> <p></p> <p>La placa est\u00e1 equipada con:</p> <ul> <li>520 KB de memoria din\u00e1mica</li> <li>4 MB de memoria flash</li> <li>procesador de doble n\u00facleo de 240 MHz</li> <li>Bluetooth de bajo consumo (BLE)</li> <li>WiFi</li> </ul> <p>Esta placa tambi\u00e9n integra diversos sensores:</p> <ul> <li>temperatura y humedad</li> <li>giroscopio aceler\u00f3metro de seis ejes</li> <li>sensor de luz ambiente</li> <li>interfaz para tarjeta microSD</li> <li>micr\u00f3fono de sonido ambiente</li> <li>zumbador</li> <li>botones por presi\u00f3n A y B y bot\u00f3n t\u00e1ctil</li> <li>matriz de 5x5 puntos RGB</li> </ul>"},{"location":"microSTEAMakers/contmicroSM/#componentes-de-la-placa","title":"Componentes de la placa","text":"<p> <p> Componentes de la placa ESP32 micro:STEAMakers en la cara frontal</p> <p> Componentes de la placa ESP32 micro:STEAMakers en la cara posterior</p> <p></p>"},{"location":"microSTEAMakers/contmicroSM/#pines-gpio","title":"Pines GPIO","text":"<p>La siglas GPIO se corresponden con las iniciales de General Purpose Input/Output,  que se traduce como Entrada/Salida de Prop\u00f3sito General y se refieren a un pin gen\u00e9rico en un chip, cuyo comportamiento (incluyendo si es un pin de entrada o salida) se puede controlar (programar) por el usuario en tiempo de ejecuci\u00f3n.</p> <p>La placa ESP32 micro:STEAMakers est\u00e1 equipada con pines de expansi\u00f3n tipo gold-finger, incluyendo todos los pines IO, 19 puertos digitales, 7 puertos anal\u00f3gicos, interfaces I2C, UART y SPI. En la imagen siguiente tenemos la descripci\u00f3n de pines de la placa.</p> <p> <p> Pinout del conector de borde</p> <p></p>"},{"location":"microSTEAMakers/contmicroSM/#compatibilidad-de-pines","title":"Compatibilidad de pines","text":"<p>AVISO IMPORTANTE</p> <p>Cuando vamos a trabajar con se\u00f1ales anal\u00f3gicas debemos tener muy presente que, aunque todos los pines IOxx son entradas y salidas digitales, algunas incluso con m\u00e1s funciones. Cuando tenemos que utilizar la comunicaci\u00f3n WiFi el convertidor ADC2 NO funciona.</p> <p>Las placas ESP32 tienen disponibles dos ADC (Analog to Digital Converter) de 12 bits que se denominan ADC1 y ADC2. Esos 12 bits dan una precisi\u00f3n de \\(2^{12} = 4096\\). Por lo tanto, si tenemos 12 bits para 3.3V podemos asegurar que  \\(3.3V/4096 = 0,8mV\\) es la tensi\u00f3n correspondiente a cada paso.</p> <p>M\u00e1xima tensi\u00f3n admisible en el ADC</p> <p>Aunque los pines GPIO de la ESP32 pueden funcionar a 5V, los conversores ADC no pueden. Debemos tener cuidado de no sobrepasar esos 3.3V si el pin es uno de los que est\u00e1n conectados a uno de los conversores.</p> <p>La placa ESP32 micro:STEAMakers es al fin y al cabo una ESP32 y la lectura de una entrada anal\u00f3gica se realiza de la forma habitual en entornos basados en Arduino, es decir con <code>analogRead(pin_GPIO)</code>. Internamente la ESP32, de manera gen\u00e9rica, compara la tensi\u00f3n que pretendemos medir con un valor de referencia Vref mediante un circuito atenuador de ganancia variable, tipicamente de -11dB para poder medir hasta 3.3V.</p> <p>En la ESP32 micro:STEAMakers los pines que tienen conxi\u00f3n con los conversores ADC y que pueden ser utilizados como entradas anal\u00f3gicas est\u00e1n distribuidos de la siguiente forma:</p> <ul> <li> <p>ADC1 se conecta a 8 pines GPIO: 32 , 33, 34, 35, 36, 37, 38, 39</p> </li> <li> <p>ADC2 se conecta a 10 pines GPIO: 0, 2, 4, 12, 13, 14, 15, 25, 26, 27 WiFi ON \u2192 INHABILITA ADC2</p> </li> </ul> <p>A efectos pr\u00e1cticos, revisando el pinout de la placa podemos asegurar que todos los pines catalogados como entradas anal\u00f3gicas, con la \u00fanica excepci\u00f3n de la patilla 2 que se conecta a io32 y que pertenece a ADC1, funcionar\u00e1n correctamente siempre y cuando no realicemos configuraci\u00f3n WiFi alguna, dado que est\u00e1n conectados a ADC2.</p>"},{"location":"microSTEAMakers/contmicroSM/#i2c-en-la-microsteamakers","title":"I2C en la micro:STEAMakers","text":"<p>La placa ESP32 micro:STEAMakers incorpora un puerto de expansi\u00f3n I2C localizado en un conector hembra de 4 pines de 100mils (2,54mm) de separaci\u00f3n entre pines.</p> <p> <p> Conector de expansi\u00f3n I2C</p> <p></p> <p>Adem\u00e1s la placa incorpora dos dispositivos que son I2C y que es conveniente tener claro cuales son y que direcciones f\u00edsicas utilizan para que no interfiramos con los mismo desde lo que conectemos externamente al puerto de expansi\u00f3n I2C de la placa que sea de tipo I2C. Son los siguientes:</p> <ul> <li>Sensor de temperatura y humedad AHT20.</li> </ul> <p> <p> Sensor de temperatura y humedad AHT20</p> <p></p> <ul> <li>Aceler\u00f3metro, giroscopio de 6 ejes MPU-6050.</li> </ul> <p> <p> Aceler\u00f3metro, giroscopio de 6 ejes MPU-6050</p> <p></p> <p>Observamos en este caso que el dispositivo tiene posibilidad de configurar la direcci\u00f3n I2C del mismo entre dos posibilidades:</p> <ul> <li>Direcci\u00f3n 0x68 configurada por defecto al estar unidos los dos pads de configuraci\u00f3n mediante una resistencia de cero ohmios.</li> <li>Direcci\u00f3n 0x69 que podemos configurar desoldando la resistencia de la 0x68 y soldandola en los dos pads de la 0x69.</li> </ul> <p>Info</p> <p>Aunque no es una operaci\u00f3n muy compleja no se recomienda acometerla si no tenemos experiencia trabajando con soldadura en este tipo de placas y componentes y en cualquier caso no se recomienda a no ser que resulte totalmente imprescindible.</p> <p>A continuaci\u00f3n se muestra un ejemplo realizado en steamakersblocks en el que averiguamos las direcciones f\u00edsicas de estos dos dispositivos I2C.</p> <p> <p> Obtenci\u00f3n de la direcci\u00f3n I2C de los dispositivos conectados</p> <p></p> <p>Cargamos el programa en la placa, conectamos la consola serie y tras hacer un reset f\u00edsico en la micro:STEAMakers nos aparece la siguiente informaci\u00f3n:</p> <p> <p> Resultados obtenci\u00f3n de la direcci\u00f3n I2C de los dispositivos conectados</p> <p></p> <p>El bloque 'Escanear lo encontramos en 'Entrada/Salida' en I2C.</p>"},{"location":"microSTEAMakers/contmicroSM/#zumbador","title":"Zumbador","text":""},{"location":"microSTEAMakers/contmicroSM/#ideas-basicas-de-sonido","title":"Ideas b\u00e1sicas de sonido","text":"<p>Antes de entrar en descripciones t\u00e9cnicas de componentes vamos a hablar un poco del sonido, sin entrar en profundidad, y como reproducirlo con una micro:STEAMakers.</p> <p>Uno de los par\u00e1metros que caracterizan a un sonido es su frecuencia de emisi\u00f3n, siendo la frecuencia el n\u00famero de veces que se repite por unidad de tiempo (segundo). La transmisi\u00f3n del sonido se realiza por ondas a trav\u00e9s en cualquier medio (s\u00f3lido, l\u00edquido o gaseoso) excepto en el vac\u00edo. La frecuencia de un sonido nos indica cuantos ciclos por segundo tiene una onda.</p> <p>En la imagen y la tabla siguientes vemos un dibujo con un fragmento de las teclas de un piano estando todo referido a una nota est\u00e1ndar, la nota \"La\" central que tiene una frecuencia de 440 Hz. Podemos ver la nota musical que reproduce, en las dos notaciones m\u00e1s comunes de los sonidos (Ingl\u00e9s: C D E F G A B, Alem\u00e1n: C D E F G A H, Espa\u00f1ol, italiano y franc\u00e9s: Do Re Mi Fa Sol La Si) y adem\u00e1s se encuentra la frecuencia que produce esa nota musical.</p> <p> <p>. Secci\u00f3n de piano y notas</p> <p></p> <p>Otro de los par\u00e1metros que caracterizan al sonido es su nivel y en sonido se caracteriza con los decibelios (dB) que es la forma de medir la intensidad del sonido. La percepci\u00f3n del sonido depende de factores como la intensidad, el tiempo que dura, las frecuencias o tonos y el entorno donde estamos. Vamos a introducir brevemente como medir la intensidad del sonido.</p> <p>Los decibelios (dB) son la unidad de medida de presi\u00f3n ac\u00fastica. Medimos presi\u00f3n, luego estamos midiendo una fuerza y mas concretamente una fuerza por unidad de superficie. Un sonido pierde intensidad seg\u00fan nos alejamos de la fuente y lo hace a un ritmo de unos 6 dB cada que vez que se duplica la distancia. Vemos un ejemplo: supongamos que escuchamos un sonido de 45 dB a una distancia de un metro, cuando nos pongamos a dos metros escucharemos 39 dB, cuando estemos a 4 metros, ser\u00e1 de 33 dB y cuando estemos a 8 metros, de 27 dB.</p> <p>La escala de medida en dB no es lineal, es logaritmica porque representa mejor la forma en que sentimos los cambios de la intensidad del sonido con nuestro oido. Algunos datos para reflexionar sobre el ruido:</p> <ul> <li>El sonido se vuelve da\u00f1ino para el ser humano a partir de los 75 dB.</li> <li>Alrededor de los 120 dB causa dolor. Una exposici\u00f3n de dos horas a 100 dB necesita un d\u00eda completo para que el oido compense la exposici\u00f3n.</li> <li>Sonido en torno a 180 dB pueden ocasionar la muerte.</li> </ul> <p>En la tabla vemos algunos ejemplos del d\u00eda a d\u00eda:</p> <p> nivel de sonido Percepci\u00f3n Situaci\u00f3n 0 dB Muy bajo Nivel de audici\u00f3n humano 10 a 30 dB Nivel bajo Conversaci\u00f3n tranquila. Biblioteca 30 a 50 dB Nivel bajo Conversaci\u00f3n normal. Motor frigorifico. Agua saliendo del grifo 55 a 75 dB Nivel considerable Aspirador. Calle con trafico denso. Despertador. Batidora 75 a 100 dB Nivel alto Sensaci\u00f3n molesta. Atasco de tr\u00e1fico. Sirena de policia 100 a 120 dB Muy alto Taladro/claxon/concierto R&amp;R = 120 dB. Interior discoteca = 110 dB mas de 120 dB Dolor Avi\u00f3n despegando a 25 metros. Petardo a un metro <p></p> <p>Una equivalencia que nos puede ayudar a familiarizarnos con esta unidad es la tabla de equivalencias entre potencias y dBm (decibelios milivatio):</p> <p> P (mW) dBm P (mW) dBm P (mW) dBm P (mW) dBm 1 0 16 12 250 24 4 W 36 1.3 1 20 13 315 25 5 W 37 1.6 2 25 14 400 26 6 W 38 2 3 32 15 500 27 8 W 39 2.5 4 40 16 630 28 10 W 40 3.2 5 50 17 800 29 13 W 41 4 6 64 18  1 W 30 16 W 42 5 7 80 19 1.3 W 31 20 W 43 6 8 100 20 1.6 W 32 25 W 44 8 9 125 21 2 W 33 32 W 45 10 10 158 22 2.5 W 34 40 W 46 13 11 200 23 3 W 35 50 W 47 <p> </p> <p>Si observamos cuidadosamente la tabla veremos que la potencia se duplica o divide por dos, seg\u00fan recorramos la tabla, cada 3 dB.</p>"},{"location":"microSTEAMakers/contmicroSM/#zumbador-pasivo","title":"Zumbador pasivo","text":"<p>Un zumbador o buzzer pasivo no es mas que un peque\u00f1o altavoz que nos sirve para convertir una se\u00f1al el\u00e9ctrica en una onda de sonido. Son dispositivos que no disponen de ning\u00fan tipo de electr\u00f3nica interna, por lo que tenemos que proporcionar una se\u00f1al el\u00e9ctrica para conseguir el sonido deseado.</p> <p>Normalmente (como componente) estos dispositivos se incluyen en un m\u00f3dulo que incorpora un transistor y una resistencia de polarizaci\u00f3n del mismo para hacer funcionar al altavoz que act\u00faa como carga.</p> <p>Un buzzer se basa en un transductor piezoel\u00e9ctrico que es capaz de variar su volumen con el paso de la corriente el\u00e9ctrica, fen\u00f3meno que se aprovecha para hacer vibrar la membrana del altavoz. Esquem\u00e1ticamente vemos esto en la figura siguiente:</p> <p> <p> Funcionamiento y aspecto de un buzzer pasivo</p> <p></p> <p>Un zumbador pasivo requiere para su funcionamiento una se\u00f1al de tipo PWM para poder indicarle la frecuencia y la duraci\u00f3n de la se\u00f1al.</p> <p>El aspecto de un buzzer cl\u00e1sico visto por ambos lados nos ayudar\u00e1 a distinguirlo del activo.</p> <p> <p> Aspecto de un buzzer pasivo t\u00edpico</p> <p></p> <p>El que incorpora la ESP32 micro:STEAMakers es de tipo 'montaje superficial' y tiene el aspecto de la imagen siguiente:</p> <p> <p> Aspecto del buzzer pasivo en la micro:STEAMakers</p> <p></p>"},{"location":"microSTEAMakers/contmicroSM/#zumbador-activo","title":"Zumbador activo","text":"<p>Este tipo de zumbador incluye un oscilador que genera una frecuencia audible fija y que se conoce como zumbador pasivo y,  en realidad, es el que de forma correcta se puede denominar como zumbador. Este es mucho mas sencillo de usar ya que basta con conectarlo a un pin digital y cuando pongamos a nivel alto este pin el zumbador generar\u00e1 su zumbido caracter\u00edstico durante el tiempo que establezcamos. Con este tipo de zumbador no se pueden generar melod\u00edas.</p> <p>Cuando est\u00e1 nuevo se distingue del zumbador pasivo o altavoz por la pegatina de protecci\u00f3n que lo acompa\u00f1a, pero esta hay que quitarla para oir el zumbido y sin ella es dif\u00edcil distinguir un tipo del otro, salvo por su reverso. Es aconsejable marcar alguno de los dos cuando podemos distinguirlos, sobre todo si van a ir montados sobre una PCB. Una buena idea puede ser utilizar la propia pegatina en el lateral del mismo para distinguirlo a primera vista.</p> <p>Un zumbador activo produce un tono audible fijo con tan solo aplicarle tensi\u00f3n.</p> <p>El aspecto por ambos lados de uno t\u00edpico nos ayudar\u00e1 a distinguirlo del pasivo.</p> <p> <p> Aspecto de un buzzer activo t\u00edpico</p> <p></p>"},{"location":"microSTEAMakers/contmicroSM/#microfonos","title":"Micr\u00f3fonos","text":"<p>Un micr\u00f3fono es un dispositivo de entrada que sirve para transformar ondas sonoras en energia electrica y vicerversa en procesos de grabaci\u00f3n.</p> <p>Existe multitud de tipos de micr\u00f3fonos para distintas aplicaciones en las que no vamos a entrar. En el enlace tienes un amplio art\u00edculo sobre los mismos.</p> <p>Existe un tipo denominado MEMs (\"Microelectromechanical systems\" en ingl\u00e9s) que tambi\u00e9n se denominan chips microf\u00f3nicos y son variantes del micr\u00f3fono a condensador. El diafragma sensible est\u00e1 grabado sobre la oblea de silicio y suelen integrarse con un amplificador incorporado.</p> <p>La micro:STEAMakers tiene un micr\u00f3fono integrado. Puede usarse como una entrada simple (encender luces cuando se aplaude) o tambien se puede medir la cantidad de sonido, por lo que puede hacer un medidor de nivel de ruido o son\u00f3metro b\u00e1sico Tambien podemos hacer que las luces se enciendan en modo disco, al comp\u00e1s de la m\u00fasica. Un micr\u00f3fono funciona como un transductor o sensor electroac\u00fastico y convierte el sonido (ondas sonoras) en una se\u00f1al el\u00e9ctrica para aumentar su intensidad, transmitirla y registrarla.</p> <p>El micr\u00f3fono est\u00e1 en la parte delantera de la micro:STEAMakers y tiene el aspecto que vemos en la imagen siguiente:</p> <p> <p> Aspecto del micr\u00f3fono en la micro:STEAMakers</p> <p></p> <p>Un circuito de aplicaci\u00f3n t\u00edpica lo vemos a continuaci\u00f3n. En el mismo podemos observar que la capsula microf\u00f3nica incluye su propia circuiteria amplificadora.</p> <p> <p> Esquema circuito altavoz</p> <p></p>"},{"location":"microSTEAMakers/contmicroSM/#acelerometro-giroscopio","title":"Aceler\u00f3metro + giroscopio","text":"<p>La ESP32 micro:STEAMakers monta un chip MPU-6050 de InvenSense que es un dispositivo MEMS de 6 ejes (giroscopio + aceler\u00f3metro). El t\u00e9rmino MEMS, del ingl\u00e9s MicroElectroMechanical Systems, se refiere a la tecnolog\u00eda electromec\u00e1nica de dispositivos microsc\u00f3picos o sistemas microelectromec\u00e1nicos.</p> <p>Los dispositivos MPU-6050 combinan un giroscopio de 3 ejes y un aceler\u00f3metro de 3 ejes en el mismo chip, junto con un procesador digital (Digital Motion Processor\u2122 o DMP) integrado, que procesa algoritmos complejos de 6 ejes. El dispositivo puede acceder a magnet\u00f3metros externos u otros sensores a trav\u00e9s de un bus I\u00b2C maestro auxiliar, lo que permite a los dispositivos recopilar un conjunto completo de datos de sensores sin intervenci\u00f3n del procesador del sistema.</p> <p>Para un seguimiento preciso de los movimientos r\u00e1pidos y lentos, el chip incorpora un giroscopio programable por el usuario con una escala completa de \u00b1250, \u00b1500, \u00b11000 y \u00b12000 \u00b0/seg (dps), y un aceler\u00f3metro programable por el usuario con una escala completa de \u00b12g, \u00b14g, \u00b18g y \u00b116g. Otras caracter\u00edsticas son un sensor de temperatura integrado con una variaci\u00f3n del \u00b11% en el rango de temperatura de funcionamiento.</p> <p>En arduinoblocks se implementa el bloque del sensor con las aceleraciones y giros en los ejes X, Y y Z que vemos en la imagen siguiente:</p> <p> <p> Bloque Accel+Gyro</p> <p></p> <p>A continuaci\u00f3n vamos a analizar la posici\u00f3n de los ejes X, Y, Z con la micro:STEAMakers vista por su cara frontal con el conector USB-C en la parte superior. La forma habitual en que vemos la pantalla de LEDs RGB.</p> <p>Analizando la imagen siguiente:</p> <p> <p> Analisis de la posici\u00f3n de los ejes</p> <p></p> <p>Fijamos la posici\u00f3n de los ejes que vemos en la imagen siguiente:</p> <p> <p> Posici\u00f3n de los ejes</p> <p></p> <p>Tal y como vemos en la imagen siguiente, un programa en el que asignamos al plotter las aceleraciones en los tres ejes nos devuelve como resultado que cuando movemos la placa en el eje X habitual responde la aceleraci\u00f3n en Y (marr\u00f3n oscuro) y al moverlo en Y responde la de X (magenta claro). La tercera gr\u00e1fica corresponde al eje Z.</p> <p> <p> Cambios de ejes X e Y</p> <p></p> <p>Como veremos en la actividad correspondiente el problema en muy sencillo de solucionar (si no lo est\u00e1 en el propio IDE de programaci\u00f3n) para que las direcciones del movimiento sean la que habitualmente utilizamos en los ejes coordenados.</p> <p>En la imagen siguiente se analiza la aceleraci\u00f3n en el eje Z:</p> <p> <p> Aceleraci\u00f3n eje Z</p> <p></p> <p>El problema se repite cuando trabajamos con los datos de giro.</p>"},{"location":"microSTEAMakers/contmicroSM/#tarjeta-microsd","title":"Tarjeta microSD","text":"<p>La placa ESP32 microSTEAMakers incorpora un lector de tarjetas microSD conectada mediante el bus SPI para comunicarse con el micro controlador.</p> <p>El lector se conecta utilizando los pines:</p> <ul> <li>io5 - CS o Chip Select</li> <li>io23 - MOSI o Master Output Slave Input: Salida de datos del Master y entrada de datos al Esclavo.</li> <li>io19 - MISO o Master Input Slave Output: Salida de datos del Esclavo y entrada al Master.</li> <li>io18 - SCK o Clock</li> </ul> <p>En la imagen siguiente podemos apreciar la posici\u00f3n del lecto SD en la parte posterior de la placa.</p> <p> <p> Lector de tarjetas microSD</p> <p></p>"},{"location":"microSTEAMakers/contmicroSM/#seguridad","title":"Seguridad","text":"<p>A la hora de utilizar la placa ESP32 STEAMakers, es fundamental seguir unas pautas de seguridad para garantizar tanto el buen funcionamiento de la placa como la seguridad de los usuarios. A continuaci\u00f3n, se exponen varios consejos clave:</p> <ul> <li>Evita cortocircuitos: Hay que asegurarse de que la placa no est\u00e9 alimentada cuando se manipulan materiales y herramientas conductores de electricidad. Esto ayuda a prevenir cortocircuitos inesperados que podr\u00edan da\u00f1ar la placa o causar accidentes.</li> <li>Manipula la placa con cuidado: Los pines donde se conectan componentes diversos son delicados y pueden romperse o doblarse si se aplica una gran fuerza o palanca. Hay que ser especialmente prudente en la manipulaci\u00f3n y evitar ca\u00eddas o golpes que puedan afectar a la placa.</li> <li>Controla la temperatura: Es necesario tener en cuenta que la temperatura de la placa puede aumentar considerablemente durante el uso prolongado. Algunos componentes pueden calentarse y es importante evitar el contacto directo para prevenir quemaduras o da\u00f1os en la placa.</li> <li>Revisa regularmente los componentes: Es conveniente comprobar regularmente el estado de los componentes electr\u00f3nicos y las conexiones. Los conectores sueltos o desgastados pueden causar un mal funcionamiento de la placa o ser un riesgo de seguridad.</li> <li>Usa adecuadamente la alimentaci\u00f3n: Utiliza s\u00f3lo las fuentes de alimentaci\u00f3n recomendadas. Un voltaje incorrecto puede da\u00f1ar la placa o incluso ser peligroso, ya que puede producir sobrecalentamiento de componentes o cortocircuitos.</li> <li>Mant\u00e9n la placa en un entorno seco y limpio: La presencia de l\u00edquidos o polvo puede causar cortocircuitos o da\u00f1ar los componentes de la placa.</li> </ul> <p>Siguiendo estos consejos, podr\u00e1s disfrutar de una experiencia segura y enriquecedora con la placa programable.</p>"},{"location":"microSTEAMakers/crea_libreria/","title":"Como crear una libreria","text":"<p>Secci\u00f3n basada en la entrada de la MicroBlocks Wiki titulada How to create a library - by Turgut Guneysu donde se muestra el paso a paso para crear nuestras propias librerias en MicroBlocks.</p> <p>En realidad la libreria que vamos a hacer no sirve nada mas que para explicar los pasos a seguir para su creaci\u00f3n. No obstante si vamos a traducir las definiciones y procesos descritos en el enlace anterior.</p>"},{"location":"microSTEAMakers/crea_libreria/#que-es-una-libreria","title":"Que es una libreria","text":"<p>Cuando escribimos c\u00f3digo y nos encontramos repitiendo constantemente un conjunto de instrucciones o ciertos procedimientos, puede resultar \u00fatil codificarlos una sola vez y convertir el resultado en una libreria o libreria, de modo que nosotros y otros podamos utilizarla m\u00e1s adelante simplemente carg\u00e1ndola y utiliz\u00e1ndola en nuestros programas.</p> <p>Por lo tanto, una libreria es una colecci\u00f3n de c\u00f3digo centrada en habilitar un componente, perif\u00e9rico o funcionalidad espec\u00edficos. Lo importante que distingue a una libreria de un programa es que una libreria es un componente o un bloque de construcci\u00f3n que se utilizar\u00e1 en un programa, pero no es un programa completo en s\u00ed misma.</p> <p>Las librerias se pueden crear utilizando el entorno de desarrollo integrado (IDE) del lenguaje de programaci\u00f3n correspondiente o escribiendo c\u00f3digo en el lenguaje fuente original que se utiliz\u00f3 para crear dicho entorno IDE.</p>"},{"location":"microSTEAMakers/crea_libreria/#que-hace-una-libreria","title":"Que hace una libreria","text":"<p>Una buena libreria debe:</p> <ul> <li>Tener un prop\u00f3sito u objetivo espec\u00edfico.</li> <li>Implementar una interfaz de usuario limpia.</li> <li>No hacer cosas irrelevantes.</li> </ul> <p>Para lograr los objetivos mencionados anteriormente, necesitamos planificar y reflexionar.</p> <ul> <li>Objetivo: </li> </ul> <p>La libreria debe tener una funci\u00f3n espec\u00edfica para lograr un resultado concreto.</p> <p>Para ello, debemos pensar en la tarea que se nos ha encomendado y asegurarnos de reducirla a su funcionalidad m\u00e1s importante, que ser\u00e1 la que se recoja en la libreria. Ya sea para activar un componente de hardware o para realizar alg\u00fan tipo de manipulaci\u00f3n de datos, el objetivo de la libreria debe ser claro y conciso.</p> <ul> <li>Interface: </li> </ul> <p>La libreria debe implementar una interfaz de usuario limpia y clara.</p> <p>Este aspecto es el m\u00e1s visible y relevante de la libreria. Los usuarios de nuestra libreria interactuar\u00e1n con nuestro c\u00f3digo a trav\u00e9s de la interfaz de usuario y juzgar\u00e1n su usabilidad y claridad en funci\u00f3n de esta.</p> <p>Para organizar la interfaz de nuestra libreria, debemos tener en cuenta tanto las entradas como las salidas.</p> <p>Las entradas constituir\u00e1n todos los datos que necesitamos de los usuarios para que la libreria pueda realizar su funci\u00f3n. Estos se organizar\u00e1n como par\u00e1metros de entrada para nuestra libreria.</p> <p>Las salidas son lo que la libreria proporcionar\u00e1 como resultado del procesamiento de las entradas. Algunas librerias solo realizan operaciones que dan lugar a un cambio f\u00edsico. Otras devuelven un valor claramente definido.</p> <p>Es importante tener en cuenta que no todas las funciones de la libreria devuelven siempre un valor.</p> <ul> <li>Relevancia: </li> </ul> <p>La mayor\u00eda de los c\u00f3digos de la libreria comienzan su vida como una funcionalidad de bloque personalizada codificada por el usuario. Nos damos cuenta de que nos falta alguna caracter\u00edstica y escribimos algunos bloques personalizados para solucionarlo. Luego, decidimos que ser\u00eda \u00fatil compartir esta funcionalidad y la convertimos en una libreria.</p> <p>Es f\u00e1cil dejarse llevar y empezar a a\u00f1adir m\u00e1s y m\u00e1s funcionalidades al c\u00f3digo. Esto conduce a un resultado final muy complicado. Lo mejor es planificar lo que hay que hacer y centrarse \u00fanicamente en conseguir esa funcionalidad.</p> <p>A menudo ser\u00e1 necesario desglosar ciertas caracter\u00edsticas y agruparlas para crear la libreria. Estas se presentar\u00e1n como bloques de funciones relacionadas que realizan diversos aspectos de la misma tarea original.</p> <p>Un buen ejemplo es la libreria de pantallas LED de MicroBlocks, que contiene bloques para manipular el panel LED como un agregado o como LEDs individuales, y tambi\u00e9n tiene la capacidad de mostrar letras y n\u00fameros.</p> <p> </p> <p>Los bloques de una libreria MicroBlocks no deben superar los 1000 bytes de longitud.</p>"},{"location":"microSTEAMakers/crea_libreria/#vamos-a-escribir-una","title":"Vamos a escribir una","text":"<p>Para simplificar las cosas, nos centraremos en el desarrollo de una libreria sencilla utilizando el IDE de MicroBlocks.</p> <p>Dicha libreria no va a tener un prop\u00f3sito especifico, salvo ilustrar el proceso de creaci\u00f3n, y solamente va a contener bloques que nos mostrar\u00e1n mensajes en la pantalla.</p> <p>La interface va a contener inicialmente dos bloques definidos as\u00ed:</p> <p> <p></p> <p></p> <p>Y esta ser\u00eda la parte de c\u00f3digo de nuestra libreria que denominaremos \"Mensajes\".</p> <p>En una situaci\u00f3n real (mas complejidad en el c\u00f3digo) es muy conveniente guardar nuestro programa para evitar accidentes que puedan ocasionar la p\u00e9rdida del trabajo realizado. Por ahora vamos a llamarlo \"Mensajes.ubp\".</p>"},{"location":"microSTEAMakers/crea_libreria/#conversion-a-libreria","title":"Conversi\u00f3n a libreria","text":"<p>El siguiente paso que vamos a dar es convertir el programa \"Mensajes.ubp\" es una libreria para MicroBlocks.</p> <p>Una libreria se define con la extensi\u00f3n \".ubl\".</p> <p>Lo que tenemos que hacer es tomar el programa con los c\u00f3digos que hemos creado y convertirlo en un archivo con la extensi\u00f3n adecuada.</p> <p>MicroBlocks proporciona la forma de hacerlo f\u00e1cilmente. Hay que tener activado el modo avanzado y tendremos disponible la opci\u00f3n \"Exportar funciones como libreria\" en el bot\u00f3n \"Fichero\".</p> <p> <p></p> <p></p> <p>Esta opci\u00f3n nos proporciona una manera de guardar el programa personalizado que hemos creado como un archivo con formato de libreria.</p> <p>Escribimos (o se nos mostrar\u00e1) el nombre \"Mensajes\" para nuestra Librer\u00eda y pulsamos Aceptar.</p> <p> <p></p> <p></p> <p>Ahora se muestra la ventana de di\u00e1logo para guardar archivos donde podremos colocar el archivo de libreria \"Mensajes.ubl\" en el directorio deseado de nuestro sistema.</p> <p> <p></p> <p></p> <p>Una vez completado el proceso ya podremos comenzar un nuevo proyecto, ir a la secci\u00f3n A\u00f1adir librer\u00eda del IDE de MicroBlocks y cargar nuestra Librer\u00eda desde donde la guardamos directamente en cualquier programa que queramos.</p> <p>Al compartir el archivo \"Mensajes.ubl\", proporcionaremos la manera en que otros usuarios puedan utilizar nuestra libreria de la misma manera. Evidentemente, en este caso no lo haremos.</p> <p> <p></p> <p></p>"},{"location":"microSTEAMakers/crea_libreria/#informacion-de-la-libreria","title":"Informaci\u00f3n de la libreria","text":"<p>Ya sea en un programa nuevo o en el mismo que se ha creado, una vez a\u00f1adida la libreria al IDE es conveniente cumplimentar la informaci\u00f3n b\u00e1sica de la misma. Para ello hacemos clic derecho sobre el nombre de la libreria y escogemos la opci\u00f3n marcada:</p> <p> <p></p> <p></p> <p>Haciendo clic en la opci\u00f3n indicada accedemos a la ventana de informaci\u00f3n de la libreria Mensajes:</p> <p> <p></p> <p></p> <p>Ahora debemos guardar la informaci\u00f3n suministrada en la ventana haciendo clic en el bot\u00f3n \"Guarda\" remarcado en verde en la imagen anterior. Pero \u00a1CUIDADO! porque esto solamente guarda los cambios realizados en la ventana para el proyecto actual. Si queremos guardar los cambios en la libreria, para que estos queden disponibles en la misma, debemos acceder a la opci\u00f3n \"Exportar esta libreria\" del men\u00fa contextual de la misma y sobre escribir la misma.</p> <p> <p></p> <p></p>"},{"location":"microSTEAMakers/crea_libreria/#metodo-sencillo-de-versionando-de-una-libreria","title":"M\u00e9todo sencillo de versionando de una libreria","text":"<p>Una vez creada una libreria, es necesario mantenerla actualizada y, con el tiempo, es posible que tengas varias versiones de la misma.</p> <p>Pero antes de nada, algunos comentarios sobre c\u00f3mo trabajar con scripts destinados a convertirse en librerias:</p> <ul> <li>No es necesario exportar los bloques personalizados a una libreria para poder probarlos.</li> <li>Simplemente util\u00edzalos en el mismo programa donde los has desarrollado y sigue mejor\u00e1ndolos hasta que est\u00e9n listos.</li> </ul> <p>Guardar nuestra libreria Como hemos hecho en la secci\u00f3n anterior, cuando estemos satisfechos con el progreso, guardaremos nuestra libreria export\u00e1ndola con la ayuda del men\u00fa Archivos.</p> <ul> <li>Fase n.\u00ba 1:</li> </ul> <p>Durante el proceso de exportaci\u00f3n, se solicita un nombre para la libreria. Este nombre ser\u00e1 el que se utilizar\u00e1 cuando se cargue la libreria en MicroBlocks.</p> <p>El proceso de exportaci\u00f3n muestra un cuadro de di\u00e1logo y propone el nombre original del programa como predeterminado.</p> <p>Aqu\u00ed, es posible que desees cambiar el nombre propuesto por otro para la libreria y eliminar definitivamente la extensi\u00f3n UBP sugerida.</p> <p>Ten en cuenta que no se utiliza ninguna extensi\u00f3n en el cuadro de di\u00e1logo Guardar.</p> <p>Este primer paso del proceso de exportaci\u00f3n crea un archivo de exportaci\u00f3n a partir del programa fuente original. Tambi\u00e9n realiza un cambio interno en este archivo para designarlo como archivo de libreria y coloca el nombre que se le da en la primera l\u00ednea del archivo UBL exportado.</p> <ul> <li>Fase n.\u00ba 2:</li> </ul> <p>En el segundo paso de la exportaci\u00f3n, se pedir\u00e1 un nombre de archivo del sistema para el archivo exportado en el disco del PC.</p> <p>La extensi\u00f3n UBL se asignar\u00e1 autom\u00e1ticamente, lo que indica que se trata de un archivo de libreria.</p> <p>Ten en cuenta estas diferencias:</p> <pre><code>  - El programa inicial era el archivo de script con extensi\u00f3n UBP.\n  - El archivo de libreria exportado tiene la extensi\u00f3n UBL.\n</code></pre> <p>Cambiar y guardar una versi\u00f3n de nuestra libreria Cada vez que necesites cambiar la libreria, debes trabajar con el archivo .UBP. Esa es la fuente original y contiene todos sus bloques.</p> <p>Aqu\u00ed puedes realizar cambios en los bloques existentes, as\u00ed como crear otros nuevos, seg\u00fan sea necesario. Y puedes probarlos en el mismo programa, sin necesidad de exportarlos.</p> <p>Cuando todo est\u00e9 listo y desees crear otra versi\u00f3n de la libreria, sigue el proceso de exportaci\u00f3n:</p> <ul> <li> En el primer paso, puedes mantener el mismo nombre interno de la libreria.</li> <li> En el segundo paso, al escribir el archivo de la libreria en el disco del PC, puedes nombrarlo con un n\u00famero de versi\u00f3n; por ejemplo: Mensajes-v01.UBL</li> </ul> Para el caso de la libreria \"Mensajes\", este proceso dar\u00e1 como resultado los siguientes archivos: <p>ARCHIVO ORIGINAL: Mensajes.UBP  </p> <p>Archivo Lib: Mensajes.UBL \u2190 primera versi\u00f3n que se guard\u00f3</p> <p>Archivo Lib: Mensajes-v01.UBL \u2190 siguiente versi\u00f3n que se guard\u00f3 y a la que se asign\u00f3 un n\u00famero de versi\u00f3n.</p> <p>Si quieres probar la libreria como tal, inicia un nuevo proyecto y arrastra y suelta cualquiera de los archivos Mensajes.UBL en \u00e9l. Aparecer\u00e1n en la secci\u00f3n librerias y podr\u00e1n utilizarse en el c\u00f3digo.</p> <p>A medida que avances, es posible que decidas que algunas de las versiones anteriores ya no son necesarias. Por lo tanto, puedes eliminar cualquiera de los archivos UBL anteriores y crear otros nuevos seg\u00fan sea necesario.</p> <p>Aunque el proceso descrito puede resultar un poco complicado, es infalible para un usuario de MicroBlocks:</p> <ul> <li> Siempre tendr\u00e1s tu programa original.</li> <li> Y siempre tendr\u00e1s tus versiones de libreria exportadas.</li> <li> Puedes ir y venir y trabajar con ellas sin preocuparte por perder tu trabajo.</li> </ul> <p>Despu\u00e9s de unos cuantos ciclos y librerias publicadas, podemos empezar a buscar otras formas de editar las librerias.</p>"},{"location":"microSTEAMakers/crea_libreria/#metodo-avanzado-de-versionando-de-una-libreria","title":"M\u00e9todo avanzado de versionando de una libreria","text":"<p>Existe otro m\u00e9todo \u00fatil para a\u00f1adir nuevos bloques a una libreria sin tener que volver al c\u00f3digo fuente original del proyecto.</p> <p>Empieza creando un nuevo proyecto e importando la libreria en la que est\u00e1s trabajando. Para ello, arrastra y suelta el archivo UBL en el IDE.</p> <p>Crea un nuevo bloque en la categor\u00eda \"Mis bloques\" y prueba su funcionamiento.</p> <p> <p></p> <p></p> <p>Ahora viene la parte m\u00e1gica:</p> <ul> <li> <p> Si a\u00fan no se muestra, haz clic con el bot\u00f3n derecho en el bloque nuevo y selecciona \"Mostrar definici\u00f3n de bloque\". Tambi\u00e9n puedes hacer clic con el bot\u00f3n derecho en el nombre de la categor\u00eda Mis bloques y seleccionar \"Mostrar todas las definiciones de bloques\".</p> </li> <li> <p> Arrastra la definici\u00f3n del bloque nuevo (la definici\u00f3n de bloque es la pila de bloques con un bloque con sombrero morado en la parte superior) y su\u00e9ltala sobre el nombre de tu libreria en la paleta. \u00a1El bloque desaparecer\u00e1 de \"Mis bloques\" y aparecer\u00e1 en la libreria!</p> </li> </ul> <p> <p></p> <p></p> <p>En la animaci\u00f3n siguiente observamos como el bloque ha desaparecido de \"Mis bloques\" y se ha colocado como parte de la libreria.</p> <p> <p></p> <p></p> <p>Cuando tengas todo listo, puedes volver a exportar la libreria con un nuevo n\u00famero de versi\u00f3n. Puede conservar varias versiones antiguas por si deseas volver a alguna de ellas.</p> <p>NOTA:</p> <p>Es muy importante que, al arrastrar y soltar el bloque reci\u00e9n creado en el nombre de la libreria en el men\u00fa \"Librerias\" de la izquierda, coloques el puntero del rat\u00f3n exactamente sobre el nombre de la libreria que aparece en el men\u00fa. No basta con que el script copiado se superponga al nombre de la libreria que aparece en el men\u00fa: el cursor del rat\u00f3n debe estar dentro de \u00e9l.</p> <p> <p></p> <p></p>"},{"location":"microSTEAMakers/crea_libreria/#los-cambios-de-color-ayudan","title":"Los cambios de color ayudan","text":"<p>A medida que sigues el ejemplo anterior, debes prestar atenci\u00f3n a los cambios de color de los bloques. Estos son \u00fatiles para seguir el proceso.</p> <p>Cuando cargas \"Mensajes\", el nombre de la libreria en el men\u00fa y sus bloques son de color verde. El color de la libreria depende de la funcionalidad que proporcionan los bloques y, por lo general, lo asignan los desarrolladores de MicroBlocks al incorporar la libreria al IDE. Las diferentes librerias tendr\u00e1n diferentes colores.</p> <p>Cuando creas tu nuevo bloque personalizado en la categor\u00eda Mis bloques, el bloque reci\u00e9n creado tiene el mismo color que la categor\u00eda Mis bloques: azul.</p> <p>Al arrastrar y soltar este bloque en el nombre de la libreria \"Mensajes\" en la secci\u00f3n del men\u00fa \"Librerias\", y se convierte en parte de tu libreria, cambia de color a verde, el color de tu libreria.</p> <p>En \"Mensajes-v1.2\" se ha cambiado el color a rojo para distinguirla de la versi\u00f3n anterior.</p> <p> <p></p> <p></p>"},{"location":"microSTEAMakers/crea_libreria/#aviso-final","title":"Aviso final","text":"<p>Este m\u00e9todo de actualizaci\u00f3n de la libreria no conserva el archivo UBP original. En su lugar, se crea un archivo UBP temporal exportando la libreria cargada. La libreria exportada recibe el mismo nombre y cualquier bloque nuevo se a\u00f1ade directamente a este archivo. A continuaci\u00f3n, es necesario realizar otra exportaci\u00f3n para capturar las \u00faltimas modificaciones. Una vez completado, se obtiene una libreria reci\u00e9n actualizada, sin embargo, no hay un archivo UBP correspondiente que lo incluya todo. En su lugar, se obtiene la \u00faltima versi\u00f3n del archivo UBL para la libreria. Todas las actualizaciones futuras se realizar\u00e1n a partir de este archivo.</p>"},{"location":"microSTEAMakers/lib_wifi/","title":"MicroBlocks, libreria WiFi","text":"<p> <p> Logo Wi-Fi Obtenido en Wikipedia</p> <p></p> <p>Wi-Fi es el nombre comercial propiedad de la Wi-Fi Alliance para designar su familia de protocolos de comunicaci\u00f3n inal\u00e1mbrica basados en el est\u00e1ndar IEEE 802.11 para redes de \u00e1rea local sin cables. Su primera denominaci\u00f3n en ingl\u00e9s fue Wireless Ethernet Compatibility Alliance.</p> <p>WLAN (Wireless Local Area Network o red de \u00e1rea local inal\u00e1mbrica) es una red inal\u00e1mbrica que permite conectar de forma inal\u00e1mbrica dos o m\u00e1s dispositivos para formar una red de \u00e1rea local a escala limitada.</p> <p> <p> WLAN Traducido de MicroBlocks Wiki</p> <p></p> <p>la libreria WIFI de MicroBlocks es compatible con muchas placas microcontroladas con capacidad WIFI. Con unos simples bloques, no es muy complicado configurar una conexi\u00f3n WIFI para participar en la infraestructura IP local; o incluso crear una red basada en hotspot o punto de acceso portatil.</p> <p>Esta librer\u00eda forma la base para aplicaciones m\u00e1s avanzadas basadas en WIFI donde uno de los muchos protocolos IP son usados para construir aplicaciones; ej: WebSocket, UDP, HTTP, MQTT etc. Hay bibliotecas separadas y ejemplos proporcionados sobre c\u00f3mo lograr estos.</p> <p>Para ver algunos ejemplos de proyectos WIFI, consulte el art\u00edculo M\u00e9todos de control remoto WIFI en la WIKI de MicroBlocks. Tambi\u00e9n se pueden probar los ejemplos proporcionados en el men\u00fa Archivo/Abrir/Ejemplos/ Red:</p> <p> <p> Abrir ejemplo </p> <p></p>"},{"location":"microSTEAMakers/lib_wifi/#resumen-de-los-bloques","title":"Resumen de los bloques","text":"<p>Para cada bloque hay una breve descripci\u00f3n y una descripci\u00f3n detallada del bloque y los componentes.</p> <p>Se dan c\u00f3digos de ejemplo sobre c\u00f3mo utilizar los bloques. Para probarlos, todo lo que tienes que hacer es descargar los archivos ubp y abrirlos en una sesi\u00f3n del IDE de MicroBlocks en un navegador y los tendr\u00e1s en el \u00e1rea de programaci\u00f3n del editor. A continuaci\u00f3n, basta con hacer clic sobre ellos y ver los resultados.</p> <p> Descripci\u00f3n corta Permite conectarse a la red local Crea un punto de acceso dando sus credenciales Retorna la direcci\u00f3n IP obtenida Retorna la direcci\u00f3n MAC del dispositivo WIFI Habilita el uso simultaneo de WIFI y BLE <p></p> <p>Hay dos tipos distintos de formas de bloque:</p> <ul> <li>oval: son bloques de informaci\u00f3n que devuelven alg\u00fan tipo de informaci\u00f3n. Normalmente, el usuario los asignar\u00eda a una variable del proyecto o los utilizar\u00eda en una ranura de entrada adecuada de otros bloques.</li> <li>rectangular: son bloques de comando que realizan una funci\u00f3n programada y no devuelven ninguna informaci\u00f3n.</li> </ul> <p>Sobre la descripci\u00f3n de los bloques</p> <p>Estos bloques s\u00f3lo funcionar\u00e1n con placas que tenga capacidad WIFI; por ejemplo: ESP8266 y ESP32.</p> <p>Aseg\u00farate de utilizar credenciales WIFI espec\u00edficas para tu entorno de red. Las utilizadas aqu\u00ed son a modo de ejemplo y NO FUNCIONAR\u00c1N.</p>"},{"location":"microSTEAMakers/lib_wifi/#conectate-a-la-wifi","title":"Con\u00e9ctate a la wifi","text":"<p> Este bloque se utiliza para iniciar sesi\u00f3n en la red IP local con las credenciales proporcionadas. Una vez completado el proceso de registro, se obtiene una direcci\u00f3n IP del router local.</p> <p>El siguiente ejemplo demuestra la conexi\u00f3n a la red WIFI local mostrando las credenciales utilizadas. Recuerda sustituir tus propios valores de SSID (Service Set Identifier o nombre p\u00fablico de una red WLAN) y CONTRASE\u00d1A.</p> <p> <p> Con\u00e9ctate a la wifi Descargar archivo</p> <p></p>"},{"location":"microSTEAMakers/lib_wifi/#crea-un-punto-de-acceso-wifi","title":"Crea un punto de acceso wifi","text":"<p> Si no hay una red IP disponible en las proximidades, es posible hacer que el microcontrolador cree un punto de acceso para proporcionar este servicio. En este caso, el microcontrolador act\u00faa como un punto de acceso (AP) al igual que lo hace el router en el ejemplo de red WIFI normal. Una vez establecido el hotspot, todos los dispositivos remotos pueden conectarse a \u00e9l y obtener sus direcciones IP directamente del dispositivo hotspot.</p> <p>Aseg\u00farate de que la contrase\u00f1a que utiliza es del tipo STRING y tiene como m\u00ednimo 8 caracteres de longitud. Hay entornos como Windows, en los que el SO no permitir\u00e1 la creaci\u00f3n de hotspots \"sin contrase\u00f1a\" (hotspots de acceso abierto). En la imagen siguiente se ha pulsado el bot\u00f3n derecho del rat\u00f3n sobre el campo de entrada de valor de la variable password y vemos c\u00f3mo verificar el tipo de variable de contrase\u00f1a:</p> <p> <p> Verificar tipo de variable </p> <p></p> <p>Cuando seleccione s\u00f3lo texto en el men\u00fa desplegable, el campo cambiar\u00e1 de un blanco ovalado a un blanco rectangular.</p> <p>En el ejemplo siguiente, programamos el microcontrolador para crear un hotspot con las credenciales dadas. Los detalles del hotspot se muestran una vez completado con \u00e9xito el inicio del hotspot.</p> <p>Tengase en cuenta que en este modo de funcionamiento, no es posible el acceso a Internet en circunstancias normales. Adem\u00e1s, el rango de direcciones IP asignadas por el punto de acceso ser\u00e1 diferente del asignado por tu router de Internet.</p> <p> <p> Crea un punto de acceso wifi Descargar archivo</p> <p></p> <p>El hotpost no provee acceso a internet</p> <p>Tengase en cuenta que, en circunstancias normales, el hotspot NO proporciona acceso a Internet.</p> <p>Es s\u00f3lo un medio para que los dispositivos locales se comuniquen entre s\u00ed.</p> <p> <p> Crea un punto de acceso wifi </p> <p></p>"},{"location":"microSTEAMakers/lib_wifi/#direccion-ip","title":"Direcci\u00f3n IP","text":"<p>De Wikipedia, la enciclopedia libre</p> <p>Una direcci\u00f3n de Protocolo de Internet (direcci\u00f3n IP) es una etiqueta num\u00e9rica como 192.0.2.1 que est\u00e1 conectada a una red inform\u00e1tica que utiliza el Protocolo de Internet para la comunicaci\u00f3n. Una direcci\u00f3n IP cumple dos funciones principales: la identificaci\u00f3n de la interfaz de red y el direccionamiento de la ubicaci\u00f3n.</p> <p>La versi\u00f3n 4 del Protocolo de Internet (IPv4) define una direcci\u00f3n IP como un n\u00famero de 32 bits. Sin embargo, debido al crecimiento de Internet y al agotamiento de las direcciones IPv4 disponibles, en 1998 se estandariz\u00f3 una nueva versi\u00f3n de IP (IPv6), que utiliza 128 bits para la direcci\u00f3n IP. El despliegue de IPv6 est\u00e1 en marcha desde mediados de la d\u00e9cada de 2000.</p> <p>Las direcciones IP se escriben y muestran en notaciones legibles para el ser humano, como 192.0.2.1 en IPv4, y 2001:db8:0:123:0:567:8:1 en IPv6.</p> <p>El tama\u00f1o del prefijo de enrutamiento de la direcci\u00f3n se designa en notaci\u00f3n CIDR sufijando la direcci\u00f3n con el n\u00famero de bits significativos, por ejemplo 192.0.2.1/24, que equivale a la m\u00e1scara de subred 255.255.255.0 utilizada hist\u00f3ricamente.</p> <p>En la imagen siguiente podemos ver la descomposici\u00f3n de una direcci\u00f3n IPv4:</p> <p> <p> Direcci\u00f3n IPv4</p> <p></p> <p>Cuando se establece con \u00e9xito una conexi\u00f3n entre el microcontrolador y el router de Internet, o se inicia un hotspot, se asigna una direcci\u00f3n IP.</p> <p>En el caso de la conexi\u00f3n normal a Internet, se trata de la direcci\u00f3n asignada por el DHCP del router de Internet. En el caso del hotspot, la direcci\u00f3n es asignada por el dispositivo microcontrolador.</p>"},{"location":"microSTEAMakers/lib_wifi/#direccion-mac","title":"Direcci\u00f3n MAC","text":"<p>De Wikipedia, la enciclopedia libre</p> <p>Una direcci\u00f3n de control de acceso al medio (direcci\u00f3n MAC) es un identificador \u00fanico asignado a un controlador de interfaz de red (NIC) para su uso como direcci\u00f3n de red en comunicaciones dentro de un segmento de red. Este uso es com\u00fan en la mayor\u00eda de las tecnolog\u00edas de red IEEE 802, incluidas Ethernet, Wi-Fi y Bluetooth. Tal y como suelen representarse, las direcciones MAC se reconocen como seis grupos de dos d\u00edgitos hexadecimales, separados por guiones, dos puntos o sin separador.</p> <p>Una direcci\u00f3n MAC tiene el formato siguiente:</p> <p> <p> Direcci\u00f3n MAC </p> <p></p> <p>En HWaddress: MAC address and OUI lookup podemos localizar informaci\u00f3n sobre direcciones MAC.</p> <p>En la imagen siguiente tenemos ampliada la informaci\u00f3n de la MAC:</p> <p> <p> Direcci\u00f3n MAC Obtenida de Wikipedia</p> <p></p> <p>El siguiente ejemplo muestra como obtener la direcci\u00f3n MAC. En el mismo se muestra la conexi\u00f3n a la red WIFI local mostrando las credenciales utilizadas.</p> <p> <p> MAC del dispositivo Descargar archivo</p> <p></p>"},{"location":"microSTEAMakers/lib_wifi/#permitir-wifi-y-ble","title":"Permitir WiFi y BLE","text":"<p> Para las placas que tienen funcionalidad WIFI y BLE soportadas en MicroBlocks, permite controlar el uso simult\u00e1neo de ambas, bas\u00e1ndose en la configuraci\u00f3n del interruptor booleano.</p> <p>MicroBlocks IDE soporta conectividad BLE, para poder editar el c\u00f3digo de forma inal\u00e1mbrica. Uno puede combinar esto con la funci\u00f3n WIFI de la placa si es necesario.</p>"},{"location":"microSTEAMakers/lib_wifi/#libreria-ble-scanner","title":"Libreria BLE Scanner","text":"<p>BLE Scanner Library es una herramienta para monitorizar dispositivos BLE p\u00fablicos y acceder a sus caracter\u00edsticas. La m\u00e1s \u00fatil de ellas es el nombre del dispositivo. Los dispositivos BLE tienen asignado un nombre corto o largo, y se pueden identificar en las listas de exploraci\u00f3n con esos nombres.</p> <p>BLE Scanner est\u00e1 desarrollado para ayudar a la comunidad Bluetooth, tanto desarrolladores como usuarios para rastrear dispositivos inteligentes Bluetooth.</p> <p>En las siguientes im\u00e1genes se ve c\u00f3mo un escaneo BLE muestra los nombres de los dispositivos y las direcciones MAC en una aplicaci\u00f3n de escaneo BLE de Android, as\u00ed como los nombres de los dispositivos en el escaneo interno de la configuraci\u00f3n BLE de Android.</p> <p> <p> Dispositivos emparejados y resultado BLE Scanner </p> <p></p> <p>Los bloques disponibles son:</p> <p> Bloque Descripci\u00f3n Devuelve TRUE cuando se detecta un dispositivo por escaneo BLE Devuelve el RSSI(*), oscila entre -26 (unos pocos cent\u00edmetros) y -100 (40-50 m de distancia) Devuelve la direcci\u00f3n MAC, un identificador \u00fanico de 48 bits Devuelve el tipo de direcci\u00f3n Devuelve el nombre del dispositivo Devuelve TRUE si el nombre del dispositivo es de tipo 8 o 9 <p>(*) RSSI (Received Signal Strength Indicator) o indicador de fuerza de la se\u00f1al recibida.</p> <p></p>"},{"location":"microSTEAMakers/lib_wifi/#web-serial-esptool","title":"Web Serial ESPTool","text":""},{"location":"microSTEAMakers/lib_wifi/#compatibilidad-y-configuraciones","title":"Compatibilidad y configuraciones","text":"<p>Esta herramienta se ha dise\u00f1ado para ser una opci\u00f3n web para programar placas microcontroladoras de la familia ESP de Espressif. Es una herramienta que nos permite cargar cualquier firmware sin necesidad de usar el conector y cable USB nativo de la placa.</p> <p>Web serial funciona en el navegador Chrome, Chromium o navegadores que son Chromium como Microsoft Edge y Opera. Safari, Firefox y otros sistemas no son compatibles porque no implementan Web Serial! (they have not implemented Web Serial!). En la imagen vemos una captura de la web anterior que muestra la compatibilidad de navegadores tanto en ordenadores como en dispositivos m\u00f3viles:</p> <p> <p> Compatibilidad de navegadores</p> <p></p> <p>Es muy posible que debamos habilitar la API serie, lo cual es realmente sencillo. Visitamos chrome://flags desde la barra de navegaci\u00f3n de Chrome o Chromium. En la imagen vemos como localizar Experimental Web Platform features y el estado actual.</p> <p> <p> Experimental Web Platform features</p> <p></p> <p>Cuando habilitamos la caracter\u00edstica se nos avisa de que los cambios se aplican al reiniciar el navegador y nos muestra un bot\u00f3n para realizar la tarea.</p> <p> <p> Experimental Web Platform features</p> <p></p> <p>Con esto ya tendremos disponible el dispositivo para la conexi\u00f3n v\u00eda web.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/","title":"MicroBlocks + App Inventor + BLE","text":""},{"location":"microSTEAMakers/mb_inventor_BLE/#introduccion","title":"Introducci\u00f3n","text":"<p>Se trata de ampliar las funcionalidades de Bluetooth LE utilizando como plataforma de programaci\u00f3n MicroBlocks y la placa micro:STEAMakers que estamos tratando en esta web.</p> <p>AVISO:</p> <p>Se ha usado una versi\u00f3n de pruebas para introducir el nuevo IDE 2.0 de MicroBlocks. Si dispones de una versi\u00f3n actualizada posterior es posible que tengas que realizar algunos cambios en los programas.</p> <p>Nos vamos a basar en MicroBlocks BLE Extension, extensi\u00f3n de App Inventor aportada a la comunidad MIT APP INVENTOR por Peter Mathijssen:</p> <p> <p> Peter en MIT App Inventor</p> <p></p> <p>En la imagen siguiente vemos el aspecto del nuevo IDE con la libreria micro:STEAMaker cargada y un sencillo programa en la zona de programaci\u00f3n:</p> <p> <p> Aspecto del IDE 2.0</p> <p></p> <p>Para versiones 2.0.39 o posterior la libreria de la micro:STEAMakers ya no es la que se ve en la imagen anterior.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#microblocks","title":"MicroBlocks","text":"<p>MicroBlocks es un lenguaje de programaci\u00f3n por bloques para computaci\u00f3n f\u00edsica. Funciona en microcontroladores como micro:bit, micro:STEAMakers, Calliope mini, AdaFruit Circuit Playground Express y muchas otras.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#codificacion-de-forma-interactiva","title":"Codificaci\u00f3n de forma interactiva","text":"<p>MicroBlocks es un entorno \"en vivo (en directo)\". Al hacer clic en un bloque se ejecutar\u00e1 inmediatamente, directamente en la placa. Prueba comandos. Ver y graficar los valores de los sensores en tiempo real. Se acab\u00f3 esperar a que el c\u00f3digo se compile y se descargue.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#multitarea-natural","title":"Multitarea Natural","text":"<p>\u00bfQuieres visualizar una animaci\u00f3n mientras controlas un motor? No hay problema, MicroBlocks permite escribir scripts separados para cada tarea y ejecutarlos al mismo tiempo. El c\u00f3digo es m\u00e1s sencillo de escribir y m\u00e1s f\u00e1cil de entender.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#correr-en-cualquier-sitio","title":"Correr en cualquier sitio","text":"<p>MicroBlocks funciona en muchas placas diferentes, pero sus scripts son portables. Los botones, sensores y bloques de pantalla se comportan igual en todas las placas con el hardware relevante. MicroBlocks incluso simula la pantalla micro:bit 5x5 LED en pantallas TFT.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#desconecta-y-adelante","title":"Desconecta y \u00a1adelante!","text":"<p>MicroBlocks descarga el c\u00f3digo en el microcontrolador a medida que lo escribes. Cuando te guste lo que hace tu programa, desconecta la placa y listo. Crea un juego de bolsillo, una aplicaci\u00f3n de fitness o ropa luminosa que vaya contigo a todas partes.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#microblocks-20","title":"MicroBlocks 2.0","text":"<p>Las diferencias entre MicroBlocks 1.2 y 2.0 son obvias y se ven a primera vista.</p> <p> <p> El viejo MicroBlocks 1.2 El nuevo MicroBlocks 2.0</p> <p></p> <p>MicroBlocks 2.0 tiene una interfaz de usuario completamente redise\u00f1ada y moderna, con iconos limpios, una atractiva combinaci\u00f3n de colores, una paleta de bloques animados y compatibilidad con el modo oscuro. Los cambios en el dise\u00f1o de los bloques incluyen contornos m\u00e1s sencillos, mejor contraste de colores para mejorar la legibilidad, campos de entrada de datos m\u00e1s grandes y tri\u00e1ngulos de selecci\u00f3n de men\u00fas y opciones m\u00e1s grandes y manejables.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#transicion-del-firmware","title":"Transici\u00f3n del firmware","text":"<p>MicroBlocks 2.0 tambi\u00e9n mejora la m\u00e1quina virtual (VM), el firmware que ejecuta el c\u00f3digo MicroBlocks. La antigua VM utilizaba instrucciones de longitud fija de 32 bits; la nueva utiliza instrucciones de longitud variable de 16 bits.</p> <p>Dado que utilizan conjuntos de instrucciones completamente diferentes, las dos VM no son compatibles. MicroBlocks 2.0 requiere la nueva VM (versiones de firmware 300 y posteriores) mientras que las versiones anteriores de MicroBlocks requieren la antigua VM (versiones de firmware anteriores a 300).</p> <p>No hay diferencias a nivel de c\u00f3digo fuente; los mismos archivos de proyecto y biblioteca de MicroBlocks funcionan tanto en MicroBlocks 2.0 como en versiones anteriores.</p> <p>La primera vez que se conecta una placa con firmware antiguo a MicroBlocks 2.0 se pedir\u00e1 que actualice el firmware:</p> <p> <p> Primera conexi\u00f3n firmware antiguo</p> <p></p> <p>Si intentas utilizar una placa con un firmware que no es compatible con la versi\u00f3n de MicroBlocks que est\u00e1s utilizando, recibir\u00e1s esta advertencia al intentar ejecutar el c\u00f3digo:</p> <p> <p> Firmware no compatible</p> <p></p> <p>Si se recibe esa advertencia, s\u00f3lo hay que actualizar el firmware de la placa utilizando el comando \"actualizar firmware de la placa\" en el men\u00fa engranajes. Esto actualizar\u00e1 la placa con el firmware que coincida con la versi\u00f3n de MicroBlocks que se est\u00e9 utilizando. Se puede utilizar la misma t\u00e9cnica para revertir el firmware y utilizar una versi\u00f3n anterior de MicroBlocks, si lo necesitamos.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#transicion-a-la-version-estable","title":"Transici\u00f3n a la versi\u00f3n estable","text":"<p>Tras varias semanas de pruebas de MicroBlocks 2.0 como versi\u00f3n piloto, la versi\u00f3n estable tambi\u00e9n se actualizar\u00e1 a MicroBlocks 2.0.</p> <p>Sin embargo, incluso despu\u00e9s de eso, las versiones anteriores de MicroBlocks podr\u00e1n descargarse utilizando el bot\u00f3n \"Previous Versions\" de la p\u00e1gina de descargas:</p> <p> <p> </p> <p></p> <p>La \u00faltima versi\u00f3n estable de la versi\u00f3n antigua es la 1.2.100.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#microblocks-ble-extension","title":"MicroBlocks BLE Extension","text":"<p>La extensi\u00f3n hace que la conexi\u00f3n a microcontroladores sea muy f\u00e1cil. Hace todo el trabajo dif\u00edcil por ti utilizando los bloques que contiene.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#metodos","title":"M\u00e9todos","text":"<p>Est\u00e1n disponibles los bloques para los siguientes m\u00e9todos:</p> <ul> <li>Connect</li> </ul> <p> <p> Bloque Connect</p> <p></p> <p>Conectar a MicroBlocks el dispositivo con el nombre indicado. Tenemos que importar la extensi\u00f3n \"Bluetooth LE\" y utilizar el bloque \"BluetoothLE\" () de esa extensi\u00f3n como primer par\u00e1metro de este bloque. El segundo par\u00e1metro es el nombre de la placa a la que desea conectarse, como \"MicroBlocks XYZ\", donde XYZ es el ID BLE de tres letras de la placa.</p> Par\u00e1metro Tipo bleExtension componente name texto <ul> <li>Disconnect</li> </ul> <p> <p> Bloque Disconnect</p> <p></p> <p>Se desconecta del dispositivo BluetoothLE actualmente conectado, si lo hubiera.</p> <ul> <li>IsDeviceConnected</li> </ul> <p> <p> Bloque IsDeviceConnected</p> <p></p> <p>Devuelve el valor booleano 'true' si un dispositivo est\u00e1 conectado.</p> <ul> <li>SendMessage</li> </ul> <p> <p> Bloque SendMessage</p> <p></p> <p>Env\u00eda el mensaje dado a MicroBlocks.</p> Par\u00e1metro Tipo message texto"},{"location":"microSTEAMakers/mb_inventor_BLE/#eventos","title":"Eventos","text":"<p>Est\u00e1n disponibles los siguientes eventos:</p> <ul> <li>ConnectionChanged</li> </ul> <p> <p> Bloque ConnectionChanged</p> <p></p> <p>Este evento se ejecuta cuando se conecta o desconecta un dispositivo.</p> Par\u00e1metro Tipo isConnected booleano <ul> <li>MicroBlocksMessageReceived</li> </ul> <p> <p> Bloque MicroBlocksMessageReceived</p> <p></p> <p>Este evento se ejecuta cuando se recibe un mensaje MicroBlocks.</p> Par\u00e1metro Tipo isConnected texto"},{"location":"microSTEAMakers/mb_inventor_BLE/#ejemplos","title":"Ejemplos","text":"<p>Si no conocemos el BLE id de la placa que estamos utilizando, una forma sencilla de averiguarlo es dirigirnos a la categor\u00eda 'Entrada' de MicroBlocks. La placa tiene que estar conectada al IDE para mostrar el BLE id.</p> <p> <p> BLE id</p> <p></p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#enviar-mensaje-desde-microcontrolador-a-una-app","title":"Enviar mensaje desde microcontrolador a una App","text":"<p>Seguimos trabajando con las extensiones:</p> <ul> <li>MicroBlocks BLE Extension.</li> <li>Tools Extension, de Pura Vida Apps seg\u00fan los t\u00e9rminos y condiciones que aparecen en la web de la extensi\u00f3n:</li> </ul> <p>Utilizo esta extensi\u00f3n para mantener la pantalla activa mientras el microcontrolador permanece conectado.</p> <p> <p> Captura de la web Pura Vida Apps</p> <p></p> <p>Traducci\u00f3n libre de esta captura:</p> <p>T\u00e9rminos y Condiciones</p> <ul> <li>\u00a1Divi\u00e9rtete y utiliza esta extensi\u00f3n en tus proyectos de App Inventor! \u00a1Pura Vida!</li> <li>EL SOFTWARE SE PROPORCIONA \"TAL CUAL\", SIN GARANT\u00cdA DE NING\u00daN TIPO, EXPRESA O IMPL\u00cdCITA, INCLUIDAS, ENTRE OTRAS, LAS GARANT\u00cdAS DE COMERCIABILIDAD, IDONEIDAD PARA UN FIN DETERMINADO Y NO INFRACCI\u00d3N. EN NING\u00daN CASO LOS AUTORES O LOS TITULARES DE LOS DERECHOS DE AUTOR SER\u00c1N RESPONSABLES DE NINGUNA RECLAMACI\u00d3N, DA\u00d1O U OTRA RESPONSABILIDAD, YA SEA EN UNA ACCI\u00d3N CONTRACTUAL, EXTRACONTRACTUAL O DE OTRO TIPO, QUE SURJA DE, O EST\u00c9 RELACIONADA CON EL SOFTWARE O EL USO U OTRAS OPERACIONES CON EL SOFTWARE.</li> <li>Este es el \u00fanico lugar autorizado para descargar esta extensi\u00f3n. No est\u00e1 permitido alojar esta extensi\u00f3n en otro lugar y ofrecerla para que otros la descarguen, ya sea en otro sitio web o market place o similar. La raz\u00f3n es que todo el mundo deber\u00eda tener la oportunidad de donar algo en caso de que le guste mi trabajo. Se le permite proporcionar un enlace a este sitio, para que otros puedan descargar la extensi\u00f3n. Aqu\u00ed encontrar\u00e1 siempre la versi\u00f3n m\u00e1s actualizada, incluyendo documentaci\u00f3n y ejemplos de uso. Gracias por su comprensi\u00f3n.</li> </ul> <p>Por las razones expresadas en estos \"T\u00e9rminos y Condiciones\" aqu\u00ed solamente se facilita el enlace a la web del autor.</p> <p>El dise\u00f1o de la App tiene el aspecto de la imagen siguiente y bajo su t\u00edtulo tenemos el enlace de descarga de Recibir_un_dato_desde_microncontrolador.aia.</p> <p> <p> Descargar Recibir_un_dato_desde_microncontrolador.aia</p> <p></p> <p>Una vez escaneado el QR de AI Companion debemos ver la aplicaci\u00f3n de la imagen, donde observamos que:</p> <ul> <li>Nos avisa que no distingue may\u00fasculas y min\u00fasculas.</li> <li>Solicita el BLE id de la placa (ISJ en nuestro caso) para poder conectar.</li> <li>El bot\u00f3n se usar\u00e1 para conectar y desconectar la App con la placa.</li> <li>Inicialmente la etiqueta donde se refleja el dato recibido no contiene ning\u00fan texto.</li> </ul> <p> <p> Pantalla inicial</p> <p></p> <p>Introducimos el BLE id y pulsamos en el bot\u00f3n \"Conectar\". El bot\u00f3n se pone de color verde y cambia su texto indicando que la conexi\u00f3n est\u00e1 establecida correctamente. Tmabi\u00e9n aparece la etiqueta que muestra el dato recibido.</p> <p> <p> Conexi\u00f3n establecida</p> <p></p> <p>Por otra parte el programa en MicroBlocks est\u00e1 enviado el valor de inclinaci\u00f3n de la placa respecto al eje X cada 100ms.</p> <p> <p> Descargar Recibir_un_dato_desde_microncontrolador.ubp</p> <p></p> <p>Para que el programa est\u00e9 en la placa necesitamos establecer conexi\u00f3n entre el IDE de MicroBlocks y la misma, pero es MUY IMPORTANTE que cuando finalicemos esta tarea desconectemos la placa del IDE o no podremos establecer la conexi\u00f3n desde la App. Recordemos que no est\u00e1n permitidas dos conexiones con la misma placa.</p> <p>En la animaci\u00f3n siguiente podemos observar el funcionamiento del ejemplo.</p> <p> <p> Funcionamiento de Recibir_un_dato_desde_microncontrolador</p> <p></p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#recibir-multiples-datos","title":"Recibir m\u00faltiples datos","text":"<p>Este ejemplo es una continuaci\u00f3n del anterior \"Enviar mensaje desde microcontrolador a una App\" y por tanto seguimos trabajando con las extensiones:</p> <ul> <li>MicroBlocks BLE Extension.</li> <li>Tools Extension, de Pura Vida Apps seg\u00fan los t\u00e9rminos y condiciones que aparecen en la web de la extensi\u00f3n vistos anteriormente.</li> </ul> <p>El dise\u00f1o de la App tiene el aspecto de la imagen siguiente y bajo su t\u00edtulo tenemos el enlace de descarga de RecibirMultiplesDatos.aia.</p> <p> <p> App RecibirMultiplesDatos Descargar RecibirMultiplesDatos.aia</p> <p></p> <p>La conexi\u00f3n con AI Companion y la placa micro:STEAMakers es exactamente la misma que en los ejemplos anteriores.</p> <p>El programa en MicroBlocks est\u00e1 enviado el valor de inclinaci\u00f3n de la placa respecto a los tres ejes cada 100ms.</p> <p> <p> Descargar RecibirMultiplesDatos.ubp</p> <p></p> <p>En la animaci\u00f3n siguiente podemos observar el funcionamiento del ejemplo.</p> <p> <p> Funcionamiento de RecibirMultiplesDatos</p> <p></p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#recibir-multiples-datos-utilizando-palabras-clave","title":"Recibir m\u00faltiples datos utilizando palabras clave","text":"<p>Otra forma de resolver el ejemplo anterior es utilizar palabras clave (keywords) para distinguir unos datos de otros.</p> <p>Seguimos trabajando con las extensiones:</p> <ul> <li>MicroBlocks BLE Extension.</li> <li>Tools Extension, de Pura Vida Apps seg\u00fan los t\u00e9rminos y condiciones que aparecen en la web de la extensi\u00f3n vistos anteriormente.</li> </ul> <p>Utilizo esta extensi\u00f3n para mantener la pantalla activa mientras el microcontrolador permanece conectado.</p> <p>El dise\u00f1o de la App tiene el aspecto de la imagen siguiente y bajo su t\u00edtulo tenemos el enlace de descarga de RecibirMultiplesDatosKeywords.aia.</p> <p> <p> Descargar RecibirMultiplesDatosKeywords.aia</p> <p></p> <p>Aunque ya figura comentado en el programa, indicar que como car\u00e1cter delimitador entre la clave y el valor del dato se utiliza el espacio en blanco y su valor decimal en Lat\u00edn b\u00e1sico del listado de caracteres Unicode es 32 (U+0020).</p> <p>La conexi\u00f3n con AI Companion y la placa micro:STEAMakers es exactamente la misma que en los ejemplos anteriores.</p> <p>El programa en MicroBlocks est\u00e1 enviado el valor de inclinaci\u00f3n de la placa respecto a los tres ejes cada 100ms.</p> <p> <p> Programa RecibirMultiplesDatosKeywords.ubp Descargar RecibirMultiplesDatosKeywords.ubp</p> <p></p> <p>El funcionamiento es totalmente id\u00e9ntico al del ejemplo anterior.</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#beating-heart","title":"Beating Heart","text":"<p>Este ejemplo es el que aparece en MicroBlocks BLE Extension, extensi\u00f3n de App Inventor aportada a la comunidad MIT APP INVENTOR por Peter Mathijssen.</p> <p>Su adaptaci\u00f3n a micro:STEAMakers y a los ejemplos anteriores es la que vamos a desarrollar en este apartado. Partimos del ejemplo EstablecerConexionMejorado que cargamos y archivamos como Beating_Heart_microSM</p> <p>Seguimos trabajando con las extensiones:</p> <ul> <li>MicroBlocks BLE Extension.</li> <li>Tools Extension, de Pura Vida Apps seg\u00fan los t\u00e9rminos y condiciones que aparecen en la web de la extensi\u00f3n vistos anteriormente.</li> </ul> <p>Utilizo esta extensi\u00f3n para mantener la pantalla activa mientras el microcontrolador permanece conectado.</p> <p>El dise\u00f1o de la App tiene el aspecto de la imagen siguiente y bajo su t\u00edtulo tenemos el enlace de descarga de Beating_Heart_microSM.aia.</p> <p> <p> App Beating_Heart_microSM Descargar Beating_Heart_microSM.aia</p> <p></p> <p>La conexi\u00f3n con AI Companion y la placa micro:STEAMakers es la misma que en los ejemplos anteriores.</p> <p>El programa en MicroBlocks est\u00e1 recibiendo mensajes que se envian y el valor recibido en el \u00faltimo mensaje lo guarda en la variable <code>wait</code>, de forma que dicha variable tomar\u00e1 como valor el de la posici\u00f3n del deslizador de la App que como podemos comprobar var\u00eda entre 100 y 1000 y su posici\u00f3n inicial se sit\u00faa en 500. Por defecto el programa tambi\u00e9n asigna dicho valor (500) a la variable, que en definitiva es el retardo entre las im\u00e1genes que se muestran, que ya podemos deducir que estar\u00e1 entre 100ms y 1000ms.</p> <p> <p> Descargar Beating_Heart_microSM.ubp</p> <p></p> <p>En la animaci\u00f3n siguiente podemos observar el funcionamiento del ejemplo. Como se observa el programa est\u00e1 grabado en la placa y como los latidos est\u00e1n dentro de un bucle infinito, el coraz\u00f3n ya est\u00e1 latiendo.</p> <p> <p> Funcionamiento de Beating_Heart_microSM</p> <p></p> <p>Como se observa al final, cuando no hay conexi\u00f3n los cambios en la pantalla no tienen efecto en la placa. Esto se debe al bloque \"call TaifunTools1.DontKeepScreenOn\".</p>"},{"location":"microSTEAMakers/mb_inventor_BLE/#led-editor-microsteamakers","title":"LED editor micro:STEAMakers","text":"<p>Este ejemplo creado y documentado por Peter Mathijssen tiene su historial en el servidor MicroBlocks en Discord en el hilo #appinventor. Utilizar\u00e9 aqu\u00ed la versi\u00f3n que tan amablemente Peter me envi\u00f3 a trav\u00e9s de esta misma plataforma.</p> <p>La documentaci\u00f3n del ejemplo est\u00e1 en LED editor using MicroBlocks extension.</p> <p>Seguimos trabajando con las extensiones:</p> <ul> <li>MicroBlocks BLE Extension.</li> <li>Tools Extension, de Pura Vida Apps seg\u00fan los t\u00e9rminos y condiciones que aparecen en la web de la extensi\u00f3n vistos anteriormente.</li> </ul> <p>Utilizo esta extensi\u00f3n para mantener la pantalla activa mientras el microcontrolador permanece conectado.</p> <p>El dise\u00f1o de la App tiene el aspecto de la imagen siguiente y bajo su t\u00edtulo tenemos el enlace de descarga de led_editor_v1.aia.</p> <p> <p>! Descargar led_editor_v1.aia</p> <p></p> <p>Dada la extensi\u00f3n del software se pone por partes para facilitar su visualizaci\u00f3n.</p> <p> <p> App led_editor_v1. Conexi\u00f3n/Desconexi\u00f3n </p> <p> App led_editor_v1. Variables </p> <p> App led_editor_v1. Botonera</p> <p></p> <p>Any Component Blocks</p> <p>Este \u00faltimo evento es un bloque del tipo \u201cCualquier componente (Any Component)\u201d propio de MIT App Inventor que resulta especialmente \u00fatil cuando queremos realizar una misma operaci\u00f3n en muchos componentes diferentes sin necesidad de copiar y pegar cada bloque las veces que sea necesario. La idea es sustituir diferentes componentes por un solo componente, lo que se consigue con los bloques \"cualquier componente\".</p> <p>Los bloques de componentes tienen eventos, m\u00e9todos y propiedades, y cada uno de ellos tiene sus correspondientes bloques \"cualquier componente\".</p> <p>Se puede cambiar entre un bloque para un componente espec\u00edfico y el bloque de cualquier componente equivalente a trav\u00e9s de los elementos de men\u00fa \"Make Generic\" en el men\u00fa contextual (clic derecho) de un bloque.</p> <p>En el enlace del t\u00edtulo del recuadro tenemos toda la informaci\u00f3n al respecto.</p> <p>La conexi\u00f3n con AI Companion y la placa micro:STEAMakers se realiza de la manera habitual.</p> <p>En el programa en MicroBlocks, estando conectada la placa, se muestra al inicio el \"BLE id\" de la placa y se crea una lista con los mismos colores que la aplicaci\u00f3n.</p> <p>La recepci\u00f3n de mensajes se hace utilizando el separador \",\" (coma) para dividir el mensaje en sus tres partes, que son los \u00edndices de la fila, la columna y el color elegido. La coordenada (1,1) es el LED superior izquierdo y los colores se numeran de izquierda a derecha del 1 al 8.</p> <p> <p> Descargar led_editor_v1.ubp</p> <p></p> <p>En la animaci\u00f3n siguiente podemos observar el funcionamiento del ejemplo. Como vemos el programa est\u00e1 grabado en la placa sin el bloque que muestra los valores del mensaje recibido desplaz\u00e1ndose.  <p> Funcionamiento de led_editor_v1</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/","title":"Programaci\u00f3n con MicroBlocks","text":""},{"location":"microSTEAMakers/prog_uB/#conexion-y-carga-de-la-libreria","title":"Conexi\u00f3n y carga de la libreria","text":"<p>La primera tarea que vamos a realizar es conectar la placa micro:STEAMakers a un puerto USB del ordenador mediante un cable USB-A / USB-C y desde el men\u00fa MicroBlocks (el engranaje) proceder a actualizar el firmware de la placa.</p> <p> <p> Actualizar el firmware de la placa</p> <p></p> <p>Al final del todo vemos como se pone en verde el icono USB indicando que la conexi\u00f3n est\u00e1 realizada con la micro:STEAMakers y la m\u00e1quina virtual se est\u00e1 ejecutando por lo que ya podemos trabajar en vivo con la placa.</p> <p> <p> Primer trabajo en vivo</p> <p></p> <p>Al realizar la conexi\u00f3n con la placa micro:STEAMakers se cargan por defecto las librerias dependientes que vemos en la imagen siguiente:</p> <p> <p> Librerias que se cargan por defecto</p> <p></p> <p>Tambi\u00e9n podemos a\u00f1adir la libreria (creada por Joan Guill\u00e9n) con los bloques especificos de micro:STEAMakers.</p> <p> <p> Primer trabajo en vivo</p> <p></p> <p>Vamos a ver como se realiza esta tarea utilizando la versi\u00f3n pilot de Microblocks v2.0.18. Realizamos una serie de consideraciones acerca del funcionamiento del programa:</p> <ul> <li> <p>Microblocks prioriza el proyecto que tenga cargado en la interfaz (\u00a1no borrar\u00e1 nada de lo que tengamos en pantalla al conectarse a una placa!). Cuando tenemos un proyecto (aunque sea un solo bloque en el \u00e1rea de programaci\u00f3n), al conectar una placa se cargar\u00e1 este programa en ella. Cuando hacemos esto rutinariamente, podemos clicar en el \"play\" (tri\u00e1ngulo) para asegurarnos de que se realiza esta acci\u00f3n de sincronizaci\u00f3n.</p> </li> <li> <p>Cuando Microblocks tiene un proyecto en blanco (acabamos de abrir, o sin conectar la placa hacemos Archivo-&gt;Nuevo) y conectamos una placa, seg\u00fan la configuraci\u00f3n que tengamos, priorizar\u00e1 cargar el programa que tenga la placa. Esta configuraci\u00f3n se puede cambiar, en el men\u00fa de Configuraci\u00f3n (escogiendo el \"modo avanzado\") veremos la opci\u00f3n \"auto-PlugShare en proyectos vac\u00edos\".</p> </li> </ul> <p> <p> Opci\u00f3n auto-PlugShare en proyectos vac\u00edos</p> <p></p> <ul> <li>Cuando el proyecto est\u00e1 vac\u00edo y la placa tampoco tiene programa, Microblocks puede cargar (lo hace por defecto) las librer\u00edas asociadas a la placa que hemos conectado. Este comportamiento tambi\u00e9n lo podemos modificar en el men\u00fa de Configuraci\u00f3n (escogiendo \"modo avanzado\") en la opci\u00f3n \"autocarga las librer\u00edas de la placa\".</li> </ul> <p> <p> Opci\u00f3n autocarga las librer\u00edas de la placa</p> <p></p> <p>Es decir, el comportamiento es configurable, pero debemos quedarnos en una primera descripci\u00f3n es el comportamiento \"por defecto\". Y en este caso lo que hace cambiar el comportamiento es tener en primera instancia un proyecto modificado (aunque fuera un peque\u00f1o movimiento de bloques) y en segunda instancia, un proyecto ya guardado en la placa (aunque est\u00e9 vac\u00edo, pero al que ya se han cargado manualmente librer\u00edas).</p> <p>Con una placa micro:STEAMakers conectada, al seleccionar \"actualizar firmware de la placa\", a partir de la versi\u00f3n 2.0, podemos seleccionar directamente la placa micro:STEAMakers y con las configuraciones vistas anteriormente se produce una carga de librerias como la que vemos en la animaci\u00f3n siguiente:</p> <p> <p> Actualizar el firmware de la placa</p> <p></p> <p>Cuando finaliza el proceso se muestra el mensaje siguiente:</p> <p> <p> Actualizar el firmware de la placa</p> <p></p> <p>Continuamos el proceso de conexionado:</p> <p> <p> Actualizar el firmware de la placa</p> <p></p> <p>Y ya tenemos disponibles los bloques de la micro:STEAMakers y las librerias dependientes cargadas. Si desconectamos la placa y creamos un nuevo proyecto recuperamos la situaci\u00f3n por defecto, tal y como vemos en la imagen siguiente:</p> <p> <p> Creado archivo nuevo sin placa conectada</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#comentarios","title":"Comentarios","text":"<p>En MicroBlocks los comentarios son tratados desde un \u00fanico bloque que podemos encontrar en el men\u00fa 'Control'. Es un bloque que no hace nada. Se utiliza para a\u00f1adir notas y documentaci\u00f3n a los scripts.</p> <p> <p> Comentarios</p> <p></p> <p>La ventana de entrada de texto se autodimensiona seg\u00fan introducimos texto y se pueden a\u00f1adir l\u00edneas pulsando la tecla enter.</p>"},{"location":"microSTEAMakers/prog_uB/#control","title":"Control","text":"<p>En este grupo tenemos acceso a los bloques de control de la placa.</p> <ul> <li>al empezar. Los bloques debajo de este se ejecutan cuando se enciende la placa o cuando se hace clic en el icono verde EJECUTAR que tiene forma de flecha. Es uno de los bloques denominados sombrero.</li> </ul> <p> <p> Bloque 'al empezar'</p> <p></p> <ul> <li>por siempre. Se trata del bloque de la imagen y es un bloque que se ejecuta de manera indefinida.</li> </ul> <p> <p> Bloque 'por siempre'</p> <p></p> <ul> <li>espera xx milisegundos. Espera el n\u00famero de milisegundos indicado antes de continuar.</li> </ul> <p> <p> Bloque 'espera xx milisegundos'</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#pantalla-leds-rgb","title":"Pantalla LEDs RGB","text":"<p>Estos son los bloques de control de la matriz de 5x5 LEDs RGB.</p> <p> <p> Bloques Pantalla LEDs RGB</p> <p></p> <ul> <li>m:s clear display (limpia pantalla). Apaga todos los LEDs.</li> </ul> <p> <p> Bloque m:s clear display (limpia pantalla)</p> <p></p> <p>Se trata de un bloque que pone a 0 (cero) el color de todos los LEDs RGB actualizando su estado. En la imagen siguiente vemos su definici\u00f3n:</p> <p> <p> Definici\u00f3n del bloque m:s clear display (limpia pantalla)</p> <p></p> <ul> <li>pantalla micro:STEAM. Muestra una imagen de la pantalla que permite cambiar el color de cada LED de manera individual haciendo clic sobre el mismo y utilizando la paleta RGB que se muestra.</li> </ul> <p> <p> Bloque pantalla micro:STEAM</p> <p></p> <p>El bloque lo que hace es sustituir el elemento de la lista '_ms_neoPixels' por el valor RGB que le demos desde la paleta. La definici\u00f3n del bloque es:</p> <p> <p> Definici\u00f3n del bloque pantalla micro:STEAM</p> <p></p> <p>En el video siguiente vemos el trabajo b\u00e1sico con el bloque en MicroBlocks, aunque el fuerte brillo de los LEDs deslumbra la webcam y no se aprecia en exceso. Vemos como la placa trabaja en vivo incluso en el men\u00fa de bloques sin necesidad de arrastrarlo al \u00e1rea de programa. Esto es especialmente \u00fatil para probar funcionalidad antes de llevarlo al programa.</p> <p> <p>Im\u00e1genes capturadas con una versi\u00f3n en desarrollo del programa</p> <p></p> <ul> <li>m:s set global brightness scale to. Este bloque permite establecer el brillo de los LEDs en porcentaje. Su aspecto es el siguiente:</li> </ul> <p> <p> Bloque m:s set global brightness scale to</p> <p></p> <p>Retomamos el ejemplo \"Uso del bloque m:s display image with color\" para reformarlo modificando el brillo seg\u00fan la imagen que se muestra. En la animaci\u00f3n siguiente tenemos el resultado.</p> <p> <p> Uso del bloque m:s set global brightness scale to Descargar programa</p> <p></p> <ul> <li>m:s plot x,y with. Enciende el LED indicado en la coordenada x,y. La coordenadas x es la horizontal y la y es la vertical. La coordenada 1,1 es la esquina superior ezquierda, la 1,5 es la derecha, la 5,1 es la inferior izquierda y la 5,5 la inferior derecha. El color se elige desde la paleta. Las coordenadas por defecto corresponden al LED central.</li> </ul> <p> <p> Bloque m:s plot x,y with</p> <p></p> <ul> <li>m:s unplot x,y. Apaga el LED indicado en la coordenada x,y. La coordenadas x es la horizontal y la y es la vertical. La coordenada 1,1 es la esquina superior ezquierda, la 1,5 es la derecha, la 5,1 es la inferior izquierda y la 5,5 la inferior derecha. Las coordenadas por defecto corresponden al LED central.</li> </ul> <p> <p> Bloque m:s unplot x,y</p> <p></p> <ul> <li>color al azar. Lo podemos encontrar en la libreria \"Gr\u00e1ficos y pantallas \u2192 Color\". Genera un color aleatorio.</li> </ul> <p> <p> Bloque color al azar</p> <p></p> <p>En la animaci\u00f3n siguiente tenemos un ejemplo de uso de los bloques plot, unplot y color al azar. El ejemplo lo que hace es recorrer dos bucles, uno para las filas y otro para las columnas que har\u00e1 que se encienda un LED cada 100ms en un color aleatorio, se detenga un segundo y los apague en el mismo orden que se encendieron, se detiene un segundo y se inicia de nuevo el proceso.</p> <p> <p> Uso de los bloques m:s plot x,y; m:s unplot x,y y color al azar Descargar programa</p> <p></p> <ul> <li>color rva (0-255). Lo podemos encontrar en la libreria \"Gr\u00e1ficos y pantallas \u2192 Color\". Para establecer colores en formato RGB (sigla del ingl\u00e9s Red, Green, Blue; en espa\u00f1ol, \u2018Rojo, Verde, Azul\u2019 o RVA), donde (0,0,0) corresponde a negro y (255,255,255) a blanco.</li> </ul> <p> <p> Bloque color rva (0-255)</p> <p></p> <p>En la animaci\u00f3n siguiente tenemos un ejemplo de uso de los bloques muestra caracter y color rva. El ejemplo muestra la palabra 'Hola' caracter a caracter en diferentes colores y tras dos segundos muestra de forma intermitente el caracter '!' en un color RGB aleatorio. Mientras en el IDE se muestra la cantidad de rojo, verde y azul que se utiliza para la letra H.</p> <p> <p> Uso de los bloques muestra caracter y color rva Descargar programa</p> <p></p> <ul> <li>color hsv. Para establecer colores en formato HSV (siglas del ingl\u00e9s Hue, Saturation, Value \u2013 Matiz, Saturaci\u00f3n, Valor).</li> </ul> <p> <p> Bloque color HSV</p> <p></p> <p>En la animaci\u00f3n siguiente tenemos un ejemplo de uso de estos bloques HSV.</p> <p> <p> Uso de los bloques color hsv Descargar programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#operadores","title":"Operadores","text":"<p>Esta entrada se crea porque en MicroBlocks, en el men\u00fa espec\u00edfico, aparecen algunos operadores especiales. Las descripciones siguiente son las obtenidas de MicroBlocks Wiki.</p> <p>Dentro del grupo de bloques est\u00e1ndar tenemos los que se ven en la imagen.</p> <p> <p> Bloques est\u00e1ndar</p> <p></p> <ul> <li>  Devuelve el resto de la divisi\u00f3n entre los dos n\u00fameros introducidos, ambos inclusive.</li> <li> Devuelve un n\u00famero aleatorio (al azar) entre el primer y el segundo valor indicado.</li> </ul> <p>En la imagen vemos un ejemplo donde se averigua si un n\u00famero generado al azar es par o impar.</p> <p>A la variable <code>num_aleatorio</code> se le asigna un n\u00famero aleatorio del 1 al 15. La operaci\u00f3n <code>m\u00f3dulo</code> se utiliza para comprobar si el resto es 0 y as\u00ed saber si el n\u00famero es par. Si el resto de la operaci\u00f3n <code>num_aleatorio</code> dividido por 2 da como resultado 0, el n\u00famero es par, en caso contrario es impar. Si el n\u00famero es par se muestra un cuadrado (4 lados = par) y si es impar un tri\u00e1ngulo rect\u00e1ngulo (3 lados = impar).</p> <p> <p> Par o impar Descargar el programa</p> <p></p> <p>Con este ejemplo comprobamos que una vez conectada la micro:STEAMakers (si no el programa nos indica que no lo est\u00e1 y no funcionar\u00e1), el bloque <code>di</code> muestra como retorno un mensaje que aparece asociado al bloque <code>al empezar</code> en la pantalla del ordenador. Esta es la forma de trabajar de MicroBlocks y hace que el c\u00f3digo se compruebe de manera instant\u00e1nea siempre que los bloques est\u00e9n acoplados a <code>al empezar</code>.</p> <ul> <li>  Devuelve <code>True</code> si la expesi\u00f3n de entrada del lado izquierdo coincide con la selecci\u00f3n del men\u00fa de tipos de datos realizada en el lado derecho. Los tipos de datos son importantes a la hora de programar. Aunque un entorno como MicroBlocks facilita las cosas a los usuarios principiantes al encargarse de las conversiones de tipos de datos, todav\u00eda es posible enga\u00f1arse visualmente al comparar variables cuyos valores parecen iguales. Este bloque pertenece al grupo de condicionales, pero se describe ahora porque se utiliza en el ejemplo siguiente.</li> </ul> <p> <p> N\u00famero o cadena Descargar el programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#operadores-avanzados","title":"Operadores avanzados","text":"<p>El contenido de este apartado se basa en Operators del manual de referencia que encontramos en la wiki de Microblocks.</p> <p>En la secci\u00f3n 'Avanzados' vemos algunos bloques que representan operaciones bit a bit. Los operadores bit a bit (bitwise) trabajan sobre representaciones binarias de datos y su utilidad est\u00e1 en cambiar bits individuales en un operando. Los dos operandos asociados al operador bit a bit deben ser enteros. En la imagen vemos los bloques que aparecen en avanzados.</p> <p>Para facilitar el seguimiento de los detalles y ejemplos que se presentan a continuaci\u00f3n, se ha proporcionado una tabla de referencia en la que se detallan los valores de posici\u00f3n de los bytes en decimal y hexadecimal.</p> <p>Posici\u00f3n de valores y bytes</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#anatomia-de-un-numero-binario","title":"Anatomia de un n\u00famero binario","text":"<p>Un n\u00famero binario es un n\u00famero expresado en el sistema de numeraci\u00f3n de base 2 o sistema num\u00e9rico binario, que utiliza s\u00f3lo dos s\u00edmbolos: normalmente \"0\" (cero) y \"1\" (uno).</p> <p>Un byte es un n\u00famero binario de ocho bits. Cada bit es un 0 o un 1.</p> <p>Para determinar el valor decimal de un n\u00famero binario de ocho bits, consulte la tabla Posici\u00f3n del byte y sume todos los valores decimales de las columnas en las que el n\u00famero binario tiene un 1.</p> <p>Ejemplo:</p> <p>N\u00famero binario: 0010 0110</p> <p>Valor decimal: 38</p> <p>Explicaci\u00f3n:</p> <p></p> <p>Suma todos los valores decimales con un 1 binario en esa columna:</p> <p>Valores decimales: 32 + 4 + 2 = 38</p> <p> <p> Bloques de operadores avanzados</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#if-ternario","title":"If ternario","text":"<p>Se eval\u00faa la condici\u00f3n expresada en la primera posici\u00f3n. Si es TRUE, se devuelve la expresi\u00f3n en la segunda posici\u00f3n o si es FALSE, se devuelve la expresi\u00f3n en la tercera posici\u00f3n.</p> <p>Aunque funcionalmente es muy similar a la construcci\u00f3n IF-THEN-ELSE, el hecho de que este bloque sea un informador, le confiere una usabilidad extra. El valor devuelto puede colocarse en otras operaciones directamente en l\u00ednea, sin la estructura del bloque if-then-else.</p> <p>La condici\u00f3n expresada en la primera ranura tiene que evaluarse a un resultado verdadero/falso.</p> <p>Los valores de las ranuras segunda y tercera pueden ser expresiones que se eval\u00faen con cualquier tipo de datos. Adem\u00e1s, tambi\u00e9n pueden ser nombres de funciones o sentencias de llamada que hagan referencia a nombres de funciones; lo que proporciona la m\u00e1xima flexibilidad y compactaci\u00f3n en el c\u00f3digo escrito.</p> <p>Ejemplo:</p> <p>Un ejemplo sencillo ser\u00eda la evaluaci\u00f3n par/impar de un n\u00famero. La operaci\u00f3n MOD devuelve el resto de dos n\u00fameros divididos entre s\u00ed.</p> <p>Si utilizamos una divisi\u00f3n por 2, si el resultado es 0, el n\u00famero es par; y si el resultado no es 0, el n\u00famero es impar.</p> <p>Para convertir el resultado de la divisi\u00f3n en un formato verdadero/falso, utilizamos la operaci\u00f3n convertir con la opci\u00f3n booleana.</p> <p> <p></p> <p></p> <p>Una segunda versi\u00f3n del mismo ejemplo utiliza funciones personalizadas que devuelven los resultados de la evaluaci\u00f3n como \"El n\u00famero es IMPAR\" o \"El n\u00famero es PAR\". Estos nombres de funci\u00f3n se utilizan como valores de la segunda y tercera posici\u00f3n.</p> <p> <p></p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#reescalado","title":"Reescalado","text":"<p>Permite modificar el rango de un valor o variable desde un rango origen a un rango destino. Esta funci\u00f3n es especialmente \u00fatil para adaptar los valores le\u00eddos de sensores o para adaptar valores a aplicar en un actuador.</p> <p>Ejemplo:</p> <p>Tenemos un potenci\u00f3metro conectado al pin 1 del microcontrolador. Manipulando el potenci\u00f3metro se generan valores en el rango de 0-1023. Convertiremos estos valores al rango de 0-5 para nuestra aplicaci\u00f3n.</p> <p>Leemos el valor del pin anal\u00f3gico 1 y lo almacenamos en una variable llamada pinValue. Luego usamos la variable como entrada en el primer par\u00e1metro del bloque de reescalado. El rango \"desde\" del bloque de reescalado se ajusta al rango del potenci\u00f3metro de 0-1023. El rango \"a\" del bloque de reescalado se ajusta a nuestro rango deseado de 0-5.</p> <p> <p></p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#raiz-cuadrada","title":"Ra\u00edz cuadrada","text":"<p>Devuelve la ra\u00edz cuadrada del n\u00famero introducido.</p> <p>Ejemplo:</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#arcotangente","title":"Arcot\u00e1ngente","text":"<p>La f\u00f3rmula b\u00e1sica para el arctg viene dada por:</p> <p> <p>\\(\\tan \\theta = \\cfrac{Perpendicular}{Base}\\) \\(\\theta = \\arctan\\cfrac{Perpendicular}{Base}\\)</p> <p></p> <p>donde \\(\\theta\\) es el \u00e1ngulo entre la hipotenusa y la base de un tri\u00e1ngulo rect\u00e1ngulo. Usamos esta f\u00f3rmula para encontrar el valor del \u00e1ngulo \\(\\theta\\) en t\u00e9rminos de grados o radianes.</p> <p>Ejemplo:</p> <p></p> <p></p> <p>Debido al hecho de que MicroBlocks trabaja con matem\u00e1ticas de n\u00fameros enteros, el resultado se proporciona en un formato multiplicado por 100. Para obtener el valor angular real hay que dividir el resultado entre 100.</p> <p></p> <p>Si deseas conservar el valor del \u00e1ngulo fraccionario, puede utilizar la funci\u00f3n mod.</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#hexadecimal","title":"Hexadecimal","text":"<p>Convierte una cadena Hexadecimal en un n\u00famero decimal. Por ejemplo, 5A hex. = 90 dec.</p> <p>Como introducci\u00f3n r\u00e1pida, los n\u00fameros hexadecimales constan de los d\u00edgitos 0 - 9 y las letras A, B, C, D, E, F. Por lo tanto, hex(3F) equivale a 63 en decimal.</p> <p> </p> <p>Ten en cuenta que las entradas del bloque HEX tienen que ser del tipo STRING, ya que parte de los n\u00fameros hexadecimales est\u00e1n formados por las letras A-F.</p> <p>La conversi\u00f3n de hexadecimal a decimal es una operaci\u00f3n muy com\u00fan. Cada d\u00edgito hexadecimal representa exactamente cuatro bits, por lo que un byte est\u00e1 representado por dos d\u00edgitos. Esa sencilla correspondencia entre d\u00edgitos y bytes hace que el hexadecimal resulte \u00fatil cuando se trabaja con determinados tipos de datos. Por ejemplo, los c\u00f3digos de color RGB.</p> <p> </p> Decimal Hex Binario Decimal Hex Binario 0 00 0000 8 08 1000 1 01 0001 9 09 1001 2 02 0010 10 0A 1010 3 03 0011 11 0B 1011 4 04 0100 12 0C 1100 5 05 0101 13 0D 1101 6 06 0110 14 0E 1110 7 07 0111 15 0F 1111"},{"location":"microSTEAMakers/prog_uB/#bitwise-and","title":"Bitwise AND","text":"<p>El operador AND compara dos bits y genera un resultado igual a 1 si ambos bits son 1; en caso contrario, devuelve 0. N\u00fameros de mas de un bit son comparados bit a bit. Un ejemplo de aplicaci\u00f3n lo vemos en la imagen siguiente.</p> <p>Ejemplo:</p> <p> <p> bitwise AND</p> <p></p> <p>La tabla siguiente muestra la forma de obtener el resultado de forma te\u00f3rica.</p> <p> <p> </p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#bitwise-or","title":"Bitwise OR","text":"<p>El operador OR compara dos bits y devuelve 1 si uno o ambos bits son 1 y da 0 si ambos bits son 0. Bitwise OR compara todas las posiciones de bits de ambos n\u00fameros e informa de aquellas en las que cualquiera de los dos est\u00e1 a 1.</p> <p>Un ejemplo de aplicaci\u00f3n lo vemos en la imagen siguiente.</p> <p> <p> bitwise OR</p> <p></p> <p>La tabla siguiente muestra la forma de obtener el resultado de forma te\u00f3rica.</p> <p> <p> </p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#bitwise-xor","title":"Bitwise XOR","text":"<p>El operador EXCLUSIVE-OR compara dos bits y genera un resultado de 1 si los bits son complementarios (el bit se establece en un operando pero no en ambos); en caso contrario, devuelve 0. Otra forma de pensar en la operaci\u00f3n XOR es que invertir\u00e1 las posiciones de los bits en las que el segundo operando tenga un 1. Todas las dem\u00e1s se copiar\u00e1n igual.</p> <p>Un ejemplo de aplicaci\u00f3n lo vemos en la imagen siguiente.</p> <p> <p> bitwise XOR</p> <p></p> <p>La tabla siguiente muestra la forma de obtener el resultado de forma te\u00f3rica.</p> <p> <p> </p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#bitwise-not","title":"Bitwise NOT","text":"<p>El operador NOT se utiliza para invertir (BIT FLIP) todos los bits del operando. Cuando el bit de posici\u00f3n m\u00e1s alta de un n\u00famero se convierte en 1, ese n\u00famero se considera un n\u00famero negativo. La representaci\u00f3n inform\u00e1tica real de un n\u00famero entero con signo en MicroBlocks es de 31 bits. El bit de mayor peso es un bit de signo. Esto permite n\u00fameros en el rango de -1073741824 a 1073741823. Cuando el bit de signo es 0, el n\u00famero es positivo; y cuando es 1, el n\u00famero es negativo.</p> <p>Un ejemplo de aplicaci\u00f3n lo vemos en la imagen siguiente.</p> <p> <p> bitwise NOT</p> <p></p> <p>La explicaci\u00f3n es sencilla, el n\u00famero 3 (0011) se convierte al binario 1100 y como el bit de mayor peso es 1 indica que es negativo y el n\u00famero es 4, por lo tanto el resultado es -4.</p>"},{"location":"microSTEAMakers/prog_uB/#bitwise-desplazamiento-izquierda","title":"Bitwise desplazamiento izquierda","text":"<p>El valor del operando izquierdo se desplaza hacia la izquierda el n\u00famero de bits especificado por el operando derecho. Los bits se desplazan hacia la izquierda, el bit situado m\u00e1s a la izquierda se descarta y al bit situado m\u00e1s a la derecha se le asigna el valor 0. Cada posici\u00f3n de bit desplazada a la izquierda equivale en binario a multiplicar por 2. En la imagen siguiente vemos el funcionamiento del desplazamiento a la izquierda a nivel de bit.</p> <p> <p> bitwise desplazamiento izquierda</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#bitwise-desplazamiento-derecha","title":"Bitwise desplazamiento derecha","text":"<p>El valor del operando izquierdo se desplaza hacia la derecha el n\u00famero de bits especificado por el operando derecho. Los bits se desplazan hacia la derecha, el bit situado m\u00e1s a la derecha se descarta y al bit situado m\u00e1s a la izquierda se le asigna una copia del bit de signo. Esto se denomina desplazamiento aritm\u00e9tico. Por cada posici\u00f3n de bit desplazada a la derecha, esta operaci\u00f3n es el equivalente binario de dividir por 2. En la imagen siguiente vemos el funcionamiento del desplazamiento a la derecha a nivel de bit.</p> <p> <p> bitwise desplazamiento derecha</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#variables","title":"Variables","text":"<p>En MicroBlocks se contemplan dos tipos de variables, las globales y las locales. Cuando hablamos en estos t\u00e9rminos hablamos de \u00e1mbito (scope) de las variables y determina la zona donde se define la variable, que son global y local.</p> <p>Las variables locales son las definidas dentro de una funci\u00f3n y solamente est\u00e1 disponible para el c\u00f3digo que se ejecuta dentro de la funci\u00f3n.</p> <p>Las variables globales se definen en cualquier punto del programa, normalmente al principio, y pueden ser llamadas desde cualquier sitio del programa, incluso desde las funciones.</p> <ul> <li> Este bloque es en realidad un bot\u00f3n que crea una nueva variable global. Si existe una variable con el mismo nombre, se crear\u00e1 una nueva con el mismo nombre y el n\u00famero 2 a\u00f1adido. Cuando creamos una variable se nos pide el nombre de la misma en una ventana emergente y una vez creada aparecer\u00e1 un nuevo bloque para acceder al valor de la variable creada. Adem\u00e1s esta nueva variable estar\u00e1 disponible para su selecci\u00f3n en dos de los bloques que explicaremos despu\u00e9s.</li> <li>  Este bloque es en realidad un bot\u00f3n que sirve para eliminar una variable previamente creada.</li> </ul> <p>En la animaci\u00f3n siguiente vemos el proceso de creaci\u00f3n y eliminaci\u00f3n de variables.</p> <p> <p> Creaci\u00f3n y eliminaci\u00f3n de variables</p> <p></p> <p>La opci\u00f3n de mostrar el nombre de las variables mostrada desde el bloque se puede utilizar para a\u00f1adir variables mientras se edita el c\u00f3digo del programa, sin pasar a las opciones de la categor\u00eda variables.</p> <ul> <li>  Este bloque asigna el valor a cualquier variable, global o local, en la cantidad especificada en el \u00e1rea de entrada. La cantidad que se asigna puede ser un n\u00famero positivo o negativo. Para mostrar los nombres de las variables locales en el men\u00fa de selecci\u00f3n, este bloque debe estar f\u00edsicamente unido a la secuencia de bloques en la que se utiliza el bloque 'Inicializar local' que veremos a continuaci\u00f3n.</li> <li>  Este bloque se utiliza para crear e inicializar variables locales. El nombre predeterminado de la variable 'var' puede cambiarse por cualquier otro haciendo clic en el nombre y escribiendo un nuevo nombre en el cuadro de di\u00e1logo que se abre. Desp\u00e9s, si es necesario cambiar el valor de la variable local, se puede utilizar el bloque 'asigna valor a' de la categor\u00eda variables. En la animaci\u00f3n siguiente vemos este proceso y la disponibilidad o no de la variable local.</li> </ul> <p>Una variable global tiene:</p> <ul> <li>Alcance global: Una variable global puede utilizarse en cualquier script que no tenga una variable local del mismo nombre que la anule.</li> <li>Tiempo de vida largo: Una variable global es creada expl\u00edcitamente y vive hasta que es expl\u00edcitamente borrada. Conserva su valor cuando los scripts se inician y detienen e incluso cuando no hay scripts en ejecuci\u00f3n. Sin embargo, al hacer clic en el bot\u00f3n \"Detener\", todas las variables globales se borran e inicializan con el valor cero. Las variables globales tambi\u00e9n se inicializan a cero cuando se crean por primera vez y cuando se carga un proyecto.</li> </ul> <p>Por el contrario, una variable local tiene:</p> <ul> <li>\u00c1mbito local: Una variable local s\u00f3lo puede utilizarse en el script en el que aparece. Si varios scripts utilizan variables locales con el mismo nombre, esas variables son independientes entre s\u00ed. Aunque esta pr\u00e1ctica se desaconseja porque puede inducir a errores.</li> <li>Tiempo de vida limitado: Una variable local de un script se crea cuando se inicia el script y se elimina cuando \u00e9ste finaliza. Se crea una nueva variable local cada vez que se inicia un script (incluyendo un script de funci\u00f3n), y las variables locales de cada invocaci\u00f3n de script son independientes entre s\u00ed.</li> <li>Precedencia sobre las globales: Si una variable local tiene el mismo nombre que una variable global, la variable local prevalece sobre la global en el script en el que aparece la variable local. Una variable es local en todo el script sin importar en qu\u00e9 parte del script aparezca \"inicializar var local a\", aunque es una buena pr\u00e1ctica de codificaci\u00f3n que \"inicializar var local a\" preceda a cualquier otra referencia a esa variable.</li> </ul> <p>Un ejemplo comentado de aplicaci\u00f3n lo vemos en la imagen siguiente.</p> <p> <p> Descargar el programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#bucles","title":"Bucles","text":"<p>En el caso de MicroBlocks los bucles, condicionales y funciones est\u00e1n todos englobados en la categor\u00eda 'Control'. Vamos a ver algunos de ellos en esta ocasi\u00f3n y los que no veamos en esta actividad se ir\u00e1n viendo cuando los necesitemos.</p> <ul> <li>  Los bloques con forma de sombrero forman parte de un grupo de bloques de control que comienzan a ejecutarse cuando se pulsa el icono verde <code>Inicia</code>. Este bloque se activa cuando se cumple la condici\u00f3n de inicio del programa.</li> <li>  Los bloques con forma de \"C\" son un grupo de bloques de control que ejecutan el c\u00f3digo colocado en su interior siempre que se cumplan las condiciones descritas en sus subt\u00edtulos. Estos son los bloques de tipo bucle. Este en particular ejecutar\u00e1 los bloques en su interior indefinidamente.</li> <li>  Este bloque C ejecuta el c\u00f3digo colocado en su interior el n\u00famero especificado de veces.</li> </ul> <p>En el ejemplo siguiente veremos tanto en el programa como en la pantalla la suma de los 10 primero n\u00fameros naturales.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li> <p>  Este bloque es tambi\u00e9n de tipo C y pertenece al grupo de los bucles. Funciona de dos formas distintas en funci\u00f3n del tipo de entrada especificado.</p> </li> <li> <p>Si la entrada es un n\u00famero, los bloques interiores se ejecutar\u00e1n tantas veces como el n\u00famero. En cada iteraci\u00f3n del bucle, empezando por uno, el par\u00e1metro o variable de control es 'i' por defecto y se incrementar\u00e1 en uno. Este valor se puede utilizar en el c\u00f3digo del programa como se crea conveniente.</p> </li> <li>El nombre del par\u00e1metro de control puede cambiarse por otro haciendo clic en la 'i' y escribiendo un nuevo nombre.</li> <li>Si la entrada es una lista, los bloques colocados dentro se ejecutar\u00e1n tantas veces como elementos tenga la lista. En cada iteraci\u00f3n, el par\u00e1metro de control 'i' tomar\u00e1 el valor de cada elemento de la lista de manera secuencial.</li> </ul> <p>En el ejemplo siguiente vemos una animaci\u00f3n de un sencillo programa de como hacer un contador con los 5 primeros n\u00fameros y hacer que se muestre en el ordenador y en la pantalla de la micro:STEAMakers.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li>  Este bloque pausa el flujo de ejecuci\u00f3n del programa por el tiempo especificado en milisegundos. Se utiliza para pausar y reanudar la ejecuci\u00f3n de c\u00f3digo de forma controlada.</li> <li>  Este bloque pausa el flujo de ejecuci\u00f3n del programa por el tiempo especificado en microsegundos. Se utiliza para pausar y reanudar la ejecuci\u00f3n de c\u00f3digo de forma controlada.</li> <li>  Emite el mensaje especificado. V\u00e9ase en conjunto a . Este bloque env\u00eda el contenido del mensaje especificado. Todos los bloques de mensajes <code>al recibir</code> con el mismo mensaje en su contenido recibir\u00e1n el mensaje y actuar\u00e1n ejecutando su contenido.</li> <li>  Ejecuta cuando se emita el mensaje especificado. Este bloque y su par funcional  se suelen utilizar juntos para conseguir un medio de comunicaci\u00f3n dentro del programa. Cualquier mensaje enviado con el comando <code>env\u00eda</code> es detectado y recibido por este bloque. As\u00ed, los bloques colocados bajo este bloque se ejecutar\u00e1n al recibir el mensaje correspondiente. Los mensajes pueden ser cadenas o n\u00fameros. Adem\u00e1s, el bloque  contiene el \u00faltimo mensaje emitido y recibido.</li> <li>  Devuelve el \u00faltimo mensaje enviado en todo el programa, cronol\u00f3gicamente hablando. N\u00f3tese que NO es el \u00faltimo mensaje recibido por una secuencia de bloques concreta del programa, y es independiente de la ejecuci\u00f3n del bloque <code>al recibir</code>. No hay colas de mensajes en el sistema. Si no hay ning\u00fan <code>al recibir</code> en espera cuando se env\u00eda un mensaje, se perder\u00e1 y ser\u00e1 sobrescrito por el siguiente mensaje.</li> </ul> <p>En el ejemplo siguiente vemos de forma sencilla el funcionamiento de estos tres \u00faltimos bloques.</p> <p> <p> Descargar el programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#listas","title":"Listas","text":"<p>Los bloques para trabajar con listas est\u00e1n en el men\u00fa 'Datos' y los disponibles los vemos en la imagen siguiente.</p> <p> <p> Bloques para Listas. Datos</p> <p></p> <ul> <li> Devuelve una lista corta que contiene algunos elementos en ingl\u00e9s. Con las flechas podemos a\u00f1adir o eliminar elementos a la lista aunquw a partir del cuarto se repite siempre el mismo. Para crear una lista vac\u00eda () basta con eliminar el \u00fanico elemento existente cuando se crea una nueva.</li> <li> Une (concatena) cadenas, listas o matrices de bytes y devuelve el resultado.</li> <li> Devuelve el car\u00e1cter Unicode del n\u00famero dado.</li> <li> Devuelve el en\u00e9simo elemento de una lista, cadena o matriz de bytes.</li> <li>  Combina los elementos de una lista en una cadena, opcionalmente se puede usar un car\u00e1cter delimitador.</li> <li>  A\u00f1ade un elemento al final de una lista.</li> </ul> <p>En el ejemplo siguiente vemos el uso de estos bloques. Comenzamos por crear una cadena de caracteres de la que vamos a extraer la palabra \"un\" mediante la uni\u00f3n de los elementos 9 y 10 de la cadena. Se crea una lista con cuatros animales y finalmente se muestra la palabra 'un' seguida de la posici\u00f3n 3 de la lista creada.</p> <p> <p> Descargar el programa</p> <p></p> <p>En este otro ejemplo vemos como se generan los caracteres de lat\u00edn b\u00e1sico comenzando por el espacio en blanco (32), diferentes s\u00edmbolos, n\u00fameros, letras may\u00fasculas y letras min\u00fasculas. Se muestra en pantalla un caracter cada 100ms y en pantalla la lista completa de caracteres generados.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li> Devuelve el n\u00famero de elementos de una lista, cadena o matriz de bytes.</li> <li> Sustituye el en\u00e9simo elemento de una lista por el valor dado. Tambi\u00e9n puede sustituir todos los elementos por un valor.</li> <li> Elimina el elemento N de una lista. La lista resultante se reduce de tama\u00f1o. Tambi\u00e9n puede eliminar todos los elementos.</li> </ul> <p>A continuaci\u00f3n vemos un ejemplo en el que se demuestra la funcionalidad de estos tres bloques.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li> Devuelve la posici\u00f3n de la primera coincidencia de una subcadena dentro de una cadena o un elemento de una lista. Devuelve -1 si no encuentra coincidencias.</li> </ul> <p>En el ejemplo siguiente las variables locales <code>cadena</code> y <code>animales</code> se inicializan como de tipo string y list respectivamente. El primer conjunto de resultados opera sobre la cadena, buscando la posici\u00f3n de la primera apariciones de \"es\". La primera coincidencia se encuentra en el car\u00e1cter n\u00famero uno. La segunda b\u00fasqueda se inicia en el car\u00e1cter n\u00famero tres, y localiza el objetivo de la b\u00fasqueda en el car\u00e1cter n\u00famero seis. La b\u00fasqueda de \"perro\" en la lista 'animales' la encuentra en el elemento n\u00famero dos de la lista. La segunda b\u00fasqueda de \"perro\" en la lista 'animales' comienza en el elemento n\u00famero tres y devuelve -1 porque no lo encuentra. No hay ning\u00fan \"raton\" en la lista, por lo que la b\u00fasqueda devuelve -1.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li> Copia una cadena desde/hasta el caracter especificado, o una desde/hasta el elemento indicado. Como ya sabemos para mostrar el par\u00e1metro hasta hay que hacer clic en el tri\u00e1ngulo negro.</li> </ul> <p> <p> Descargar el programa</p> <p></p> <ul> <li> Devuelve una lista separando la cadena especificada por el delimitador opcional. Si no se especifica ning\u00fan delimitador, la cadena se divide por cada car\u00e1cter.</li> </ul> <p>En la imagen vemos una cadena delimitada por comas que separa los caracteres mediante el delimitador coma en una lista de tres elementos.</p> <p> <p></p> <p></p> <p>A continuaci\u00f3n vemos una cadena que incluye un car\u00e1cter retorno de l\u00ednea despu\u00e9s del ABC y DEF que se separa mediante el caracter unicode de nueva l\u00ednea (return) en una lista de tres elementos.</p> <p> <p></p> <p></p> <p>En este otro caso separamos la URL de la descarga de MicroBlocks en partes mediante el delimitador /.</p> <p> <p></p> <p></p> <ul> <li>  Devuelve el valor Unicode del car\u00e1cter en\u00e9simo de la cadena introducida. El n\u00famero de caracteres introducido debe estar comprendido entre uno y la longitud de la cadena. Este bloque es el opuesto de .</li> </ul> <p> <p></p> <p></p> <ul> <li> Crea una nueva lista del n\u00famero de elementos especificado. Hay que controlar la disponibilidad de memoria. Los elementos de la lista creada se pueden inicializar a cualquier valor utilizando la opci\u00f3n de bloque con todos.</li> <li> Crea una matriz del n\u00famero de elementos especificado en funci\u00f3n de la disponibilidad de memoria. Cada elemento es de tama\u00f1o byte y se le pueden asignar valores en el rango de 0-255 (0-FF).</li> <li> Devuelve una cadena que indica el n\u00famero de palabras de 32 bits de memoria din\u00e1mica disponibles para asignar nuevos objetos (cadenas, listas o matrices de bytes). Al pulsar el bot\u00f3n de parada se libera toda la memoria. Justo despu\u00e9s de pulsar el bot\u00f3n de parada, este bloque informa del total de memoria din\u00e1mica disponible en un dispositivo determinado. Los dispositivos tienen diferentes cantidades de memoria din\u00e1mica, basadas en la cantidad de RAM proporcionada por el hardware. Por ejemplo, la micro:bit v2 tiene mucha m\u00e1s RAM que la micro:bit original.</li> </ul> <p>Un ejemplo de uso.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li>  Convierte un byte, una lista o una cadena especificada en una matriz de bytes. Cada elemento es el valor unicode de las letras de la cadena en el rango de 0-255 (0-FF).</li> </ul>"},{"location":"microSTEAMakers/prog_uB/#mas-operadores","title":"Mas operadores","text":"<p>Los operadores a\u00fan no vistos son:</p> <p> <p></p> <p>Operadores aritm\u00e9ticos, de comparaci\u00f3n y booleanos</p> <p></p> <p>Los operadores aritm\u00e9ticos y de comparaci\u00f3n no requieren de mayor explicaci\u00f3n por lo que nos vamos a centrar en los booleanos.</p> <ul> <li> Operador booleano <code>True</code> o <code>False</code>. Devuelve verdadero o falso en funci\u00f3n de la posici\u00f3n del selector, o de la evaluaci\u00f3n binaria de la expresi\u00f3n utilizada como entrada. Este bloque se usa dentro de muchos otros bloques, donde se utiliza para controlar el flujo de las ejecuciones y eventos.</li> </ul> <p>El bloque <code>if</code> es un buen ejemplo para demostrar el uso del bloque verdadero/falso.</p> <p> <p> Descargar el programa</p> <p></p> <p>El c\u00f3digo del ejemplo se ejecuta de dos maneras diferentes siempre dentro de un bucle infinito en el que se genera un n\u00famero aleatorio que puede valer 1, 2 o 3:</p> <ul> <li>La primera es la condici\u00f3n de la rama <code>IF</code> que ser\u00e1 verdadera si el n\u00famero generado es 1.</li> <li>La segunda es la rama <code>ELSE IF</code> que se eval\u00faa si la condici\u00f3n del <code>IF</code> no es verdadera y se pone a verdadero, ejecutando su c\u00f3digo.</li> <li> <p>La tercera es la condici\u00f3n <code>ELSE</code> a la que nunca se llega porque si el n\u00famero vale 1 se ejecuta el <code>IF</code> y si no se ejecuta el <code>ELSE IF</code> que siempre es cierto. Es decir, aunque se genere <code>variable = 3</code> la condici\u00f3n <code>ELSE</code> no se ejecuta.</p> </li> <li> <p> Invierte el valor l\u00f3gico asociado a la expresi\u00f3n sobre la que opera. Tal y como se muestra, <code>NOT</code> devolver\u00e1 <code>FALSE</code> si el deslizador se establece en <code>TRUE</code>, y <code>TRUE</code> si se establece en <code>FALSE</code>.</p> </li> </ul> <p>En el ejemplo siguiente, una variable llamada <code>cadena</code> se inicializa como \"MicroBlocks es genial\", y una variable llamada <code>expresion</code> se inicializa en <code>TRUE</code> de una forma peculiar, diciendo que algo es igual a si mismo. Cuando se aplica <code>NOT</code> al resultado de la expresi\u00f3n de igualdad, se cambia a <code>FALSE</code>.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li>  Devuelve verdadero s\u00f3lo si todas sus entradas son verdadero y devuelve falso en caso contrario. Como ambas condiciones tienen que ser verdaderas para obtener un resultado verdadero, si se detecta un falso en la primera condici\u00f3n, no es necesario evaluar la segunda; se devuelve falso inmediatamente.</li> </ul> <p>En el ejemplo tenemos dos variables <code>salir</code> y <code>llueve</code> que se inicializan a falso. Se muestran una serie de mensajes y al final se eval\u00faa si \"necesito un paraguas\" comprobando si es cirto 'voy a salir y si llueve'. Si no necesito un paraguas se muestra en pantalla un check y si lo necesito se muestra un paraguas. Ambas condiciones tienen que ser verdaderas para que necesitemos un paraguas. Podemos cambiar el estado de las variables y comprobar lo que ocurre.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li>  Devuelve verdadero si uno o ambos operandos son verdaderos y devuelve falso en caso contrario. Similar a <code>AND</code> pero opuesto a \u00e9l, aqu\u00ed s\u00f3lo una de las dos condiciones tiene que ser verdadera para un resultado verdadero. Por lo tanto, si la primera condici\u00f3n es verdadera, no es necesario comprobar la segunda.</li> </ul> <p>En el ejemplo estamos generando aleatoriamente dos n\u00fameros en el rango de 1 a 5. A continuaci\u00f3n, comprobamos si alguno de los dos n\u00fameros es igual al n\u00famero que estamos buscando (3). El bloque <code>OR</code> se utiliza para verificar el resultado de la comparaci\u00f3n.</p> <p> <p> Descargar el programa</p> <p></p> <p>Cada segundo se genera un nuevo resultado.</p>"},{"location":"microSTEAMakers/prog_uB/#botones-y-bloques-de-control","title":"Botones y bloques de control","text":"<p>En la categoria \"Entrada\" disponemos de los bloques para detectar si se ha pulsado alguno de los botones A/B de la placa.</p> <ul> <li>ms t\u00e1ctil? Este bloque permite saber si se ha tocado (pulsado) la zona t\u00e1ctil.</li> </ul> <p> <p> Bloque ms t\u00e1ctil?</p> <p></p> <p>En el ejemplo siguiente vemos el uso b\u00e1sico de estos tres bloques de la libreria micro:STEAMakers.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li>  El bloque <code>IF</code> comprueba la condici\u00f3n booleana y ejecuta los bloques de una sola vez si la condici\u00f3n booleana se eval\u00faa como verdadera. El tri\u00e1ngulo negro permite la expansi\u00f3n del bloque <code>IF</code> con m\u00faltiples condiciones <code>ELSE IF</code> a\u00f1adidas. En caso de que las ramas <code>IF</code> o <code>ELSE IF</code> anteriores no sean verdaderas, entonces se eval\u00faan y ejecutan sucesivamente cada una de las siguientes <code>ELSE IF</code>.</li> </ul> <p>En el ejemplo siguiente, a la variable <code>aleatorio</code> se le asigna un n\u00famero al azar entre el 1 y el 9. La operaci\u00f3n MOD se utiliza para sondear el estado par/impar del n\u00famero. Si el resto de la operaci\u00f3n 'num dividido por 2' da como resultado 0, el n\u00famero es par, en caso contrario es impar.</p> <p> <p> Descargar el programa</p> <p></p> <p>Cada vez que pulsemos en 'Iniciar' se genera un nuevo resultado, se indica si el n\u00famero es par o impar mientras se muestra el n\u00famero en los LEDs.</p> <ul> <li>  El bloque 'cuando' comprueba repetidamente una condici\u00f3n booleana. Cuando la condici\u00f3n se convierte en verdadera, se ejecutan los bloques bajo el sombrero. Si la condici\u00f3n sigue siendo verdadera al final de la ejecuci\u00f3n, entonces los bloques se ejecutar\u00e1n de nuevo, y ese proceso se repite hasta que la condici\u00f3n se convierte en falsa.</li> </ul> <p>Nota: El sombrero 'cuando' incluye una espera de 10 milisegundos entre ciclos. Esto es \u00fatil para eliminar ruido en las entradas, por ejemplo rebotes en los botones, pero limita el rendimiento a un m\u00e1ximo de 100 iteraciones/segundo.</p> <p>Vamos a ver el mismo ejemplo que en el bloque <code>IF</code> pero utilizando este bloque. Los tres bloques del tipo <code>WHEN</code> empiezan a funcionar simult\u00e1neamente cuando se pulsa el icono <code>START</code>. El bloque 'por siempre' debajo de 'al empezar' genera un n\u00famero aleatorio cada segundo. Y de forma simultanea los otros dos bloques evaluan continuamente sus condiciones mostrando el resultado que corresponde a cada uno.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li>  Este bloque de control pausa la ejecuci\u00f3n del programa y espera hasta que la condici\u00f3n booleana especificada se convierta en verdadera. Se puede utilizar para sincronizar bloques de c\u00f3digo que se ejecutan en paralelo, bas\u00e1ndose en los eventos monitorizados.</li> <li>m:s light %. Este bloque permite trabajar con el nivel de iluminaci\u00f3n medido por el sensor montado en la placa micro:STEAMakers.</li> </ul> <p> <p> Bloque ms luz</p> <p></p> <p>En este ejemplo, el nivel de luz ambiental se controla mediante el sensor de luz integrado. Cuando se inicia el programa, ambos bloques 'cuando se pulse el boton' comienzan a ejecutarse y a comprobar el estado del bot\u00f3n.</p> <p>Al pulsar el bot\u00f3n A, se inicia la monitorizaci\u00f3n de la luz y el programa espera hasta que los sensores de la micro:bit informen de un nivel de luz &lt; 75. Cuando esa condici\u00f3n se cumple, se emite una alerta para avisar de que hay que encender las luces.</p> <p>El bot\u00f3n B est\u00e1 programado para detener el proceso de monitorizaci\u00f3n. Al pulsarlo, detiene la ejecuci\u00f3n de esa rama del programa.</p> <p> <p> Descargar el programa</p> <p></p> <p>El bloque 'deten las otras tareas' se explica un poco mas adelante.</p> <ul> <li> <p>  El bloque <code>RETURN</code> se utiliza para devolver el valor especificado en su \u00e1rea de entrada. El valor retornado puede ser cualquier tipo de dato. Aunque es posible utilizar el bloque <code>RETURN</code> en cualquier parte de un programa para mostrar un valor, de forma similar al bloque <code>di</code>, su uso correcto y m\u00e1s com\u00fan es en una funci\u00f3n (o bloque personalizado) para devolver un valor como resultado del proceso realizado. Hay que tener en cuenta que los bloques colocados despu\u00e9s del bloque <code>RETURN</code> no se ejecutar\u00e1n.</p> </li> <li> <p>  Este bloque tipo C es un bucle que se utiliza para ejecutar los bloques colocados dentro de \u00e9l, mientras que la condici\u00f3n booleana especificada se convierte en verdadera. En ese momento, se ejecutar\u00e1 el siguiente bloque despu\u00e9s del bloque en forma de C.</p> </li> </ul> <p>En el ejemplo vemos como se monitoriza si se ha pulsado el bot\u00f3n A enviando un mensaje.</p> <p> <p> Descargar el programa</p> <p></p> <ul> <li>  Este bloque, y su par relacionado , se utilizan para controlar el hilo de ejecuci\u00f3n del programa. Este bloque detiene la ejecuci\u00f3n de todos los bloques de los que forma parte, o que est\u00e1n bajo el mismo bloque sombrero. Una vez ejecutado este bloque en un grupo de bloques, no se ejecutar\u00e1 nada m\u00e1s en ese grupo.</li> </ul> <p>En el ejemplo siguiente, el grupo de bloques de la derecha est\u00e1 en un bucle continuo que cuenta hacia atr\u00e1s y decrementa su variable local <code>numero</code>. El grupo de bloques de la izquierda tambi\u00e9n est\u00e1 en un bucle continuo, contando hacia abajo y decrementando su variable local <code>numero</code>. Cuando la cuenta atr\u00e1s alcanza el valor 7 se cumple la condici\u00f3n del <code>else if</code> y se detiene la cuenta del bloque derecho, mientras que la secuencia del bloque izquierdo continua su ejecuci\u00f3n hasta que se cumpla la condici\u00f3n del <code>if</code> que ser\u00e1 cuando se alcance el n\u00famero 2, momento en que se detiene esta tarea.</p> <p>Podemos comprobar como el \u00faltimo bloque <code>di</code> de la secuencia de la izquierda NUNCA se ejecuta porque una vez que el bloque 'deten esta tarea' se ejecuta, todas las actividades de este bloque izquierdo terminan.</p> <p> <p> Descargar el programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#graficado-de-datos","title":"Graficado de datos","text":"<p>En MicroBlocks es relativamente sencillo trabajar los datos de forma gr\u00e1fica y para ello disponemos de un bloque para indicar el dato que queremos ver de manera gr\u00e1fica y un icono en el men\u00fa que abre la ventana flotante 'Gr\u00e1fico de datos'.</p> <p> <p> Bloque e icono para mostrar 'Gr\u00e1fico de datos'</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#bloque","title":"Bloque","text":"<p>Est\u00e1 disponible en el men\u00fa 'Salida'.</p> <ul> <li>. Graficar\u00e1 el valor introducido en el panel de visualizaci\u00f3n de gr\u00e1ficos de datos. Se puede graficar cualquier tipo de dato: n\u00fameros, valores de pines digitales y anal\u00f3gicos, salidas de sensores, etc. Si tenemos que representar gr\u00e1ficamente m\u00e1s de un dato, hacemos clic en el tri\u00e1ngulo negro para mostrar campos de datos adicionales. Se pueden graficar hasta seis valores simult\u00e1neos con diferentes colores.</li> </ul> <p>La representaci\u00f3n gr\u00e1fica s\u00f3lo es posible en el IDE. Por lo tanto, s\u00f3lo es posible realizar gr\u00e1ficos mientras el microdispositivo est\u00e1 conectado al ordenador. Si intentamos realizar un gr\u00e1fico mientras no est\u00e1 conectado al ordenador, aparecer\u00e1 el mensaje \"Placa no conectada\".</p>"},{"location":"microSTEAMakers/prog_uB/#panel-grafico","title":"Panel gr\u00e1fico","text":"<p>Se activa desde el icono y tiene el siguiente aspecto:</p> <p> <p> Panel 'Gr\u00e1fico de datos'</p> <p></p> <p>El panel Gr\u00e1ficos de datos muestra los valores utilizados con el bloque de gr\u00e1ficos. El eje y del panel puede escalarse utilizando los controles de zoom del propio panel, y el eje x se desplazar\u00e1 lateralmente a medida que se grafiquen m\u00e1s datos.</p> <p>La ventana de visualizaci\u00f3n del gr\u00e1fico se puede redimensionar con el control situado en la esquina inferior derecha y puede colocarse en cualquier lugar de la ventana del IDE.</p> <p>Tras el registro de cualquier dato, la ventana de visualizaci\u00f3n de gr\u00e1ficos puede cerrarse y abrirse, si es necesario, sin que se pierda ning\u00fan dato ni la imagen visualizada, aunque si pierde la reconfiguraci\u00f3n realizada en la misma, como la posici\u00f3n del cero, el tama\u00f1o, etc. Adem\u00e1s, es posible desconectar y volver a conectar el dispositivo en uso, sin perder los datos del gr\u00e1fico.</p> <p>En la animaci\u00f3n vemos como funciona lo indicado. El escalado con la lupa del menos amplia el rango de valores del eje y, con la lupa del mas lo disminuye y la lupa del igual restaura la situaci\u00f3n inicial tras el redimensionado de la ventana.</p> <p> <p> Funcionamiento de 'Gr\u00e1fico de datos'</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#opciones-del-panel-grafico","title":"Opciones del panel gr\u00e1fico","text":"<p>Se accede haciendo clic con el bot\u00f3n derecho del rat\u00f3n en cualquier zona del panel. Si tenemos el cursor del rat\u00f3n sobre la zona de las lupas no funcionar\u00e1.</p> <p> <p> Opciones de 'Gr\u00e1fico de datos'</p> <p></p> <p>El men\u00fa de opciones del gr\u00e1fico permite controlar la visualizaci\u00f3n de los ejes, as\u00ed como la importaci\u00f3n/exportaci\u00f3n de datos y el ajuste de la frecuencia de muestreo de datos.</p> <ul> <li>limpiar gr\u00e1fico. Borra cualquier gr\u00e1fico de la ventana de visualizaci\u00f3n de datos.</li> <li>cero abajo. Sit\u00faa el punto de origen del eje y en la parte inferior del \u00e1rea de visualizaci\u00f3n del gr\u00e1fico.</li> <li>exportar datos a archivo CSV. Permite guardar los datos del gr\u00e1fico en formato CSV. Se exportan los \u00faltimos diez mil (10000) valores.</li> <li>importar datos desde archivo CSV. Permite cargar datos CSV desde el ordenador en el que se est\u00e1 ejecutando MicroBlocks. Los datos importados se grafican y se muestran en el 'Gr\u00e1fico de datos'. Es posible importar 10000 valores. Si tenemos mas de un dato para graficar, estos no se exportan individualmente sino todos juntos eparados por comas.</li> <li>copiar datos del gr\u00e1fico al portapapeles. Se trata de una funci\u00f3n avanzada que permite copiar en el portapapeles los \u00faltimos 10000 valores utilizados con el bloque gr\u00e1fico.</li> <li>ajustar latencia del puerto serie. Se trata de otro funci\u00f3n avanzada que permite establecer la frecuencia de muestreo de datos o latencia entre 1 y 20ms. Los n\u00fameros m\u00e1s bajos dan como resultado frecuencias de muestreo m\u00e1s altas.</li> </ul> <p>Los archivos CSV (del ingl\u00e9s Comma-Separated Values) son un tipo de documento no estandarizado que tiene la idea b\u00e1sica de separar los campos de datos por una coma, de ah\u00ed su nombre Valores separados por comas</p> <p>Vamos a ver un ejemplo de uso en el que se muestran de forma gr\u00e1fica una serie de n\u00fameros aleatorio. El programa y el gr\u00e1fico son:</p> <p> <p> Descargar el programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#sobre-el-boton-tactil","title":"Sobre el bot\u00f3n t\u00e1ctil","text":"<p>Vamos a ver un poco mas en profundidad el uso de la zona t\u00e1ctil de la micro:STEAMakers en MicroBlocks tanto con la placa sola como conectada a la Shield:bit.</p> <p>Partimos del bloque \"ms t\u00e1ctil?\" de la libreria microSTEAMakers y mostramos su definici\u00f3n. Vemos que el retorno nos devuelve el valor capacitivo del sensor con el que haremos un sencillo programa de pruebas como el siguiente:</p> <p> <p> Programa de pruebas para bot\u00f3n t\u00e1ctil</p> <p></p> <p>A continuaci\u00f3n vemos los valores que retorna el bloque cuando se realizan toques cortos y largos. Se muestran los valores tanto num\u00e9ricos como en forma de gr\u00e1fico para las dos situaciones que vamos a contemplar:</p> <p>1. Placa micro:STEAMakers sola. Sin tocar nos devuelve un valor de 43, para pulsaciones cortas entre 15 y 25 y para largas se estabiliza en torno a 10.</p> <p> <p> Resultado con la micro:STEAMakers sola </p> <p></p> <p>2. Placa micro:STEAMakers en la Shield:bit. Sin tocar nos devuelve un valor de 31, para pulsaciones cortas entre 20 y 22 y para largas se estabiliza en torno a 15.</p> <p> <p> Resultado con la micro:STEAMakers con la Shield:bit </p> <p></p> <p>Podemos decir como conclusi\u00f3n de la prueba que cuando la micro:STEAMakers est\u00e1 colocada en la Shield:bit el bot\u00f3n t\u00e1ctil es menos sensible que cuando no lo est\u00e1. No obstante observamos como en ambos casos responde muy bien tanto a toques largos como cortos.</p>"},{"location":"microSTEAMakers/prog_uB/#libreria-neopixeles","title":"Libreria NeoPixeles","text":"<p>Los NeoPixels son peque\u00f1os m\u00f3dulos LED que combinan LEDs rojos, verdes y azules montados en un solo encapsulado con un chip controlador. Los NeoPixels pueden ser controlados individualmente por una sola l\u00ednea de datos desde un dispositivo microcontrolado para crear diferentes colores y patrones. Un solo pin del microcontrolador puede controlar docenas (o incluso cientos) de NeoPixels. Los NeoPixels se encuentran en muchas configuraciones diferentes, como son anillos, barras, matrices y tiras flexibles.</p> <ul> <li>. Configura el pin de conexi\u00f3n de los Neopixels. Este bloque configura un dispositivo NeoPixel especificando cu\u00e1ntos LEDs hay en el dispositivo y qu\u00e9 pin se utilizar\u00e1 para controlarlos. El bloque debe ejecutarse antes de hacer nada con cualquiera de los otros bloques NeoPixel.</li> </ul> <p>El bloque se expande a  para el trabajo con Neopixels blancos.</p> <ul> <li>. Establece los colores de los diez primeros NeoPixels. Es especialmente \u00fatil cuando se utiliza con placas o tiras con este n\u00famero de LEDs. La secuencia de numeraci\u00f3n (1-10) es de izquierda a derecha y de arriba a abajo. La configuraci\u00f3n del color se hace desde la paleta que se muestra sin poder establecer mayor precisi\u00f3n. La paleta muestra los valores RGB en decimal.</li> </ul> <p> <p></p> <p></p> <ul> <li>. Apaga todos los LEDs. Los pone a color negro.</li> <li>. Pone todos los LEDs con el color indicado.</li> <li>. Pone el n\u00famero de LED especificado del color indicado. Los LEDs se numeran secuencialmente comenzando por uno.</li> <li>. Desplaza la secuencia de colores NeoPixel el n\u00famero de NeoPixels indicado. Los colores al final de la secuencia se desplazan y se insertan al principio de la secuencia. Si los NeoPixels forman un c\u00edrculo, los colores giran alrededor del c\u00edrculo. El argumento determina el n\u00famero de posiciones que se desplazan los colores. Un valor negativo har\u00e1 que los NeoPixels roten en la direcci\u00f3n opuesta.</li> <li>. Devuelve un color definido especificando los valores de rojo (R), verde (G) y azul (B) entre 0 y255. El bloque puede utilizarse en cualquier bloque que reciba una entrada de color. Los valores inferiores a 40 pueden provocar que el LED no se encienda nada.</li> <li>. Devuelve un color aleatorio. El bloque puede utilizarse en cualquier bloque que reciba una entrada de color.</li> </ul> <p>El siguiente ejemplo muestra el uso b\u00e1sico de algunos de los bloques de esta libreria como complemento del manejo de los bloques de la libreria micro:STEAMakers relativos a la pantalla. Al ser LEDs RGB direccionables pueden ser tratados como una tira de 25 LEDs numerada desde el 1 al 25 empezando por la esquina superior izquierda y contando de izquierda a derecha de de arriba hacia abajo.</p> <p> <p> Descargar el programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#mis-bloques","title":"Mis bloques","text":"<p>Aprenderemos a crear nuestros propios bloques, o lo que es lo mismo, a definir nuestras propias funciones. Acceder a su craci\u00f3n es sencillo ya que est\u00e1n en el men\u00fa de la aplicaci\u00f3n. Basta con hacer clic en el apartado de color azul claro y veremos los dos bloques disponibles. Haciendo clic en cualquiera de ellos se nos abre una peque\u00f1a ventana emergente para ponerle un nombre, que por defecto es MyBlock.</p> <p> <p> Mis bloques</p> <p></p> <p>Observamos que se pueden crear dos tipos de bloques:</p> <ul> <li>de comando: . Este bloque es en realidad un bot\u00f3n y al hacer clic sobre el mismo se inicia el proceso de creaci\u00f3n de un bloque personalizado (funci\u00f3n).</li> <li>reportador: . Este bloque tambi\u00e9n es un bot\u00f3n. Inicia el proceso de creaci\u00f3n de un bloque personalizado (funci\u00f3n) que puede devolver un resultado. Junto con este bloque se suelen utilizar los bloques del men\u00fa \"Control\" que veremos mas abajo.</li> </ul>"},{"location":"microSTEAMakers/prog_uB/#descripcion","title":"Descripci\u00f3n","text":"<p>La principal diferencia entre el segundo y el primer bloque es que la definici\u00f3n del bloque personalizado que se cree en el segundo podr\u00e1 devolver un valor mediante el bloque RETURN.</p> <p>Esta capacidad \u00fanica permitir\u00e1 que el bloque personalizado se utilice en cualquier bloque en el que se espere un par\u00e1metro de entrada, y pasar\u00e1 el valor que informe a esa operaci\u00f3n.</p> <p>En cuanto al uso del bloque RETURN:</p> <ul> <li>Cualquier bloque colocado despu\u00e9s de \u00e9l no ser\u00e1 ejecutado.</li> <li>Pueden existir m\u00faltiples bloques RETURN, manejando diferentes condiciones y devolviendo sus valores respectivos.</li> </ul> <p>La creaci\u00f3n de un bloque personalizado es un proceso detallado con los siguientes pasos y opciones:</p> <ul> <li>Asignaci\u00f3n de un nombre de bloque personalizado</li> <li>A\u00f1adir par\u00e1metros y sus etiquetas</li> <li>Modificaci\u00f3n de los tipos de par\u00e1metros</li> <li>Asignaci\u00f3n de valores por defecto a los par\u00e1metros</li> <li>Valores de color</li> </ul> <p>Los dos bloques citados de \"Control\" son los siguientes, que aunque de apariencia son id\u00e9nticos, en realidad hay diferencias.</p> <ul> <li>.  Llama al bloque personalizado que se seleccione de la lista 'function name'. La lista de par\u00e1metros es opcional.</li> <li>.  Devuelve el resultado de la llamada del bloque personalizado que se seleccione de la lista 'function name'. La lista de par\u00e1metros es opcional.</li> </ul>"},{"location":"microSTEAMakers/prog_uB/#operaciones-comunes","title":"Operaciones comunes","text":"<p>Antes de examinar el proceso de creaci\u00f3n de un nuevo bloque personalizado, repasemos algunas de las operaciones habituales disponibles al trabajar con una cabecera de bloque personalizada:</p> <ul> <li>MODO DE EDICI\u00d3N</li> </ul> <p>Cuando se hace clic en la parte p\u00farpura del bloque con sombrero \"define\" o en la parte azul claro del bloque personalizado con el nombre del bloque, se entra en modo edici\u00f3n. Este modo puede identificarse por el cambio de aspecto de los par\u00e1metros de la cabecera, as\u00ed como por la aparici\u00f3n de los tri\u00e1ngulos negros. En la animaci\u00f3n siguiente vemos como crear, activar y desactivar la edici\u00f3n y como a\u00f1adir y eliminar casillas o etiquetas en un bloque.</p> <p> <p> Crear un bloque</p> <p></p> <p>Cada par\u00e1metro a\u00f1adido debe tener un nombre diferente que MicroBlocks asigna de manera autom\u00e1tica pero que podemos cambiar seg\u00fan nuestros intereses simplemente haciendo clic sobre el bloque del nombre.</p> <p> <p> Cambios de nombre de par\u00e1metros y edici\u00f3n de un bloque</p> <p></p> <p>El tri\u00e1ngulo negro de la derecha sirve para a\u00f1adir par\u00e1metros y etiquetas, mientras que el de la izquierda sirve para borrarlos. Al hacer clic en el mismo, se eliminar\u00e1 el elemento situado m\u00e1s a la derecha (ya sea un par\u00e1metro o una etiqueta).</p> <p>Si hay que borrar una etiqueta situada en el centro de la cabecera del bloque, basta con hacer doble clic para seleccionarla, dejarla vacia, y pulsar la tecla Supr.</p> <ul> <li>RENOMBRAR PAR\u00c1METROS Y ETIQUETAS</li> </ul> <p>Para cambiar el nombre de una etiqueta de un bloque personalizado o de cualquier etiqueta de la cabecera, basta con hacer doble clic para seleccionarla y, a continuaci\u00f3n, escribir un nuevo nombre. Dado que el nombre del bloque y las etiquetas son s\u00f3lo campos de texto, es posible crear nombres con varias palabras separadas por espacios o caracteres de subrayado.</p> <p>Si se utilizan espacios al crear el nombre de la etiqueta, el nombre de la etiqueta resultante se tratar\u00e1 como etiquetas sucesivas separadas. Aunque aparezcan una tras otra y se perciban como un nombre continuo, en realidad son etiquetas de texto individuales. Esto s\u00f3lo es importante si va a editarlas posteriormente.</p> <p>Si se utilizan caracteres de subrayado al crear el nombre de la etiqueta, el nombre de la etiqueta resultante se tratar\u00e1 como una sola etiqueta.</p> <p>Por lo tanto, dependiendo de cu\u00e1les sean nuestras intenciones, puede que encontremos un m\u00e9todo u otro m\u00e1s adecuado a nuestras necesidades.</p> <p>Para cambiar el nombre de un par\u00e1metro, hacemos clic en el \u00e1rea ovalada marr\u00f3n del par\u00e1metro y escribimos un nuevo nombre en la ventana de edici\u00f3n.</p> <p>A continuaci\u00f3n vemos el proceso para cambiar ambas etiquetas, el nombre del bloque y los par\u00e1metros.</p> <p> <p> Cambios de nombres</p> <p></p> <ul> <li>MOSTRAR EL CONTENIDO DE UN BLOQUE PERSONALIZADO</li> </ul> <p>Una vez creado un bloque personalizado y cerrada su cabecera y definici\u00f3n, este aparecer\u00e1 autom\u00e1ticamente en el \u00e1rea de bloques de la categor\u00eda Mis bloques. Como el bloque reci\u00e9n creado reside en el \u00e1rea Mis bloques, se ver\u00e1 como el formato de control o bloque informador de su definici\u00f3n. Para ver realmente los bloques que componen la definici\u00f3n del bloque personalizado, debemos hacer clic derecho en el bloque y seleccionar \"mostrar definici\u00f3n de bloque\" en el men\u00fa.</p> <p> <p> Mostrar la definici\u00f3n de un bloque</p> <p></p> <p>Al seleccionar esta opci\u00f3n, la definici\u00f3n del bloque personalizado aparecer\u00e1 en el \u00c1rea de trabajo, como apreciamos en la siguiente animaci\u00f3n.</p> <p> <p> Mostrar la definici\u00f3n de un bloque</p> <p></p> <p>Si queremos borrar la definici\u00f3n de un bloque de la zona de programa basta con que lo arrastremos a la zona de men\u00fa, donde observaremos como aparece un ojo tachado en color gris (indicando ocultar) en lugar de la papelera habitual.</p> <p>Para elminar completamente la definici\u00f3n del bloque hay que escoger la opci\u00f3n \"elimina la definici\u00f3n del bloque\"</p> <ul> <li>Proceso de creaci\u00f3n de un bloque personalizado</li> </ul> <p>Asignar nombre al bloque</p> <p>Al hacer clic en el bot\u00f3n a\u00f1adir bloque, se abre un cuadro de di\u00e1logo en el que se introduce el nombre del bloque personalizado.</p> <p> <p> Creaci\u00f3n de un bloque personalizado</p> <p></p> <p>Tras pulsar el bot\u00f3n \"De acuerdo\", se coloca una cabecera de definici\u00f3n de bloque personalizada en el \u00e1rea de programaci\u00f3n.</p> <p> <p> Bloque personalizado recien creado</p> <p></p> <p>Ahora todos los bloques de c\u00f3digo que compondr\u00e1n este bloque personalizado pueden colocarse bajo el bloque de cabecera, y formar\u00e1n parte de la nueva funci\u00f3n programada. Observe tambi\u00e9n que se ha colocado un nuevo bloque que representa la funci\u00f3n personalizada en la ventana de categor\u00eda Mis Bloques con el nombre predeterminado de miBloque.</p> <p>Aunque no siempre es un requisito, algunas funciones necesitar\u00e1n par\u00e1metros para completar su funcionalidad programada. \u00c9stos actuar\u00e1n como entradas de la funci\u00f3n y podr\u00e1n ser utilizados por los bloques que componen el c\u00f3digo de bloque personalizado.</p> <p>Modificaci\u00f3n de los tipos de par\u00e1metros</p> <p>Cuando se a\u00f1ade un par\u00e1metro, MicroBlocks le asigna un nombre por defecto (foo, baz, etc) y un tipo por defecto (n\u00famero/cadena).</p> <p> <p> Tipos de par\u00e1metros</p> <p></p> <p>Hay varios tipos de par\u00e1metros posibles: n\u00famero/texto, booleano y color. Estos est\u00e1n disponibles para seleccionar en el men\u00fa que se abre al hacer clic en el tri\u00e1ngulo negro que apunta hacia abajo en el bloque de par\u00e1metros oval marr\u00f3n. Para los par\u00e1metros de tipo n\u00famero/texto, es posible restringir sus tipos a s\u00f3lo n\u00famero o s\u00f3lo texto. A continuaci\u00f3n se expone un sencillo bloque que muestra datos de todos los tipos.</p> <p> <p> Ejemplo de tipos de par\u00e1metros</p> <p></p> <p>Vemos que el nombre de la funci\u00f3n parece <code>Datos Nombre</code>. De hecho, el nombre de la funci\u00f3n es <code>Datos</code>, mientras que <code>Nombre</code> es el nombre del primer par\u00e1metro. Sin embargo, dado que MicroBlocks no permite la entrada de una etiqueta seguida de otra, ha sido necesario crear primero el par\u00e1metro <code>nombre</code>, seguido de un doble clic en el nombre de la funci\u00f3n <code>Datos</code> y a\u00f1adir \" <code>Nombre</code>\" (espacio <code>Nombre</code>) al final de la misma.</p> <p>Esta t\u00e9cnica parece extra\u00f1a, pero es totalmente correcta, ya que los nombres de funci\u00f3n nunca se utilizan espec\u00edficamente por s\u00ed solos como en un lenguaje de programaci\u00f3n basado en texto. Los bloques personalizados, al igual que todos los dem\u00e1s, se arrastran y sueltan en el \u00e1rea de programaci\u00f3n, independientemente de su nombre. No obstante, no debemos crear varios bloques personalizados en los que el nombre de la primera etiqueta sea id\u00e9ntico. De hecho, NO podremos hacerlo, ya que MicroBlocks asignar\u00e1 un nombre numerado que lo har\u00e1 \u00fanico.</p> <p>Asignar valores por defecto a los par\u00e1metros</p> <p>Como se ve en la im\u00e1gen anterior de definici\u00f3n de bloque personalizado, la vista final del bloque muestra valores para cada par\u00e1metro, \"Juan\", 55, true, y 16715550 para el color rojo. Estos valores se denominan valores por defecto y son los que hemos asignado al bloque en su craci\u00f3n y se pueden modificar en cualquier momento si los ponemos en modo edici\u00f3n.</p> <ul> <li>Interpretaci\u00f3n del n\u00famero que identifica al color</li> </ul> <p>Los valores por defecto de los tipos cadena, n\u00famero y booleano se explican por s\u00ed mismos. Sin embargo, el tipo de color necesita alguna explicaci\u00f3n mas. Vamos a utilizar el siguiente ejemplo para ello.</p> <p> <p> Color como un n\u00famero</p> <p></p> <p>Como puede verse en la muestra de resultados los primeros corresponden a los valores en decimal de las variables R, G y B respectivamente, el valor del color magenta se obtiene del valor decimal 12398300. Analicemos estos valores y veamos qu\u00e9 representan.</p> <p>Si cada uno de los tres valores decimales superiores se convierten a los equivalentes hexadecimales, se obtiene:</p> <p> Color (1,1) Decimal Hexadecimal R 115 73 G 188 BC B 180 B4 <p></p> <p>Si llevamos esto a un programa que trabaje con colores RGB, como por ejemplo Inkscape, podemos ver como el color del pixel (1,1) es color verde claro.</p> <p> <p> Color como un n\u00famero</p> <p></p> <p>Podriamos colocar los tres valores hexadecimales RGB uno a continuaci\u00f3n del otro en el orden RGB para obtener 0x73BCB4, y este n\u00famero expresado en el sistema de numeraci\u00f3n decimal es el 7584948.</p> <p>El valor decimal 12398300 pasado a hexadecimal es BD2EDC que descompuesto corresponde R = BD (189), G = 2E (46) y B = DC (220), tal y como se refleja en la tabla siguiente:</p> <p> Color (5,5) Decimal Hexadecimal R 189 BD G 46 2E B 220 DC <p></p> <p>Si llevamos esto a un programa que trabaje con colores RGB, como por ejemplo Inkscape, podemos ver como el color del pixel (5,5) es color magenta claro.</p> <p> <p> Color como un n\u00famero</p> <p></p> <ul> <li>Ejemplo de creaci\u00f3n de bloque personalizado</li> </ul> <p>Vamos a definir algunos de ellos mediante Mis Bloques. Creamos los siguientes (aunque ya existen en otro bloque):</p> <p> <p> Creaci\u00f3n de bloques para iconos</p> <p></p> <p>El uso de estos bloques lo vemos a continuaci\u00f3n:</p> <p> <p> Descargar programa</p> <p></p> <p>En el programa est\u00e1 disponible la definici\u00f3n de los bloques .</p> <p>En la imagen siguiente tenemos un sencillo ejemplo de uso de funci\u00f3n con retorno de valor mediante bloque reportador.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#sonidos","title":"Sonidos","text":"<p>En MicroBlocks tenemos tres opciones de reproducci\u00f3n de sonidos o m\u00fasica, un conjunto de librer\u00edas englobadas bajo el seud\u00f3nimo \"Sonido\", una librer\u00eda de \"Politonos\" y otra librer\u00eda de \"Tonos\". En \"Sonido\" nos encontraremos bloques \"MultiTone\", opciones para reproducir mp3 o WAV, radio AM, etc. No veremos estas librer\u00edas por el momento y nos centraremos en \"Tonos\" y \"Politonos\".</p> <p>La libreria micro:STEAMakers dispone de un bloque relacionado con el sonido. Este es:</p> <ul> <li>ms sonido. Bloque de lectura del nivel de sonido percibido por el micr\u00f3fono de la placa expresado en tanto por ciento. El bloque es:</li> </ul> <p> <p>. Bloque ms sonido</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#tonos","title":"Tonos","text":"<p>A\u00f1adimos la libreria \"Tonos\" a nuestro entorno y nos encontramos con los siguientes bloques:</p> <ul> <li>. Reproduce la nota y la octava y por el tiempo indicados.</li> <li>. Reproduce la nota indicada por el n\u00famero de tecla en el teclado del piano (0-127) donde el Do central es 60. Este bloque es \u00fatil cuando se realizan transformaciones matem\u00e1ticas de la m\u00fasica. MIDI es la abreviatura de \"Musical Instrument Digital Interface\", que se traduce como \"Interfaz digital de instrumentos musicales\", y es un est\u00e1ndar de la industria para controlar sintetizadores, cajas de ritmos y otros dispositivos musicales electr\u00f3nicos.</li> <li>. Reproduce la nota especificada en Hertz (Hz) durante el tiempo indicado.</li> <li>. Reproduce el tono indicado en Hz.</li> <li>. Detiene la reproducci\u00f3n del tono actual.</li> <li>. Especifica el pin al que est\u00e1 conectado un zumbador piezoel\u00e9ctrico o unos auriculares. En placas con altavoces integrados, se utilizar\u00e1 el altavoz integrado si se omite este bloque.</li> </ul> <p>Veamos un ejemplo en el que se utiliza el bloque ms sonido junto con bloques de la libreria <code>Tonos</code>. El ejmplo simplemente emite distintos tonos por el altavoz y enciende el LED central de un color que depender\u00e1 del nivel de sonido detectado por el micr\u00f3fono.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#politonos","title":"Politonos","text":"<p>El formato RTTTL (del ingl\u00e9s, Ring Tone Text Transfer Language) fue desarrollado por Nokia para codificar tonos de llamada a tel\u00e9fonos m\u00f3viles. El formato RTTTL es una cadena dividida en tres secciones: encabezado (nombre o t\u00edtulo), valor predeterminado y datos. Por ejemplo, la siguiente cadena de texto se corresponde con la Intro de Donkey Kong:</p> <p>d=4,o=5,b=140:8a#,8p,8d6,16p,16f.6,16g.6,16f.6,8a#,8p,8d6,16p,16f.6,16g.6,16f.6,8a#,8p,8d6,16p,16f.6,16g.6,16f.6,8a#,8p,8d6,16p,16f.6,16g.6,16f.6</p> <p>A\u00f1adimos la libreria \"Politonos\" a nuestro entorno y nos encontramos con los siguientes bloques:</p> <ul> <li>. Reproduce la cadena de tono de llamada indicada.</li> <li>. Devuelve el nombre del tono de llamada que se est\u00e1 reproduciendo actualmente.</li> </ul> <p>Para reproducir una melodia simplemente la copiamos en el bloque <code>toca el politono</code>.</p> <p>Existen p\u00e1ginas de donde se pueden descargar tonos, o incluso podemos hacerlo nosotros mismos. A continuaci\u00f3n ponemos algunos enlaces:</p> <ul> <li>RTTTL Ringtone Downloads de Picaxe.</li> <li>Colecciones de ArcadeTones clasificados por temas.</li> <li>Archivo NokringTunes.txt que contiene m\u00e1s de once mil melod\u00edas en formato Nokring.</li> </ul> <p>Una vez descargado lo abrimos y buscamos la melodia para copiar y pegar en el bloque.</p> <p>Informaci\u00f3n complementaria</p> <p>Ya hemos visto como a\u00f1adir la librer\u00eda politonos, enlaces para obtenerlos y el uso de los mismos en MicroBlocks, pero vamos a profundizar un poco mas sobre el tema.</p> <p>El formato RTTTL es una cadena dividida en tres partes: nombre, valor por defecto y datos.</p> <ul> <li>nombre. Es una cadena que describe el nombre del tono de llamada. En principio su longitud m\u00e1xima es de 10 caracteres y no puede contener el signo de dos puntos (:).</li> <li>valor por defecto. Lo forman un conjunto de valores separados por comas que son los que deben cumplirse durane la ejecuci\u00f3n del tono de llamada. Cada valor es una clave a la que se asigna con una igualdad un valor, siendo los nombre posibles: D (duraci\u00f3n), o (octava) y B (ritmo o tempo)</li> <li>datos. Es un conjunto de cadenas de caracteres separadas por comas, estando cada cadena formada por una duraci\u00f3n, un tono, una octava y opcionalmente puntos que aumentan la duraci\u00f3n de la nota a la mitad.</li> </ul> <p>Un ejemplo de tono RTTTL puede ser:</p> <p><code>Abba - Money Money Money: d=4,o=5,b=112:8e7,8e7,8e7,8e7,8e7,8e7,16e6,16a6,16c7,16e7,8d#7,8d#7,8d#7,8d#7,8d#7,8d#7,16f6,16a6,16c7,16d#7,d7,8c7,8a6,8c7,c7,2a6,32a6,32c7,32e7,8a7</code></p> <p>donde se pueden distinguir facilmente las tres partes separadas por dos puntos (:):</p> <ul> <li>nombre. Abba - Money Money Money.</li> <li>valor por defecto. d=4,o=5,b=112 (d = duraci\u00f3n; o = octava y b = tempo o ritmo). Mas adelante se describen mejor estos conceptos.</li> <li>datos. Las notas separadas por comas y formadas por una duraci\u00f3n, una nota [a (La), b (Si), c (Do), d (Re), e (Mi), f (Fa) o g (Sol)] y la indicaci\u00f3n de la octava, que si no se indica se aplica el valor predeterminado.</li> </ul> <p>La duraci\u00f3n de las notas es:</p> <ul> <li>1 - nota entera</li> <li>2 - media nota</li> <li>4 - cuarto de nota</li> <li>8 - octavo de nota (octava)</li> <li>16 - dieciseisavo de nota</li> <li>32 - treintaidosavo de nota</li> </ul> <p>Los tonos pueden ser:</p> <ul> <li>P \u2013 descanso o pausa</li> <li>A \u2013 A (La)</li> <li>A# \u2013 A\u266f B\u266d (La#/Si\u266d)</li> <li>B \u2013 B/C\u266d (Si/Do\u266d)</li> <li>C \u2013 C (Do)</li> <li>C# \u2013 C\u266f/D\u266d (Do\u266f/Re\u266d)</li> <li>D \u2013 D (Re)</li> <li>D# \u2013 D\u266f/E\u266d (Re\u266f/Mi\u266d)</li> <li>E \u2013 E/F\u266d (Mi/Fa\u266d)</li> <li>F \u2013 F/E\u266f (Fa/Mi\u266f)</li> <li>F# \u2013 F\u266f/G\u266d (Fa\u266f/Sol\u266d)</li> <li>G \u2013 G (Sol)</li> <li>G# \u2013 G\u266f/A\u266d (Sol\u266f/La\u266d)</li> </ul> <p>En el formato RTTTL se permiten octavas comenzando desde la A por debajo del do medio y subiendo cuatro octavas. Esto se debe a la imposibilidad de los tel\u00e9fonos m\u00f3viles para reproducir ciertos tonos de forma audible. Las octavas est\u00e1n numeradas desde el tono m\u00e1s bajo hasta el tono m\u00e1s alto de 4 a 7. La octava debe dejarse fuera de la notaci\u00f3n en el caso de un descanso o pausa en el patr\u00f3n.</p> <p>En el ejemplo siguiente suena un politono u otro dependiendo del bot\u00f3n que pulsemos en la micro:STEAMakers.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#abrir-archivos-de-sonido-o-musica","title":"Abrir archivos de Sonido o m\u00fasica","text":"<p>En MicroBlocks tenemos disponibles una serie de ejemplos resueltos a los que se puede acceder desde el men\u00fa \"Fichero\" escogiendo la opci\u00f3n \"Abre\" y dirigiendonos a la carpeta ejemplos, si no estamos ya en ella.</p> <p>ADVERTENCIA</p> <p>Los ejemplos est\u00e1n desarrollados para micro:bit por lo que para hacer que funcionen hay que realizar ciertas adaptaciones de los mismos.</p> <p>Veremos solamente algunos de ellos.</p> <p> <p> Ejemplos de m\u00fasica y sonido en MicroBlocks</p> <p></p> <p>Podemos abrir cualquiera de los ejemplos de los directorios indicados. En el directorio \"Sonido\" basicamente hay diferentes ejemplos que trabajan con sonidos y vamos a abrir SoundLevel, que es un programa que simula v\u00fametros sencillos con la pantalla y/o tiras de LEDs. El programa, como hemos dicho est\u00e1 pensado para micro:bit y, tal cual lo cargamos, no funcionar\u00e1 en la micro:STEAMakers. El programa original lo vemos en la imagen siguiente:</p> <p> <p> Ejemplo de nivel de sonido con los dos programas que lo forman</p> <p></p> <p>En la imagen siguiente podemos ver las modificaciones realizadas para hacer que el ejemplo funcione.</p> <p> <p> Descargar programa</p> <p></p> <p>La imagen siguiente, en formato svg, es una comparativa entre el antes y el despu\u00e9s del programa.</p> <p> <p> Comparativa ejemplo de nivel de sonido Clic sobre la imagen para agrandar</p> <p></p> <p>En el directorio \"Music\" hay varios ejemplos en los que se utilizan bloques propios. En la figura vemos el ejemplo HarryPotter mostrando la definici\u00f3n de uno de los bloques.</p> <p> <p> Ejemplo de sonido HarryPotter original</p> <p></p> <p>El programa modificado lo tenemos a continuaci\u00f3n. En este caso solamente hay que a\u00f1adir el bloque de inicializar audio de la libreria micro:STEAMakers.</p> <p> <p> Descargar programa</p> <p></p> <p>A simple vista se aprecia la utilidad de las funciones para simplificar el c\u00f3digo y hacer mas sencilla la depuraci\u00f3n del mismo.</p> <p>Otro ejemplo con todos los bloques desplegados lo vemos para el caso de Bach Bouree, que se corresponden con la pieza musical integrada como quinto movimiento en la Suite en Mi menor para La\u00fad BWV 996 Bourr\u00e9e en mi menor compuesta por Johann Sebastian Bach. En la imagen siguiente vemos el archivo orginal.</p> <p> <p> Ejemplo de sonido Bach Bouree</p> <p></p> <p>El programa sin los bloques expandidos, con la inicializaci\u00f3n del audio y sin los comentarios es tan simple como:</p> <p> <p> Ejemplo de sonido Bach Bouree</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#sensor-de-temperatura-y-humedad","title":"Sensor de temperatura y humedad","text":"<p>La micro:STEAMakers incorpora un sensor de temperatura y humedad AHT20 y en MicroBlocks se han contemplado dos bloques que nos devuelven sus lecturas. Estos bloques son:</p> <ul> <li>ms temperatura \u00baC El bloque devuelve la temperatura medida por el sensor expresada en \u00baC. El aspecto del bloque es:</li> </ul> <p> <p>. Bloque ms temperatura</p> <p></p> <ul> <li>ms humedad % El bloque devuelve la humedad medida por el sensor expresada en porcentaje. El aspecto del bloque es:</li> </ul> <p> <p>. Bloque ms humedad</p> <p></p> <p>El siguiente ejemplo muestra el uso de estos bloques.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#acelerometro-y-giroscopio","title":"Aceler\u00f3metro y giroscopio","text":"<p>La micro:STEAMakers incorpora un giroscopio acelerometro de seis ejes MPU6050 con Velocidad m\u00e1xima de rotaci\u00f3n de 2000\u00b0/s y un Rango de aceleraci\u00f3n de \u00b12g\uff0c\u00b14g\uff0c\u00b18g\uff0c\u00b116g. En el apartado \"Antes de\" hemos visto detalles sobre el mismo.</p> <p>MicroBlocks nos da tres bloques en la libreria micro:STEAMakers para trabajar con el mismo:</p> <ul> <li>ms accel m/s2. Nos devuelve la aceleraci\u00f3n respecto al eje escogido medida en m/s2. El aspecto del bloque es:</li> </ul> <p> <p>. Bloque ms accel m/s2</p> <p></p> <p>El siguiente ejemplo muestra la captura de un programa que hace uso de este bloque.</p> <p> <p> Descargar programa</p> <p></p> <ul> <li>ms gyro deg/s. Nos devuelve la velocidad angular respecto al eje escogido medida en deg/s. El aspecto del bloque es:</li> </ul> <p> <p>. Bloque ms gyro deg/s</p> <p></p> <p>El siguiente ejemplo muestra la captura de un programa que hace uso de este bloque.</p> <p> <p> Descargar programa</p> <p></p> <ul> <li>ms inclinaci\u00f3n hacia. Nos devuelve la inclinaci\u00f3n respecto al eje escogido medida en grados. El aspecto del bloque es:</li> </ul> <p> <p>. Bloque ms inclinaci\u00f3n hacia</p> <p></p> <p>El siguiente ejemplo muestra la captura de un programa que hace uso de este bloque.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"microSTEAMakers/prog_uB/#sensor-de-energia","title":"Sensor de energia","text":"<p>La micro:STEAMakers incorpora un circuito integrado con encapsulado SOT-23 de 5 pines que es un monitor de corriente, tensi\u00f3n y potencia. Esto nos permite trabajar con valores de energia a partir de los bloques que incorpora MicroBlocks, que son:</p> <ul> <li>ms energia. El bloque devuelve el par\u00e1metro que indica la unidad seleccionada, es decir: corriente en mA, tensi\u00f3n en mV o potencia en mW. El aspecto del bloque es:</li> </ul> <p> <p>. Bloque ms energia</p> <p></p> <ul> <li>ms <code>estado</code> la medida de energia.  Bloque que permite poner en marcha (arranca), detener (det\u00e9n) o reiniciar (resetea) la monitorizaci\u00f3n del consumo energ\u00e9tico que se est\u00e1 produciendo en la placa micro:STEAMakers. El aspecto del bloque es:</li> </ul> <p> <p>. Bloque ms <code>estado</code> la medida de energia</p> <p></p> <p>La definici\u00f3n del bloque es la siguiente:</p> <ul> <li>ms consumo de energia (\\(\\mu Wh\\)).  El bloque devuelve el consumo energ\u00e9tico en \\(\\mu Wh\\) que se produce desde el momento en que se arranca el medidor (bloque anterior) hasta que se detiene o se resetea. El aspecto del bloque es:</li> </ul> <p> <p>. Bloque ms consumo de energia (\\(\\mu Wh\\))</p> <p></p> <p>El siguiente ejemplo muestra un programa que hace uso de estos bloques. En la animaci\u00f3n podemos apreciar como el consumo energ\u00e9tico no retorna un valor distinto de cero hasta que no se pone en marcha el medidor. Se ha incluido un c\u00e1lculo de la potencia en mW a partir de las medidas de tensi\u00f3n y corriente.</p> <p> <p> Descargar programa</p> <p></p>"},{"location":"microSTEAMakers/uB/","title":"Entorno de programaci\u00f3n Microblocks","text":""},{"location":"microSTEAMakers/uB/#donde-encontrarlo","title":"Donde encontrarlo","text":"<p> Versi\u00f3n estable MicroBlocks v1</p> <ul> <li>https://microblocks.fun/downloads/latest/</li> <li>https://microblocks.fun/run/microblocks.html </li> </ul> <p>Versi\u00f3n piloto MicroBlocks Version 2</p> <ul> <li>https://microblocks.fun/downloads/pilot/</li> <li>https://microblocks.fun/run-pilot/microblocks.html</li> </ul>"},{"location":"microSTEAMakers/uB/#configuracion","title":"Configuraci\u00f3n","text":"<p>Si se ejecuta MicroBlocks en un navegador Chromium, Chrome o Edge no es necesario instalar el programa en el ordenador; simplemente haz clic en el bot\u00f3n \"Run\" () en la parte superior derecha de la barra de navegaci\u00f3n.</p> <p>La ejecuci\u00f3n de MicroBlocks en el navegador evita la necesidad de instalar una aplicaci\u00f3n convencional.</p>"},{"location":"microSTEAMakers/uB/#aplicacion-web-microblocks","title":"Aplicaci\u00f3n web MicroBlocks","text":"<p>Para mayor comodidad, se puede guardar una copia de MicroBlocks como una \"aplicaci\u00f3n web progresiva (progressive web app)\" que se puede iniciar como una aplicaci\u00f3n convencional. Una vez guardada, la aplicaci\u00f3n web de MicroBlocks \u00a1puede ejecutarse incluso sin conexi\u00f3n!</p> <p>En la red podemos encontrar suficiente informaci\u00f3n si queremos profundizar mas sobre que es y como funciona una Aplicaci\u00f3n web progresiva.</p> <p>Para guardar la aplicaci\u00f3n web MicroBlocks, ejecuta MicroBlocks en tu navegador y luego haz clic en el bot\u00f3n de instalaci\u00f3n en la parte superior derecha de la barra de URL del navegador:</p> <p> <p> Instalar MicroBlocks</p> <p></p> <p>Tras hacer clic en el icono se da la opci\u00f3n de instalar o cancelar la operaci\u00f3n:</p> <p> <p> Instalar MicroBlocks</p> <p></p> <p>Si se elige instalar se instalar\u00e1 la aplicaci\u00f3n web y se abrir\u00e1 MicroBlocks en una nueva ventana:</p> <p> <p> MicroBlocks instalado</p> <p></p> <p>Desde la barra de t\u00edtulo de la aplicaci\u00f3n podemos acceder a las opciones de configuraci\u00f3n, entre las que se encuentra la opci\u00f3n de desinstalar la nueva aplicaci\u00f3n web progresiva.</p> <p> <p> Opciones aplicaci\u00f3n web progresiva</p> <p></p> <p>Con la aplicaci\u00f3n instalada la barra de navegaci\u00f3n muestra un nuevo icono indicativo desde el que podemos elegir la aplicaci\u00f3n web progresiva que abrir, como se muestra en la imagen siguiente:</p> <p> <p> Abrir aplicaci\u00f3n web progresiva</p> <p></p>"},{"location":"microSTEAMakers/uB/#configuracion-linux","title":"Configuraci\u00f3n Linux","text":"<p>Para usar Bluetooth Low Energy (BLE) en el navegador Chromium o Chrome en Linux, hay que habilitar una bandera (flag) ya que, al momento de escribir este art\u00edculo, Web Bluetooth todav\u00eda es experimental en la versi\u00f3n Linux de estos navegadores.</p> <p>En el apartado Web Serial ESPTool est\u00e1n todos los detalles para buscarla y habilitarla.</p> <p>Si MicroBlocks no se conecta a la placa, aseg\u00farate de haber reiniciado el sistema despu\u00e9s de ejecutar el instalador. Luego ejecuta:</p> <pre><code>groups\n</code></pre> <p>para verificar que est\u00e1s en los grupos dialout y tty.</p> <p>Si no est\u00e1s en los grupos dialout y tty, puedes agregarte manualmente haciendo lo siguiente:</p> <pre><code>sudo usermod -a -G dialout &lt;tu nombre de usuario&gt;\n</code></pre> <p>y</p> <pre><code>sudo usermod -a -G tty &lt;tu nombre de usuario&gt;\n</code></pre> <p>Necesitar\u00e1s cerrar sesi\u00f3n y volver a iniciarla para que este cambio surta efecto.</p> <p>Para verificar que Linux ve la placa, aseg\u00farate de que la placa est\u00e9 enchufada y luego ejecuta:</p> <pre><code>ls /dev | grep ACM\n</code></pre> <p>Deber\u00edas ver una entrada para tu placa, generalmente ttyACM0.</p> <p>En 2022, algunas distribuciones de Linux, incluidas Ubuntu y Mint, comenzaron a instalar de forma predeterminada un paquete llamado BRLTTY (abreviatura de Braille TTY). Desafortunadamente, ese paquete entra en conflicto con las placas microcontroladas que utilizan el chip USB-serial CP210x, incluidas muchas compatibles con MicroBlocks. BRLTTY toma estas placas de modo que no aparezca ninguna entrada para la placa en /dev. Este problema se puede resolver eliminando el paquete BRLTTY:</p> <pre><code>sudo apt remove brltty\n</code></pre>"},{"location":"microSTEAMakers/uB/#guia","title":"Gu\u00eda","text":"<p>MicroBlocks es una herramienta de programaci\u00f3n por bloques basada en Snap!. Se trata de un software que puede trabajar online o localmente y que nos va a permitir programar diferentes placas, entre ellas la ESP32 micro:STEAMakers, ESP32 STEAMakers, ED1, etc.</p> <p> <p> Logotipo de MicroBlocks</p> <p>Logotipo descargado de la entrada en SAP de Kathy Giori  titulada Recap of \u201cSneak Preview into MicroBlocks\u201d.</p> <p></p> <p>MicroBlocks es un lenguaje de programaci\u00f3n por bloques similar a Scratch que es una excelente herramienta para aprender desde nivel principiante hasta nivel experto y v\u00e1lido para edades que van desde los 8 hasta los 99 a\u00f1os.</p> <p>En el apartado Get Started de su web tenemos descrito como trabajar desde un navegador y los distintos sistemas operativos as\u00ed como los pasos a seguir para configurar nuestra placa y como comenzar a crear programas.</p> <p>En esta ocasi\u00f3n vamos a trabajar de forma local descargando e instalando el programa en nuestro ordenador. En mi caso trabajar\u00e9 con Linux de 64 bits instalando el paquete debian descargado 'ublocks-amd64.deb'. La forma elegida para instalarlo, suponiendo que el paquete est\u00e1 en Descargas, es:</p> <pre><code>sudo dpkg -i ~/Descargas/ublocks-amd64.deb\n</code></pre> <p>Tras la instalaci\u00f3n verificamos que todo est\u00e1 correcto y que Linux ve la placa ejecutando en una terminal lo que vemos en la imagen siguiente.</p> <p> <p> Verificaci\u00f3n de conexi\u00f3n con micro:bit en Linux</p> <p></p> <p>En el enlace Mis notas sobre Linux trabajando con Ubuntu tenemos un par de entradas que describen problemas con el paquete brltty (Braille TTY). En el caso de placas con un chip microcontrolador de la serie USB CP210x, algunas de ellas compatibles con MicroBlocks. Si tenemos este caso el problema se puede resolver eliminando el paquete BRLTTY.</p> <pre><code>sudo apt remove brltty\n</code></pre> <p>El programa una vez instalado lo tenemos disponible en aplicaciones, como vemos en la imagen siguiente.</p> <p> <p> App MicroBlocks disponible</p> <p></p>"},{"location":"microSTEAMakers/uB/#por-que-usar-microblocks","title":"\u00bfPor qu\u00e9 usar MicroBlocks?","text":"<p>MicroBlocks tiene una caracter\u00edstica que lo distingue de otros lenguajes de programaci\u00f3n por bloques y es que la programaci\u00f3n real ocurre seg\u00fan se desarrolla el programa, lo que podemos denominar como programaci\u00f3n en directo o en vivo y, debido a esto, que implica que el c\u00f3digo se descarga seg\u00fan se escribe tenemos la otra caracter\u00edstica que le dota de independencia o autonom\u00eda, ya que cuando demos el programa por bueno, este ya est\u00e1 grabado como firmware en la placa.</p> <p>Otra de la caracter\u00edsticas importantes que ofrece MicroBlocks es la multitarea o posibilidad de desarrollar funcionalidades que trabajan de forma paralela y separada cada tarea. Por ejemplo, reproducir un sonido mientras se controla un servomotor. Esta forma de trabajo hace que el c\u00f3digo sea mas sencillo de escribir y de entender.</p> <p>Cuando trabajamos con MicroBlocks la placa que conectemos se comporta como una tarjeta de memoria. No hay necesidad de leer un archivo de proyecto, simplemente conectamos la placa y el script o programa nos aparecer\u00e1 en el IDE. Es decir, MicroBlocks lee el programa que hay en la placa y lo carga de manera autom\u00e1tica.</p> <p>El funcionamiento de MicroBlocks se basa en:</p> <ul> <li>El editor de bloques o IDE que se puede ejecutar online o de manera local.</li> <li>Una m\u00e1quina virtual que se ejecuta en la placa microcontroladora. Esta m\u00e1quina virtual es la encargada de ejecutar el programa de usuario y lo hace compilando en c\u00f3digo de bytes o instrucciones de bajo nivel muy parecidas al c\u00f3digo m\u00e1quina. Si tenemos habilitados los bloques avanzados podemos ver los bytes generados por el programa, como vemos en la animaci\u00f3n siguiente:</li> </ul> <p> <p> C\u00f3digo de bytes</p> <p></p> <p>La parte m\u00e1s importante de la informaci\u00f3n de bytes es la primera l\u00ednea, que muestra el n\u00famero de bytes compilados. Los scripts en MicroBlocks no deben superar los 1000 bytes, de ah\u00ed la importancia de esta informaci\u00f3n.</p> <ul> <li>El sistema de comunicaci\u00f3n entre la placa y el host remoto o el ordenador que hace que el firmware se actualice seg\u00fan se escribe el programa. Este sistema es el encargado de enviar los bytes y comandos para iniciar el programa y procesar mensajes del microcontrolador. As\u00ed el editor proporciona realimentaci\u00f3n gr\u00e1fica de lo que sucede en el microcontrolador y directamente puede mostrar valolres en un \"bocadillo de conversaci\u00f3n\" como el de la figura siguiente.</li> </ul> <p> <p> Bocadillo de conversaci\u00f3n</p> <p></p> <p>MicroBlocks tambi\u00e9n dispone de una herramienta de representaci\u00f3n gr\u00e1fica que estudiaremos en su momento.</p> <p>Una funcionalidad importante del editor es que, adem\u00e1s de programar por bloques, administra las Librerias, que est\u00e1n escritas en MicroBlocks. Existen muchas que iremos viendo poco a poco. Las librerias escritas en MicroBlocks pueden ser editadas por los usuarios.</p>"},{"location":"microSTEAMakers/uB/#los-cuatro-pilares-de-microblocks","title":"Los cuatro pilares de MicroBlocks","text":"<p>Seg\u00fan Bernat Romagosa, que forma parte del equipo de MicroBlocks, este es un software en vivo capaz de trabajar con varias placas diferentes como micro:bit, nodemcu y otras muchas. El lenguaje est\u00e1 desarrollado en torno a cuatro conceptos que consideran esenciales para un lenguaje de programaci\u00f3n educativo. Ellos los llaman los cuatro pilares de MicroBlocks:</p> <ol> <li>Vivo. El primero de estos pilares es que MicroBlocks es un lenguaje de programaci\u00f3n \"en directo\" o \"en vivo\", lo que significa que puedo arrastrar un bloque a la zona de programa y ver el resultado de cambiarlo en la ejecuci\u00f3n en la placa de manera inmediata. Esto significa que no hay que esperar ni ciclos de carga ni compilaciones ni nada de esto. El programa trabaja en tiempo real con la placa.</li> <li>Multitarea. El segundo pilar es que se trata de un lenguaje de programaci\u00f3n multitares o que trabaja en paralelo, lo que significa que se pueden ejecutar varias tareas al mismo tiempo.</li> <li>Aut\u00f3nomo. El tercero de los pilares es que MicroBlocks es un lenguaje aut\u00f3nomo, lo que significa que si, en cualquier momento, desconectamos la micro:bit del ordenador y alimentamos de forma externa el programa se seguir\u00e1 ejecutando tal y como estaba sin modificaciones y sin tener que presionar ning\u00fan bot\u00f3n. No hay que esperar ning\u00fan ciclo de carga de firmware.</li> <li>Portatil. El cuarto pilar es que se trata de un programa dise\u00f1ado para que sea portatil por lo que si cambiamos de tipo de placa, esta seguir\u00e1 ejecutando exactamente el mismo programa. La portabilidad se ha llevado al extremos de que si nos hemos olvidado de guardar nuestro programa en el ordenador, simplemente con conectar la placa este se carga en el IDE o tambi\u00e9n podemos, con la placa desconectada, escoger la opci\u00f3n de \"Recuperar proyecto de la placa\" que est\u00e1 en el men\u00fa del icono \"Fichero\". Tengase en cuenta que en este proceso los comentarios se pierden.</li> </ol> <p>Un sencillo ejemplo nos servir\u00e1 para ver todo esto. Se trata de crear un programa en el que un coraz\u00f3n lata en la pantalla a un intervalo determinado por una variable. Con el bot\u00f3n A disminuiremos el intervalo y con el bot\u00f3n B lo aumentaremos. El programa se debe ir creando en orden, con una placa conectada y eject\u00e1ndose la tarea principal, para poder ir viendo los cambios que hagamos como se reflejan en la placa inmediatamente. El programa es:</p> <p> <p> Ejemplo cuatro pilares</p> <p>Basado en Exploring sound with the micro:bit V2 &amp; MicroBlocks, MicroBlocks Team</p> <p></p> <p>Descargar el programa</p>"},{"location":"microSTEAMakers/uB/#configuracion-del-equipo","title":"Configuraci\u00f3n del equipo","text":"<p>Necesitamos un ordenador (\u00a1no un dispositivo m\u00f3vil!. Actualmente en desarrollo) con un puerto USB, un cable USB y una placa soportada. Podemos ejecutar MicroBlocks en un navegador Chromium, Chrome o Edge, o descargarlo como una aplicaci\u00f3n independiente para Linux, Chromebook, Windows o MacOS. Las placas soportadas son:</p> <ul> <li>BBC micro:bit v1 y v2</li> <li>Calliope mini</li> <li>Circuit Playground Express y Bluefruit</li> <li>Citilab ED1</li> <li>Raspberry Pi Pico and Pico W</li> <li>Adafruit Clue</li> <li>M5Stack Core Grey</li> <li>ESP8266 y ESP32</li> </ul> <p>Los instaladores est\u00e1n disponibles para las versiones liberadas listas para descargar la apropiada para nuestro sistema operativo. Si estamos trabajando con Chrome o Edge es muy posible que nos advierta de que estamos descargando un archivo que podr\u00eda da\u00f1ar nuestro ordenador. Debemos ignorar esta y sucesivas advertencias para proceder con la descarga.</p> <p>En Linux se descarga un paquete .deb, ublocks-amd64.deb en concreto para esta ocasi\u00f3n que se instala de forma muy sencilla. Con una terminal abierta en el directorio donde est\u00e1 el archivo .deb tecleamos:</p> <pre><code>dpkg -i ~/Descargas/ublocks-amd64.deb\n</code></pre> <p>Tras breves instantes el programa estar\u00e1 instalado y lo tendremos disponible en aplicaciones, como ya hemos visto antes.</p>"},{"location":"microSTEAMakers/uB/#configuracion-de-la-placa","title":"Configuraci\u00f3n de la placa","text":"<p>El proceso de configuraci\u00f3n de las placas soportadas es muy similar en todas ellas y es seguir el que vamos a ver a continuaci\u00f3n. En este caso particular se toman las im\u00e1genes y animaciones realizando el proceso con una micro:STEAMakers.</p> <p>Conectamos la placa al ordenador y en el men\u00fa de MicroBlocks hacemos clic en el engranaje y seleccionamos la opci\u00f3n 'actualizar firmware de la placa'.</p> <p> <p> Actualizar firmware de la placa</p> <p></p> <p>En el men\u00fa de la ventana emergente tenemos que seleccionar el tipo de placa que hemos conectado.</p> <p> <p> Seleccionar placa</p> <p></p> <p>Si estamos trabajando con MicroBlocks en un navegador, se nos pedir\u00e1 que seleccionemos la placa si a\u00fan no est\u00e1 conectada.</p> <p>Si no hay una placa conectada aparecer\u00e1 el siguiente aviso.</p> <p> <p> No puedo abrir puerto serie</p> <p></p> <p>Si todo est\u00e1 correcto el icono del puerto USB pasa a estar acompa\u00f1ado de un c\u00edrculo verde que indica la conexi\u00f3n.</p> <p> <p> Conexi\u00f3n por puerto serie realizada</p> <p></p> <p>En este video del canal Youtube de MicroBlocks Fun titulado Quick introduction to MicroBlocks for programming a micro:bit (Introducci\u00f3n r\u00e1pida a MicroBlocks para programar una micro:bit) tenemos una introducci\u00f3n r\u00e1pida a MicroBlocks con micro:bit.</p> <p>La informaci\u00f3n en ingl\u00e9s de la guia de usuario y el manual de referencia de bloques tambi\u00e9n pueden resultarnos de gran ayuda.</p>"},{"location":"microSTEAMakers/uB/#actualizar-firmware-en-esp32","title":"Actualizar firmware en ESP32","text":"<p>Los dispositivos ESP son una categor\u00eda especial de Espressif que cuentan con capacidad WIFI. En estas placas se borra totalmente el contenido de la memoria flash de la placa y se carga el firmware m\u00e1s reciente. Tras seleccionar ESP32 se inicia la actualizaci\u00f3n del firmware y aparece informaci\u00f3n del progreso en la pantalla.</p> <p> <p> Actualizar firmware en ESP32</p> <p></p>"},{"location":"microSTEAMakers/uB/#habilitardeshabilitar-autocarga-de-librerias","title":"Habilitar/deshabilitar autocarga de librerias","text":"<p>Una de las cosas buenas del editor MicroBlocks es que siempre trata de simplificar las cosas a los usuarios. Dado que cada placa con microcontrolador tiene diferentes caracter\u00edsticas, funciones y capacidades, MicroBlocks intenta de forma autom\u00e1tica complementar las funcionalidades b\u00e1sicas cargando las bibliotecas que estime necesarias, siempre que la opci\u00f3n est\u00e9 habilitada, que se distinguir\u00e1 porque el check est\u00e1 iluminado.</p> <p> <p> Autocarga de librerias activada</p> <p></p> <p>Cuando se selecciona, este elemento se deshabilita esta funcionalidad y depende del usuario cargar las bibliotecas requeridas.</p> <p> <p> Autocarga de librerias desactivada</p> <p></p>"},{"location":"microSTEAMakers/uB/#habilitardeshabilitar-plugshare","title":"Habilitar/deshabilitar PlugShare","text":"<p>Otra caracter\u00edstica muy interesante del editor de MicroBlocks es que cargar\u00e1 autom\u00e1ticamente un proyecto desde el microcontrolador conecvtado, si no hay otro proyecto cargado en el editor. La activaci\u00f3n y desactivaci\u00f3n de la opci\u00f3n es id\u00e9ntica a la de la carga de librer\u00edas. Si la opci\u00f3n muestra desactivar es que est\u00e1 habilitada por lo que el editor leer\u00e1 el proyecto desde el dispositivo y luego proceder\u00e1 a cargarlo en el editor. Si la opci\u00f3n muestra activar es que la funcionalidad no est\u00e1 habilitada.</p> <p>Esta funci\u00f3n es muy importante porque permite a los usuarios compartir proyectos simplemente intercambiando sus dispositivos f\u00edsicos y conect\u00e1ndolos a un ordenador. No hay que compartir archivos.</p> <p>Podr\u00edamos denominar a esta funcionalidad como \"conecta y comparte\".</p> <p> <p> PlugShare</p> <p></p>"},{"location":"microSTEAMakers/uB/#descripcion-general","title":"Descripci\u00f3n general","text":"<p>En la imagen siguiente vemos los nombres de las distintas partes que componen el editor de MicroBlocks.</p> <p> <p> Partes del editor</p> <p></p> <ul> <li>Bloques. Los bloques est\u00e1n organizados por categorias codificadas por colores. Cuando se selecciona una categor\u00eda se despliegan los correspondientes a esa categoria en la zona denominada paleta de bloques. En la wiki de MicroBlocks podemos encontrar una referencia completa a los bloques (Block Reference) con multitud de ejemplos resueltos.</li> <li>Barra de men\u00fas. Contiene, de izquierda a derecha, el icono en forma de globo terraqueo para configurar el idioma, la rueda dentada para entrar en opciones de MicroBlocks, la hoja de papel que muestra el men\u00fa archivo, el gr\u00e1fico es un men\u00fa con opciones de graficar y conectar y el conector USB para el men\u00fa conectar.</li> <li>Nombre del proyecto. Es el nombre del proyecto actual.</li> <li>Botones de inicio/parada. Son dos iconos que sirven para controlar la ejecuci\u00f3n de los programas.</li> <li>Librerias. Aqu\u00ed se muestran las diversas bibliotecas que se cargan seg\u00fan sea requerido.</li> <li>\u00c1rea de bloques de programa. Es donde se crea el programa o script de usuario y las funciones, que en MicroBlocks se conocen como bloques personalizados.</li> <li>Barra de informaci\u00f3n. Si vamos moviendo el rat\u00f3n por los diversos bloques y \u00e1reas del IDE en esta barra se muestra el tipo de bloque y una breve informaci\u00f3n de ayuda sobre los bloques; as\u00ed como la funcionalidad de las distintas \u00e1reas. La informaci\u00f3n detallada del bloque est\u00e1 disponible a trav\u00e9s del men\u00fa contextual de cada bloque.</li> <li>Controles tama\u00f1o bloques. Estos tres controles permiten cambiar el tama\u00f1o de los bloques aumentando (+) o disminuyendo (-), as\u00ed como establecerlos en el tama\u00f1o predeterminado o del 100% de zoom (=).</li> </ul>"},{"location":"microSTEAMakers/uB/#idioma","title":"Idioma","text":"<p>En la imagen siguiente vemos el men\u00fa desplegado.</p> <p> <p> Idioma</p> <p></p> <p>Simplemente tenemos que seleccionar el idioma deseado de entre los que est\u00e1 traducido MicroBlocks. Esto configura todos los men\u00fas, mensajes y bloques de c\u00f3digo en ese idioma. La operaci\u00f3n puede demorarse unos segundos dependiendo del equipo en el que se est\u00e9 ejecutando el programa.</p>"},{"location":"microSTEAMakers/uB/#microblocks","title":"MicroBlocks","text":"<p>En la figura siguiente vemos este men\u00fa desplegado.</p> <p> <p> MicroBlocks</p> <p></p> <ul> <li>La opci\u00f3n 'Sobre' nos muestra la informaci\u00f3n acerca de MicroBlocks que vemos en la imagen siguiente.</li> </ul> <p> <p> acerca de...</p> <p></p> <ul> <li>Actualizar el firmware de la placa es lo que permite al usuario cargar la \u00faltima versi\u00f3n del firmware en la placa conectada. Dependiendo de los dispositivos conectados y de las condiciones se puede desplegar un men\u00fa para seleccionar el dispositivo concreto. Es la opci\u00f3n que utilizaremos para grabar los programas en la placa.</li> <li>Modo avanzado modifica el men\u00fa MicroBlocks mostrando mas opciones, como vemos en la imagen siguiente.</li> </ul> <p> <p> Modo avanzado</p> <p></p> <ul> <li>La opci\u00f3n borra y reparticiona el firmware en placa ESP borra totalmente el contenido de la memoria y carga el programa actual en placas con capacidad EiFi tipo ESP.</li> <li>La opci\u00f3n inicia el servidor HTTP. Activa (o desactiva si est\u00e1 activo) el servidor HTTP de MicroBlocks en el puerto por defecto 6473, aunque este puede ser cambiado.</li> <li>La opci\u00f3n desactiva autocarga de librerias de placa permite desabilitar la funcionalidad de MicroBlocks de que intente autom\u00e1ticamente complementar las funcionalidades b\u00e1sicas del dispositivo conectado cargando varias bibliotecas.</li> <li>La opci\u00f3n activar PlugShare en proyecto en blanco es una funci\u00f3n que si est\u00e1 habilitada hace que el editor de MicroBlocks cargue autom\u00e1ticamente un proyecto desde el microdispositivo conectado, siempre que no haya un proyecto cargado en el editor. Si el \u00edcono de conexi\u00f3n no es verde y est\u00e1 habilitado PlugShare cuando estamos en un proyecto vac\u00edo, tan pronto como se establezca la conexi\u00f3n USB, MicroBlocks leer\u00e1 y cargar\u00e1 el proyecto que contiene el dispositivo conectado.</li> <li>La opci\u00f3n oculta los bloques avanzados devuelve al men\u00fa MicroBlocks a su estado por defecto, que es la opci\u00f3n mas habitual.</li> </ul>"},{"location":"microSTEAMakers/uB/#archivo","title":"Archivo","text":"<p>En la figura siguiente vemos este men\u00fa desplegado.</p> <p> <p> Archivo</p> <p></p> <ul> <li>Guarda. Cuando demos por finalizado un proyecto, o tengamos que dejarlo para otro momento sin perder el trabajo realizado, debemos guardarlo en el ordenador. Se nos abrir\u00e1 una ventana como la de la imagen siguiente.</li> </ul> <p> <p> Guarda fichero</p> <p></p> <ul> <li>Nuevo. Para crear nuevos proyectos. Si tenemos un programa cargado en el \u00e1rea de trabajo del editor, mostrar\u00e1 un mensaje solicitando confirmaci\u00f3n para eliminar del editor el proyecto activo. En la imagen siguiente vemos el mensaje.</li> </ul> <p> <p> Confirmacion</p> <p></p> <p>Si la contestaci\u00f3n es 'Si' el \u00e1rea de trabajo queda vac\u00eda y las bibliotecas a\u00f1adidas por el usuario se borran.</p> <ul> <li>Abre. Esta opci\u00f3n permite cargar en el editor proyectos .ubp previamente guardados. Si hay un proyecto cargado en el \u00e1rea de trabajo, se mostrar\u00e1 un mensaje de confirmaci\u00f3n (igual que en Nuevo) y se presenta una ventana de di\u00e1logo que permite localizar y abrir el archivo deseado. En la imagen siguiente vemos esta ventana.</li> </ul> <p> <p> Di\u00e1logo abrir fichero</p> <p></p> <p>En la categor\u00eda Ejemplos es donde se presentan muchos proyectos de MicroBlocks para diferentes microdispositivos y opciones de hardware.</p> <ul> <li>Copia URL del proyecto al portapapeles. Cuando trabajamos online permite compartir el proyecto.</li> </ul>"},{"location":"microSTEAMakers/uB/#conectar","title":"Conectar","text":"<p>Al hacer clic en este icono se muestra un men\u00fa que enumera las opciones de conectividad admitidas:</p> <ul> <li>conecta - puertos USB del sistema que tienen microdispositivos conectados.</li> <li>conecta (BLE) - dispositivos con conectiviad BLE.</li> <li>open Boardie - dispositivo vitual BOARDIE.</li> </ul> <p>Las opciones BLE y Boardie solamente est\u00e1n disponibles en las versiones online.</p> <p> <p> Opciones de Conecta</p> <p></p> <p>En la figura siguiente vemos este men\u00fa desplegado. En esta ocasi\u00f3n hay un dispositivo ya conectado y por eso se muestra la opci\u00f3n ddesconecta.</p> <p> <p> Conectar</p> <p></p> <p>Si tenemos varios dispositivos conectados a puertos USB se nos mostrar\u00e1n los mismos para que podamos escoger el dispositivo que nos interesa. Al seleccionar uno y hacer clic en Conectar se establecer\u00e1 una conexi\u00f3n con el dispositivo correspondiente. Si la conexi\u00f3n tiene \u00e9xito, el \u00edcono USB cambiar\u00e1 a uno con un fondo circular verde y se mostrar\u00e1 el nombre del dispositivo, como vemos en la imagen siguiente.</p> <p> <p> Conectado</p> <p></p> <p>Es importante prestar atenci\u00f3n al estado de este icono. MicroBlocks ejecuta muchos procesos internos automatizados y la actualizaci\u00f3n y sincronizaci\u00f3n autom\u00e1tica del c\u00f3digo del proyecto en el dispositivo conectado es uno de ellos, pero esto solo es posible cuando el \u00edcono est\u00e1 en verde.</p> <p>Existen diversas razones por las que la conexi\u00f3n puede interrumpirse. Cuando esto ocurre el icono dejar\u00e1 de estar verde y debemos buscar el motivo de la desconexi\u00f3n.</p> <p>Una vez \"actualizado el firmware en una placa ESP32\" las opciones de conexi\u00f3n que nos ofrece las vemos en la imagen siguiente:</p> <p> <p> Opciones de conexi\u00f3n</p> <p></p> <p>Cuando se hace clic en conecta, se muestra un men\u00fa de puerto USB del sistema, con una lista de todos los dispositivos USB conectados a nuestro ordenador:</p> <p> <p> Opciones de conexi\u00f3n</p> <p></p> <p>Al seleccionar una entrada se muestra una ventana emergente que indica que Microblocks quiere emparejarse con el dispositivo seleccionado:</p> <p> <p> Opci\u00f3n de emparejamiento</p> <p></p> <p>Y al hacer clic en Emparejar se establecer\u00e1 una conexi\u00f3n con el microdispositivo correspondiente.</p> <p>Una vez realizada la conexi\u00f3n, el \u00edcono USB cambiar\u00e1 a uno con un fondo circular verde: </p> <p>Cuando hacemos clic en conecta (BLE) es posible que se nos muestre una ventana como la de la imagen siguiente:</p> <p> <p> Opciones de conexi\u00f3n BLE sin dispositivos disponibles</p> <p></p> <p>Lo que ocurre es que no estamos utilizando un navegador adecuado o su configuraci\u00f3n no es correcta. En el apartado Web Serial ESPTool se dan detalles referentes a esto. Tambi\u00e9n es posible que no tengamos emparejado nuestro dispositivo con el Bluetooth del ordenador:</p> <p> <p> Opciones Bluetooth en ordenador</p> <p></p> <p>Solucionados los problemas de conexi\u00f3n, se muestra una ventana con los puertos BLE del sistema de todos los dispositivos conectados al ordenador.</p> <p>En la animaci\u00f3n vemos el proceso de conexi\u00f3n con dispositivo BLE:</p> <p> <p> conecta (BLE)</p> <p></p> <p>El c\u00f3digo de tres letras que sigue a MicroBlocks sirve para diferenciar unos dispositivos de otros.</p> <p>Al seleccionar una entrada y hacer clic en Emparejar, se establecer\u00e1 una conexi\u00f3n BLE con el microdispositivo correspondiente.</p> <p>Una vez que la conexi\u00f3n se haya realizado correctamente, el \u00edcono USB cambiar\u00e1 a uno con un fondo circular verde: </p> <p>Otra forma de confirmar el estado de conexi\u00f3n de MicroBlocks es haciendo clic en la pesta\u00f1a del navegador correspondiente al IDE de MicroBlocks. Seg\u00fan la conectividad USB o BLE establecida podemos ver una de las dos pantallas que se muestran a continuaci\u00f3n:</p> <p> <p> Conexiones USB y BLE</p> <p></p> <p>La opci\u00f3n \"con\u00e9ctate a Boardie\" la vemos en el apartado Boardie: un tablero virtual para MicroBlocks.</p> <p>Una vez realizada la conexi\u00f3n el aspecto es el siguiente:</p> <p> <p> Opciones de conexi\u00f3n</p> <p></p> <p>Al icono que indica conectado debemos prestarle atenci\u00f3n permanente. MicroBlocks ejecuta multitud de procesos internos que nos facilitan el trabajo con el editor. La actualizaci\u00f3n y sincronizaci\u00f3n del c\u00f3digo del proyecto con el dispositivo conectado es uno de estos procesos. Esto solo es posible con el icono rodeado del c\u00edrculo verde.</p> <p>Aviso</p> <p>Se aconseja no desarrollar ni solucionar problemas en los programas si no est\u00e1 establecida la conexi\u00f3n con el microdispositivo, lo que se indica con la ausencia del c\u00edrculo verde alrededor del icono USB.</p> <p>La conectividad BLE permite trabajar sin estar conectado por cable al ordenador donde se ejecuta el IDE de MicroBlocks. Normalmente, el microcontrolador se conecta al ordenador a trav\u00e9s del cable USB, que proporciona la energ\u00eda necesaria y permite las actividades de programaci\u00f3n proporcionadas por el IDE. Esta conexi\u00f3n requiere que el microcontrolador se encuentre a una distancia que depende de la longitud del cable USB.</p> <p>Compatibilidad con conexi\u00f3n BLE</p> <p>La compatibilidad con conectividad BLE es una nueva caracter\u00edstica de MicroBlocks, introducida a partir de la versi\u00f3n piloto 1.2.52 VM 216 (enero de 2024).</p> <p>Cuando conectamos a trav\u00e9s de BLE, la idea es deshacerse de la conexi\u00f3n por cable USB y obtener la capacidad de tener el dispositivo programado lejos del ordenador. Con la tecnolog\u00eda Bluetooth, esto se traduce en una distancia te\u00f3rica de aproximadamente 100 metros. En la pr\u00e1ctica esta distancia ser\u00e1 de alrededor de 25 metros. Lo que es bastante lejos del ordenador utilizado para programar el microcontrolador.</p> <p>Con esto surge un nuevo problema: alimentar el microcontrolador lejos del ordenador. Sin el cable USB, que proporcionaba la energ\u00eda, ahora hay que utilizar una fuente de alimentaci\u00f3n diferente. Esta puede ser en forma de una conexi\u00f3n de alimentaci\u00f3n USB o una bater\u00eda conectada al microcontrolador. Muchos kits tambi\u00e9n proporcionan sus propias opciones de fuente de alimentaci\u00f3n independiente.</p> <p>Opciones de alimentaci\u00f3n externa</p> <p>Seg\u00fan el entorno en el que estemos trabajando y la edad de los usuarios hay que tener muy presente que las baterias de tipo LiPo, Li-Ion, Ni-MH y bater\u00edas de gel, como la 18650 que soportan algunas shield, pueden resultar muy peligrosas dado su poder de descarga instant\u00e1neo que se puede producir por conexi\u00f3n inadecuada o cortocircuito, cuando no llevan las protecciones adecuadas.  </p> <ul> <li>En el art\u00edculo Pilas y bater\u00edas, todos los tipos y sus diferencias \u2013 LiPo, Li-Ion, Ni-MH, etc. de Solectro disponemos de mas informaci\u00f3n.  </li> <li>El video La GU\u00cdA DEFINITIVA sobre las BATER\u00cdAS LIPO para ROB\u00d3TICA de BricoGeek nos lo explica muy bien para el caso de las LiPo.  </li> <li>El art\u00edculo OJO CON LAS BATER\u00cdAS 18650 publicado en el github de CATEDU. Centro Aragon\u00e9s de Tecnolog\u00edas para la educaci\u00f3n se explica la peligrosidad de este tipo de baterias.</li> </ul>"},{"location":"microSTEAMakers/uB/#botones-de-inicioparada","title":"Botones de inicio/parada","text":"<p>MicroBlocks siempre est\u00e1 en conexi\u00f3n; se puede hacer clic en bloques o secuencias de comandos individuales para ejecutarlos sin hacer clic en el bot\u00f3n de 'Inicio'.</p> <p>La funci\u00f3n principal del bot\u00f3n 'Inicio' es simular el encendido del dispositivo iniciando todas las secuencias de comandos.</p> <p>El bot\u00f3n 'STOP' detiene la ejecuci\u00f3n del proyecto. Todas las variables son desasignadas. Todos los scripts se detienen.</p> <p>El proyecto cargado en el dispositivo estar\u00e1 en el mismo hasta nueva grabaci\u00f3n de firmware. De hecho, podemos desconectarlo, encenderlo desde una fuente externa y ejecutar el proyecto sin el editor.</p>"},{"location":"microSTEAMakers/uB/#programando","title":"Programando","text":"<p>Dado que es la parte en la que mas se trabaja, la creaci\u00f3n de programas, la vemos en su propio apartado.</p> <p>Los bloques colocados en el \u00e1rea de trabajo los podemos mover a voluntad con el rat\u00f3n, as\u00ed como con los men\u00fas contextuales que aparecen al pulsar el bot\u00f3n derecho. Existen una serie de atajos asociados a las teclas Ctrl y Shift que se ir\u00e1n viendo.</p>"},{"location":"microSTEAMakers/uB/#arrastrar-y-soltar","title":"Arrastrar y soltar","text":"<p>El movimiento de arrastrar y soltar es el habitual de entornos de programaci\u00f3n por bloques y adem\u00e1s resulta muy intuitivo. Lo nuevo en Microblocks es que mientras se arrastra aparece una sombra paralela que pretende crear un efecto 3D de que el bloque en movimiento va flotando sobre el \u00e1rea de trabajo, incluso por encima del resto de bloques.</p> <p> <p> Sombra paralela</p> <p></p>"},{"location":"microSTEAMakers/uB/#acoplar-bloques","title":"Acoplar bloques","text":"<p>Cuando nos acercamos con un bloque o un conjunto de bloques a otro u otros bloques, aparecer\u00e1 una l\u00ednea blanca blanca horizontal que designa un punto de acople.</p> <p> <p> L\u00ednea blanca mostrando punto de acople</p> <p></p> <p>Si soltamos el bot\u00f3n del rat\u00f3n cuando se ve esa l\u00ednea blanca el bloque o bloques se acoplar\u00e1n a los del otro lado de la l\u00ednea.</p>"},{"location":"microSTEAMakers/uB/#menu-contextual-de-bloques","title":"Men\u00fa contextual de bloques","text":"<p>Si situamos el cursor sobre un bloque que est\u00e1 en un grupo de bloques y hacemos clic con el bot\u00f3n secundario o derecho, nos aparece un men\u00fa contextual.</p> <p> <p> Men\u00fa contextual en bloques</p> <p></p> <p>Este men\u00fa contextual ofrece mas opciones si hemos seleccionado 'Mostrar bloques avanzados'.</p> <p> <p> Men\u00fa contextual en bloques avanzados</p> <p></p> <ul> <li>Copiar en el portapapeles. Es una operaci\u00f3n que crea una copia de los conjuntos de bloques seleccionados en el portapapeles. Estos se pueden pegar dentro del mismo proyecto o en un proyecto diferente. Tambi\u00e9n es posible copiar/pegar entre el editor online y el local.</li> <li>Copiar al Portapapeles como URL. Esta caracter\u00edstica se utiliza principalmente para incorporar programas MicroBlocks en p\u00e1ginas web, ya que el formato est\u00e1 codificado como URL.</li> </ul>"},{"location":"microSTEAMakers/uB/#menu-contextual-de-area-de-trabajo","title":"Men\u00fa contextual de \u00e1rea de trabajo","text":"<p>Es el men\u00fa contextual que aparece cuando hacemos un clic derecho sobre cualquier zona vac\u00eda del \u00e1rea de trabajo.</p> <p> <p> Men\u00fa contextual en \u00e1rea de trabajo</p> <p></p> <ul> <li>tama\u00f1o de bloques. Cuando se selecciona nos muestra una lista con porcentajes para escoger est\u00e1ndo tildado el valor actual.</li> <li>deshaz el \u00faltimo movimiento. Invierte el \u00faltimo movimiento de bloque completado.</li> <li>limpia. Organiza los conjuntos y los bloques sueltos en la pantalla en una disposici\u00f3n de arriba hacia abajo y de izquierda a derecha desde el lado izquierdo del \u00e1rea de trabajo. Los bloques se organizan en m\u00faltiples columnas determinadas por el ancho del \u00e1rea IDE. \u00a1Esta operaci\u00f3n no se puede deshacer!</li> <li>copia todos los programas al portapapeles. Es la pareja de copiar al portapapeles. Mientras que el primero solamente copia el bloque o el programa, este copia todos los programas del proyecto.</li> <li>copia todos los programas al portapapeles como URL. Es lo mismo que el visto anteriormente.</li> <li>guarda una imagen de todos los programas visibles. Es la versi\u00f3n complementaria de la vista en el men\u00fa contextual de bloques.</li> <li>fija la escala de la imagen a exportar. Al seleccionarla nos muestra una lista con porcentajes para escoger est\u00e1ndo tildado el valor actual.</li> </ul>"},{"location":"microSTEAMakers/uB/#crear-un-programa","title":"Crear un programa","text":"<p>Por defecto, al iniciar Microblocks aunque se haga con la placa conectada, no tendremos disponibles los bloques de manejo de la pantalla de 5x5 LEDs. Estos bloques se encuentran en la libreria 'Pantalla LED' que debemos a\u00f1adir a nuestro programa. Desde 'Control debemos situar los bloques 'fija el color de la pnatalla...', 'al empezar' y 'por siempre'. En la animaci\u00f3n siguiente vemos el proceso y la simulaci\u00f3n.</p> <p> <p> Primer proyecto</p> <p></p> <p>Podemos observar que tras unos instantes el programa comienza a ejecutarse en la placa conectada. En el caso de Microblocks el bloque usado solamente permite un car\u00e1cter y no crea la animaci\u00f3n si ponemos mas de uno. Para hacer esto tenemos disponible otro bloque.</p> <p>Ya tenemos creado el programa y comprobado que funciona, es hora de salvarlo en el ordenador. En la animaci\u00f3n siguiente vemos el proceso de descarga del archivo.</p> <p> <p> Descarga del archivo Primer-proyecto.ubp</p> <p></p> <p>El Primer proyecto lo podemos descargar desde este enlace.</p> <p>Durante el proceso de cambios en el programa podemos comprobar que el conjunto de bloques esta rodeado de una l\u00ednea verde que indica que el programa se est\u00e1 ejecutando en la micro:bit. Lo apropiado cuando vamos a realizar cambios es detener la ejecuci\u00f3n, hacer los cambios y volver a poner la ejecuci\u00f3n en marcha.</p> <p> <p> Realizando cambios</p> <p></p> <p>En la animaci\u00f3n vemos junto a los botones de inicio/parada el icono indicador de progreso de la sincronizaci\u00f3n entre el IDE y la placa.</p>"},{"location":"microSTEAMakers/uB/#enlaces-utiles","title":"Enlaces \u00fatiles","text":"<ul> <li> <p>En la web de Francisco Soldado denominada 'ardutaller' nos vamos a encontrar con una entrada MicroBlocks \u2192 micro:bit donde aparece un video con detalles adicionales sobre el trabajo con esta pareja de software/hardware. En ese mismo enlace tenemos disponibles varias actividades totalmente resueltas tanto en catal\u00e1n como espa\u00f1ol.</p> </li> <li> <p>Este es el video en Youtube integrado en la web titulado Introducion al Software Microblocks. Conexi\u00f3n a Microbit</p> </li> </ul>"},{"location":"microSTEAMakers/wifi_radio/","title":"WiFi y Wifi Radio","text":""},{"location":"microSTEAMakers/wifi_radio/#libreria-wifi-radio","title":"Libreria WiFi Radio","text":"<p>La libreria WiFi ya est\u00e1 descrita en Microblocks, libreria WiFi.</p> <p>La libreria WiFi Radio permite intercambiar mensajes f\u00e1cilmente entre placas con WiFi que est\u00e9n en la misma red.</p> <p>Un mensaje puede contener una cadena, un n\u00famero o ambos. Los mensajes son recibidos por todas las placas del mismo grupo de radio que el remitente.</p> <p>Esta libreria es similar a la libreria Radio utilizable en micro:bit, pero los mensajes se env\u00edan a trav\u00e9s de UDP por WiFi en lugar del sistema de radio Nordic. Dado que UDP admite paquetes m\u00e1s grandes, esta libreria puede enviar cadenas m\u00e1s largas.</p> <p>Esta libreria solo puede comunicarse con otras placas que admitan WiFi; no puede interoperar con placas basadas en Nordic como micro:bit.</p> <p>El uso de diferentes c\u00f3digos de grupo (del 0 al 255) permite que varios proyectos de radio wifi funcionen simult\u00e1neamente en entornos educativos. Un grupo es un canal de comunicaci\u00f3n independiente. Cada microcontrolador env\u00eda y recibe mensajes solo a otros miembros de su grupo. Los mensajes intercambiados por otros grupos se ignoran.</p> <p>El grupo est\u00e1 configurado en cero de forma predeterminada. No es necesario cambiar a otro grupo a menos que otras personas ya est\u00e9n utilizando el grupo cero.</p> <p>La versi\u00f3n WIFI de Radio Messaging utiliza el protocolo UDP de WIFI en modo BROADCAST. Cada mensaje enviado se transmite a trav\u00e9s de la subred IP local. Por lo tanto, antes de utilizar esta funci\u00f3n, es necesario establecer una conexi\u00f3n a una red wifi.</p> <p>Esta red wifi puede ser la propia red local basada en un router de internet o una red configurada mediante la funci\u00f3n Hotspot de la liberia wifi. Para establecer la conectividad o crear un punto de acceso, se debe utilizar uno de los siguientes bloques de la libreria WIFI.</p> <p> <p> </p> <p></p> <p> </p> <p>El dispositivo que env\u00eda mensajes no puede recibir.</p>"},{"location":"microSTEAMakers/wifi_radio/#envia-numero-por-wifi","title":"envia numero ... por wifi","text":"<p>Envia un mensaje que contiene un n\u00famero.</p> <p>En el extremo receptor, el n\u00famero se lee con el bloque del \"\u00faltimo n\u00famero recibido por wifi\".</p>"},{"location":"microSTEAMakers/wifi_radio/#envia-texto-por-wifi","title":"envia texto ... por wifi","text":"<p>Env\u00eda una cadena de texto (hasta 800 bytes aproximadamente). Puedes enviar mensajes m\u00e1s largos dividi\u00e9ndolos en trozos de menor n\u00famero de bytes.</p> <p>En el extremo receptor, la cadena se lee con el bloque \"\u00faltimo texto recibido por wifi\".</p>"},{"location":"microSTEAMakers/wifi_radio/#enviar-par-por-wifi","title":"enviar par ...=... por wifi","text":"<p>Env\u00eda un mensaje que contiene una cadena de texto corta y un n\u00famero. La cadena puede utilizarse para especificar el significado del n\u00famero; por ejemplo, \"luz = 10\" para significar que la lectura del sensor de luz es 10.</p> <p>En el extremo receptor, la parte de la cadena del mensaje se lee con el bloque \"\u00faltimo texto recibido por wifi\" y la parte del n\u00famero con el bloque \"\u00faltimo n\u00famero recibido por wifi\".</p>"},{"location":"microSTEAMakers/wifi_radio/#mensaje-wifi-recibido","title":"\u00bfmensaje wifi recibido?","text":"<p>Devuelve cierto (true) cuando se recibe un nuevo mensaje wifi.</p> <p>Este bloque se utiliza a menudo en un bloque sombrero cuando para procesar los mensajes de radio entrantes. Por ejemplo este script imprime los mensajes de texto entrantes:</p> <p> <p> </p> <p></p>"},{"location":"microSTEAMakers/wifi_radio/#ultimo-numero-recibido-por-wifi","title":"\u00faltimo n\u00famero recibido por wifi","text":"<p>Devuelve la parte num\u00e9rica del \u00faltimo mensaje wifi recibido. Devuelve cero si el mensaje no contiene un n\u00famero.</p>"},{"location":"microSTEAMakers/wifi_radio/#ultimo-texto-recibido-por-wifi","title":"\u00faltimo texto recibido por wifi","text":"<p>Devuelve la parte de cadena de text del \u00faltimo mensaje wifi recibido. Devuelve una cadena vac\u00eda si el mensaje no conten\u00eda ninguna cadena.</p>"},{"location":"microSTEAMakers/wifi_radio/#establecer-grupo-wifi-a-0-255","title":"establecer grupo wifi a ... (0-255)","text":"<p>Establece el n\u00famero de grupo (0-255) utilizado para enviar y recibir mensajes.</p> <p>Un grupo es un canal de comunicaci\u00f3n independiente. Los mensajes enviados por un microcontrolador de un grupo determinado son recibidos por todos los dem\u00e1s microcontroladores de ese grupo. Los mensajes intercambiados por otros grupos se ignoran.</p> <p>El n\u00famero de grupo por defecto es cero. El microcontrolador vuelve a ese grupo cuando se reinicia.</p>"},{"location":"microSTEAMakers/wifi_radio/#ejemplo","title":"Ejemplo","text":"<p>El programa ser\u00e1 el mismo para al menos dos placas con WiFi, aunque hay que recordar que la emisora no puede recibir el mensaje emitido. El funcionamiento ser\u00e1 que al pulsar el bot\u00f3n A se envie un n\u00famero, al pulsar el B una cadena de texto y al pulsar A+B se enviar\u00e1 el par de valores \"Temperatura\" y el valor de la temperatura medida por el sensor de la placa micro:STEAMakers. Cuando se reciba un mensaje wifi se mostrar\u00e1 el resultado tanto en la pantalla de los dispositivos como en el ordenador donde se est\u00e1 ejecutando MicroBlocks.</p> <p> <p> Descargar programa</p> <p></p>"}]}